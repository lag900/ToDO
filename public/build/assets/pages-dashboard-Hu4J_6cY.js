const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/components-heavy-pnHe7s8n.js","assets/vendor-vue-C0IDuzMx.js","assets/vendor-utils-bzb-uA31.js","assets/components-heavy-VbHvuA2A.css"])))=>i.map(i=>d[i]);
import{d as e,w as t,o as a,c as s,a as l,t as r,F as i,r as o,n,b as d,e as c,f as u,g as p,s as g,u as b,h as x,i as v,j as k,k as h,v as m,l as w,m as f,p as y,q as _,x as C,y as D,z as M,T as S,A as T,B as j,C as V}from"./vendor-vue-C0IDuzMx.js";import{a as E,f as B}from"./vendor-utils-bzb-uA31.js";const W={},I=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=e(t.map(e=>{if((e=function(e){return"/build/"+e}(e))in W)return;W[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,l&&s.setAttribute("nonce",l),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function l(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&l(e.reason);return e().catch(l)})},z=e("auth",{state:()=>({user:null,loading:!1,initialized:!1}),actions:{async fetchUser(){this.loading=!0;try{const e=await E.get("/api/me");this.user=e.data}catch(e){this.user=null}finally{this.loading=!1,this.initialized=!0}},async logout(){try{await E.post("/api/logout"),this.user=null,window.location.replace("/login")}catch(e){}},async completeOnboarding(e){try{const t=await E.post("/api/complete-onboarding",{display_name:e});return this.user=t.data,!0}catch(t){throw t}}}}),R=(e,t)=>{const a=e.__vccOpts||e;for(const[s,l]of t)a[s]=l;return a},A=e("workspace",{state:()=>({workspaces:[],currentWorkspace:null,globalMode:"true"===localStorage.getItem("global_mode"),loading:!1,initialized:!1}),actions:{async fetchWorkspaces(){this.loading=!0;try{const e=await E.get("/api/workspaces");if(this.workspaces=e.data,this.currentWorkspace){const e=this.workspaces.find(e=>e.id===this.currentWorkspace.id);e&&(this.currentWorkspace=e)}else if(this.workspaces.length>0){const e=localStorage.getItem("last_workspace_id"),t=this.workspaces.find(t=>t.id===parseInt(e));this.currentWorkspace=t||this.workspaces[0]}this.initialized=!0}catch(e){}finally{this.loading=!1,this.initialized=!0}},switchWorkspace(e){this.currentWorkspace=e,this.globalMode=!1,localStorage.setItem("global_mode","false"),localStorage.setItem("last_workspace_id",e.id)},toggleGlobalMode(){this.globalMode=!this.globalMode,localStorage.setItem("global_mode",this.globalMode)},async createWorkspace(e){try{const t=(await E.post("/api/workspaces",e)).data;return this.workspaces.push(t),this.switchWorkspace(t),t}catch(t){throw t}},async deleteWorkspace(e){try{await E.delete(`/api/workspaces/${e}`),this.workspaces=this.workspaces.filter(t=>t.id!==e),this.currentWorkspace?.id===e&&(this.currentWorkspace=this.workspaces.length>0?this.workspaces[0]:null,this.currentWorkspace?localStorage.setItem("last_workspace_id",this.currentWorkspace.id):localStorage.removeItem("last_workspace_id"))}catch(t){throw t}},async updateWorkspaceSettings(e,t){try{const a=(await E.patch(`/api/workspaces/${e}/settings`,{settings:t})).data,s=this.workspaces.findIndex(t=>t.id===e);return-1!==s&&(this.workspaces[s]=a),this.currentWorkspace?.id===e&&(this.currentWorkspace=a),a}catch(a){throw a}}}}),$={class:"bg-transparent p-0"},Y={key:0},P={class:"flex items-center justify-between mb-8"},L={class:"flex items-center gap-6"},F={class:"text-2xl font-heading font-extrabold text-slate-800 dark:text-white capitalize"},N={class:"flex items-center bg-slate-100 dark:bg-slate-800 p-1 rounded-xl"},O={class:"grid grid-cols-7 gap-3 sm:gap-4"},U={class:"text-[13px] font-heading font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500"},H={class:"flex justify-between items-start mb-4 shrink-0"},G={key:0,class:"text-[10px] uppercase font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-500/10 px-2 py-0.5 rounded-md"},X={class:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar scrollbar-hide hover:scrollbar-default"},q=["onClick"],J={class:"relative shrink-0"},K=["src"],Q={key:0,class:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-indigo-500 rounded-full ring-2 ring-white dark:ring-slate-800"},Z={class:"min-w-0 flex-1"},ee={class:"text-[13px] font-semibold text-slate-700 dark:text-slate-200 leading-tight truncate group-hover/task:text-indigo-600 transition-colors"},te={key:1,class:"space-y-8"},ae={class:"space-y-4"},se={class:"flex items-center justify-between"},le={class:"text-lg font-heading font-extrabold text-slate-800 dark:text-white uppercase tracking-widest"},re={class:"flex gap-2"},ie=["onClick"],oe={class:"text-[10px] font-heading font-extrabold uppercase tracking-widest opacity-60"},ne={class:"text-lg font-heading font-extrabold"},de={key:0,class:"w-1 h-1 rounded-full bg-current"},ce={class:"space-y-4"},ue={class:"flex items-center justify-between"},pe={class:"text-xs font-heading font-extrabold uppercase tracking-[0.2em] text-slate-400"},ge={class:"text-[10px] font-heading font-extrabold uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-500/10 px-2 py-1 rounded-md"},be={class:"space-y-3"},xe=["onClick"],ve={class:"flex items-center justify-between mb-3"},ke={class:"flex items-center gap-2"},he={class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-slate-400"},me={class:"text-base font-bold text-slate-800 dark:text-white mb-2"},we={class:"flex items-center justify-between"},fe={key:0,class:"flex items-center gap-2"},ye=["src"],_e={class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-indigo-600"},Ce={key:1,class:"flex items-center gap-2 opacity-50"},De=["src"],Me={key:0,class:"py-12 text-center bg-slate-50 dark:bg-slate-800/30 rounded-[2.5rem] border border-dashed border-slate-200 dark:border-slate-800"},Se={__name:"CalendarView",props:{tasks:{type:Array,default:()=>[]},monthYear:{type:String,default:""},isMobile:{type:Boolean,default:!1},globalMode:{type:Boolean,default:!1}},emits:["task-click","update:monthYear"],setup(e,{emit:g}){const b=e,x=g,v=p(new Date),k=p(new Date),h=p(0);t(()=>b.monthYear,e=>{if(e){const[t,a]=e.split("-"),s=new Date(t,a-1,1);s.getMonth()===v.value.getMonth()&&s.getFullYear()===v.value.getFullYear()||(v.value=s,k.value.getMonth()!==v.value.getMonth()&&(k.value=new Date(t,a-1,1)))}},{immediate:!0});const m=u(()=>v.value.toLocaleString("default",{month:"long",year:"numeric"})),w=u(()=>{const e=v.value.getFullYear(),t=v.value.getMonth(),a=new Date(e,t+1,0).getDate(),s=[],l=new Date;for(let r=1;r<=a;r++){const a=new Date(e,t,r);s.push({day:r,date:a,isToday:a.toDateString()===l.toDateString()})}return s}),f=u(()=>{const e=[],t=v.value.getFullYear(),a=v.value.getMonth(),s=new Date(t,a,1).getDay(),l=new Date(t,a+1,0).getDate(),r=new Date(t,a,0).getDate();for(let n=s-1;n>=0;n--)e.push({day:r-n,date:new Date(t,a-1,r-n),isOtherMonth:!0});const i=new Date;for(let n=1;n<=l;n++){const s=new Date(t,a,n);e.push({day:n,date:s,isOtherMonth:!1,isToday:s.toDateString()===i.toDateString()})}const o=42-e.length;for(let n=1;n<=o;n++)e.push({day:n,date:new Date(t,a+1,n),isOtherMonth:!0});return e}),y=e=>{const t=new Date(v.value.getFullYear(),v.value.getMonth()+e,1);v.value=t,k.value=new Date(t.getFullYear(),t.getMonth(),1);const a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0");x("update:monthYear",`${a}-${s}`)},_=e=>{if(!e)return[];const t=e.toDateString();return b.tasks.filter(e=>new Date(e.deadline||e.created_at).toDateString()===t)},C=e=>_(e).length>0,D=e=>{if(!e)return"";return`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`},M=e=>{h.value=e.touches[0].clientX},S=e=>{const t=e.changedTouches[0].clientX,a=h.value-t;if(Math.abs(a)>70){const e=k.value.getDate(),t=new Date(v.value.getFullYear(),v.value.getMonth()+1,0).getDate();a>0&&e<t?k.value=new Date(v.value.getFullYear(),v.value.getMonth(),e+1):a<0&&e>1&&(k.value=new Date(v.value.getFullYear(),v.value.getMonth(),e-1))}},T=e=>{switch(e){case"urgent":return"bg-rose-500 text-white";case"high":return"bg-orange-500 text-white";case"medium":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400";default:return"bg-slate-100 text-slate-500 dark:bg-slate-800"}};return(t,u)=>(a(),s("div",$,[e.isMobile?(a(),s("div",te,[l("div",ae,[l("div",se,[l("h2",le,r(m.value),1),l("div",re,[l("button",{onClick:u[2]||(u[2]=e=>y(-1)),class:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500"},[...u[7]||(u[7]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("polyline",{points:"15 18 9 12 15 6"})],-1)])]),l("button",{onClick:u[3]||(u[3]=e=>y(1)),class:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500"},[...u[8]||(u[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("polyline",{points:"9 18 15 12 9 6"})],-1)])])])]),l("div",{class:"flex items-center gap-3 overflow-x-auto pb-4 no-scrollbar scroll-smooth",onTouchstart:M,onTouchend:S},[(a(!0),s(i,null,o(w.value,e=>{return a(),s("button",{key:e.date.toISOString(),onClick:t=>k.value=e.date,class:n(["flex-shrink-0 w-16 h-20 rounded-[1.5rem] flex flex-col items-center justify-center gap-1 transition-all duration-300",[(i=k.value,o=e.date,i&&o&&i.toDateString()===o.toDateString()?"bg-indigo-600 text-white shadow-xl shadow-indigo-500/30 -translate-y-1":"bg-slate-50 dark:bg-slate-800 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700")]])},[l("span",oe,r((t=e.date,t.toLocaleString("default",{weekday:"short"}).slice(0,3))),1),l("span",ne,r(e.day),1),C(e.date)?(a(),s("div",de)):d("",!0)],10,ie);var t,i,o}),128))],32)]),l("div",ce,[l("div",ue,[l("h3",pe,"Tasks for "+r(D(k.value)),1),l("span",ge,r(_(k.value).length)+" Tasks",1)]),l("div",be,[(a(!0),s(i,null,o(_(k.value),e=>(a(),s("div",{key:e.id,onClick:a=>t.$emit("task-click",e.id),class:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 active:scale-[0.98] transition-all"},[l("div",ve,[l("span",{class:n([T(e.priority),"text-[10px] font-heading font-extrabold uppercase tracking-widest px-2.5 py-1 rounded-full"])},r(e.priority),3),l("div",ke,[l("p",he,r(e.status.replace("_"," ")),1)])]),l("h4",me,r(e.title),1),l("div",we,[e.working_by?(a(),s("div",fe,[l("img",{src:e.working_by.avatar||"https://ui-avatars.com/api/?name="+e.working_by.display_name,class:"w-6 h-6 rounded-full border-2 border-indigo-500"},null,8,ye),l("span",_e,"Work by Â· "+r(e.working_by.display_name),1)])):(a(),s("div",Ce,[l("img",{src:e.creator?.avatar||"https://ui-avatars.com/api/?name="+e.creator?.display_name,class:"w-6 h-6 rounded-full grayscale"},null,8,De),u[9]||(u[9]=l("span",{class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-slate-400"},"Waiting Room",-1))]))])],8,xe))),128)),0===_(k.value).length?(a(),s("div",Me,[...u[10]||(u[10]=[c('<svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto text-slate-300 mb-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-70fbfe92><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-70fbfe92></rect><line x1="16" y1="2" x2="16" y2="6" data-v-70fbfe92></line><line x1="8" y1="2" x2="8" y2="6" data-v-70fbfe92></line><line x1="3" y1="10" x2="21" y2="10" data-v-70fbfe92></line><path d="m9 16 2 2 4-4" data-v-70fbfe92></path></svg><p class="text-sm font-bold text-slate-400 uppercase tracking-widest" data-v-70fbfe92>Clear for takeoff!</p>',2)])])):d("",!0)])])])):(a(),s("div",Y,[l("div",P,[l("div",L,[l("h2",F,r(m.value),1),l("div",N,[l("button",{onClick:u[0]||(u[0]=e=>y(-1)),class:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-all text-slate-400 hover:text-indigo-600"},[...u[4]||(u[4]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("polyline",{points:"15 18 9 12 15 6"})],-1)])]),l("button",{onClick:u[1]||(u[1]=e=>y(1)),class:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-all text-slate-400 hover:text-indigo-600"},[...u[5]||(u[5]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("polyline",{points:"9 18 15 12 9 6"})],-1)])])])]),u[6]||(u[6]=l("div",{class:"flex items-center gap-2"},[l("span",{class:"w-3 h-3 rounded-full bg-indigo-500"}),l("p",{class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-slate-400"},"Monthly View")],-1))]),l("div",O,[(a(),s(i,null,o(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e=>l("div",{key:e,class:"text-center mb-2"},[l("span",U,r(e),1)])),64)),(a(!0),s(i,null,o(f.value,(e,c)=>(a(),s("div",{key:c,class:n(["min-h-[240px] p-4 bg-white dark:bg-slate-900 rounded-[1.5rem] border border-slate-200 dark:border-slate-800 shadow-sm transition-all hover:shadow-md flex flex-col relative group",[e.isOtherMonth?"opacity-50 grayscale bg-slate-50 dark:bg-slate-950":"",e.isToday?"ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-950":""]])},[l("div",H,[l("span",{class:n(["text-2xl font-heading font-bold leading-none",e.isToday?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-200"])},r(e.day),3),e.isToday?(a(),s("span",G,"Today")):d("",!0)]),l("div",X,[(a(!0),s(i,null,o(_(e.date),e=>(a(),s("div",{key:e.id,onClick:a=>t.$emit("task-click",e.id),class:"group/task flex items-center gap-3 p-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 hover:bg-white dark:hover:bg-slate-700 hover:shadow-md transition-all cursor-pointer border border-transparent hover:border-slate-100 dark:hover:border-slate-600 select-none relative overflow-hidden"},[l("div",J,[l("img",{src:(e.working_by?e.working_by.avatar:e.creator?.avatar)||"https://ui-avatars.com/api/?name="+(e.working_by?e.working_by.display_name:e.creator?.display_name),class:"w-7 h-7 rounded-full object-cover ring-2 ring-white dark:ring-slate-800 shadow-sm"},null,8,K),"in_progress"===e.status?(a(),s("div",Q)):d("",!0)]),l("div",Z,[l("p",ee,r(e.title),1)])],8,q))),128))])],2))),128))])]))]))}},Te=R(Se,[["__scopeId","data-v-70fbfe92"]]),je={class:"relative z-50"},Ve={class:"w-8 h-8 rounded-lg bg-indigo-50 dark:bg-indigo-500/10 flex items-center justify-center text-indigo-600 transition-transform"},Ee={key:0,class:"text-lg"},Be={key:1,class:"text-lg"},We={key:2,class:"text-lg"},Ie={key:3,class:"text-lg"},ze={class:"flex-1 text-left"},Re={class:"flex items-center gap-1.5 mb-1"},Ae={key:0,class:"text-[8px] px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 rounded-full font-black uppercase tracking-tighter"},$e={class:"text-base font-bold text-slate-800 dark:text-white leading-none truncate w-32"},Ye={key:0,class:"absolute top-full left-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-800 p-2 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200"},Pe={class:"max-h-[300px] overflow-y-auto space-y-1 my-2 custom-scrollbar"},Le=["onClick"],Fe={class:"w-8 h-8 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center text-lg shadow-sm"},Ne={class:"flex-1 text-left"},Oe={class:"text-[11px] font-medium text-slate-400 uppercase tracking-wider"},Ue={key:0,class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},He=["onClick"],Ge={__name:"ContextSwitcher",emits:["create"],setup(e,{emit:t}){const u=t,h=A(),{workspaces:m,currentWorkspace:w}=g(h),f=p(!1),y=e=>{switch(e){case"Personal":return"ðŸ§";case"Work":return"ðŸ’¼";case"Company":return"ðŸ¢";case"Team":return"ðŸ‘¥";default:return"ðŸ“"}},_=()=>{u("create"),f.value=!1},C={mounted(e,t){e.clickOutsideEvent=function(a){e===a.target||e.contains(a.target)||t.value(a,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}};return(e,t)=>(a(),s("div",je,[l("button",{onClick:t[0]||(t[0]=x(e=>f.value=!f.value,["stop"])),class:"flex items-center gap-3 bg-white dark:bg-slate-900 px-3 py-2 sm:py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-indigo-500 hover:shadow-lg transition-all duration-300 group min-w-[200px] h-11 lg:h-auto"},[l("div",Ve,[b(h).globalMode?(a(),s("span",Ee,"ðŸŒ")):"Personal"===b(w)?.type?(a(),s("span",Be,"ðŸ§")):"Work"===b(w)?.type?(a(),s("span",We,"ðŸ’¼")):(a(),s("span",Ie,"ðŸ‘¥"))]),l("div",ze,[l("div",Re,[t[1]||(t[1]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 leading-none"},"Context",-1)),b(w)?.pivot?.role?(a(),s("span",Ae,r(b(w).pivot.role),1)):d("",!0)]),l("p",$e,r(b(h).globalMode?"Global View":b(w)?.name||"Loading..."),1)]),(a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:n(["w-4 h-4 text-slate-400 transition-transform duration-300",{"rotate-180":f.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[...t[2]||(t[2]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),f.value?v((a(),s("div",Ye,[t[5]||(t[5]=l("div",{class:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-400"},"Switch Context",-1)),l("div",Pe,[(a(!0),s(i,null,o(b(m),e=>(a(),s("button",{key:e.id,onClick:t=>(e=>{h.switchWorkspace(e),f.value=!1})(e),class:n([[b(w)?.id===e.id?"bg-indigo-50 dark:bg-indigo-500/10 border-indigo-200 dark:border-indigo-500/30":"border-transparent hover:bg-slate-50 dark:hover:bg-slate-800/50"],"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-all group"])},[l("div",Fe,[l("span",null,r(y(e.type)),1)]),l("div",Ne,[l("p",{class:n(["text-base font-bold leading-none mb-1 transition-colors",[b(w)?.id===e.id?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-300"]])},r(e.name),3),l("p",Oe,r(e.type),1)]),b(w)?.id===e.id?(a(),s("div",Ue)):d("",!0),"owner"===e.pivot?.role?(a(),s("button",{key:1,onClick:x(t=>(async e=>{if(confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`))try{await h.deleteWorkspace(e.id)}catch(t){const e=t.response?.data?.message||"Failed to delete workspace. Please check your permissions or network.";alert(e)}})(e),["stop"]),class:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete Context"},[...t[3]||(t[3]=[c('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-e5ded903><path d="M3 6h18" data-v-e5ded903></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-e5ded903></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-e5ded903></path><line x1="10" y1="11" x2="10" y2="17" data-v-e5ded903></line><line x1="14" y1="11" x2="14" y2="17" data-v-e5ded903></line></svg>',1)])],8,He)):d("",!0)],10,Le))),128))]),t[6]||(t[6]=l("div",{class:"h-px bg-slate-100 dark:bg-slate-800 my-2"},null,-1)),l("button",{onClick:_,class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 dark:bg-slate-800 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 text-slate-600 dark:text-slate-300 hover:text-indigo-600 rounded-xl transition-all text-sm font-bold uppercase tracking-wider border border-dashed border-slate-200 dark:border-slate-700 hover:border-indigo-300"},[...t[4]||(t[4]=[l("span",{class:"text-lg"},"+",-1),k(" Create New Context ",-1)])])])),[[C,()=>f.value=!1]]):d("",!0)]))}},Xe=R(Ge,[["__scopeId","data-v-e5ded903"]]),qe={key:0,class:"fixed inset-0 z-[20000] flex items-center justify-center p-4"},Je={class:"relative bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl p-8 border border-slate-100 dark:border-slate-800 animate-in zoom-in-95 duration-200"},Ke={class:"mb-8"},Qe={class:"text-2xl font-black text-slate-800 dark:text-white mb-2"},Ze={class:"text-slate-500 text-sm"},et={class:"font-bold text-indigo-600"},tt={class:"space-y-6"},at={class:"space-y-4"},st={class:"grid grid-cols-3 gap-2"},lt=["onClick"],rt={class:"mt-2 text-[10px] text-slate-400 font-medium px-1"},it=["disabled"],ot={class:"space-y-4"},nt={class:"space-y-3 max-h-48 overflow-y-auto custom-scrollbar pr-2"},dt={class:"flex items-center gap-3"},ct=["src"],ut={class:"text-sm font-bold text-slate-800 dark:text-white leading-none"},pt={class:"text-[10px] text-slate-400 font-bold uppercase tracking-widest"},gt=["onClick"],bt=R({__name:"ShareModal",props:{show:Boolean,type:String,id:[Number,String],entity:Object},emits:["close"],setup(e,{emit:c}){const g=e,b=p(!1),x=p([]),w=p({email:"",role:"editor"}),f=[{id:"owner",label:"Owner",desc:"Full control over data and sharing."},{id:"editor",label:"Editor",desc:"Can add, edit and delete tasks."},{id:"viewer",label:"Viewer",desc:"Read-only access to all data."}],y=u(()=>f.find(e=>e.id===w.value.role)?.desc),_=u(()=>!0),C=async()=>{if(g.id)try{const e=await E.get(`/api/share/members/${g.type.toLowerCase()}/${g.id}`);x.value=e.data}catch(e){}},D=async()=>{b.value=!0;try{await E.post("/api/share/invite",{email:w.value.email,role:w.value.role,type:g.type,id:g.id}),w.value.email="",C()}catch(e){alert(e.response?.data?.message||"Failed to invite user")}finally{b.value=!1}};return t(()=>g.show,e=>{e&&C()}),h(()=>{g.show&&C()}),(t,c)=>e.show?(a(),s("div",qe,[l("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:c[0]||(c[0]=e=>t.$emit("close"))}),l("div",Je,[l("div",Ke,[l("h2",Qe,"Share "+r(e.type),1),l("p",Ze,[c[2]||(c[2]=k("Invite others to collaborate on ",-1)),l("span",et,r(e.entity?.name),1)])]),l("div",tt,[l("div",at,[l("div",null,[c[3]||(c[3]=l("label",{for:"invite-email",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Email Address",-1)),v(l("input",{id:"invite-email",name:"invite_email","onUpdate:modelValue":c[1]||(c[1]=e=>w.value.email=e),type:"email",placeholder:"colleague@company.com",class:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-bold"},null,512),[[m,w.value.email]])]),l("div",null,[c[4]||(c[4]=l("label",{class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Access Level",-1)),l("div",st,[(a(),s(i,null,o(f,e=>l("button",{key:e.id,onClick:t=>w.value.role=e.id,class:n(["py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border",w.value.role===e.id?"bg-indigo-600 text-white border-transparent shadow-lg shadow-indigo-500/30":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-slate-100 dark:border-slate-700 hover:bg-slate-100"])},r(e.label),11,lt)),64))]),l("p",rt,r(y.value),1)]),l("button",{onClick:D,disabled:b.value||!w.value.email,class:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 disabled:opacity-50 transition-all"},r(b.value?"SENDING...":"INVITE PERSON"),9,it)]),c[7]||(c[7]=l("div",{class:"h-px bg-slate-100 dark:bg-slate-800"},null,-1)),l("div",ot,[c[6]||(c[6]=l("h3",{class:"text-[11px] font-black uppercase tracking-widest text-slate-400 px-1"},"Current Members",-1)),l("div",nt,[(a(!0),s(i,null,o(x.value,e=>(a(),s("div",{key:e.id,class:"flex items-center justify-between group"},[l("div",dt,[l("img",{src:e.avatar||"https://ui-avatars.com/api/?name="+e.display_name,class:"w-8 h-8 rounded-full object-cover"},null,8,ct),l("div",null,[l("p",ut,r(e.display_name),1),l("p",pt,r(e.pivot?.role||"member"),1)])]),_.value?(a(),s("button",{key:0,onClick:t=>(async e=>{if(confirm("Remove this member from access?"))try{await E.delete(`/api/share/members/${g.type.toLowerCase()}/${g.id}/${e}`),C()}catch(t){alert("Failed to remove member")}})(e.id),class:"opacity-0 group-hover:opacity-100 p-2 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-lg transition-all"},[...c[5]||(c[5]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("path",{d:"M18 6 6 18"}),l("path",{d:"m6 6 12 12"})],-1)])],8,gt)):d("",!0)]))),128))])])])])])):d("",!0)}},[["__scopeId","data-v-b72a71d0"]]),xt={class:"relative w-full group"},vt=["id","name","value","placeholder","disabled"],kt={__name:"CustomDatePicker",props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:String,default:""},placeholder:{type:String,default:"dd/mm/yyyy"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:r}){const i=e,o=r,d=p(null);let u=null;return h(()=>{u=B(d.value,{dateFormat:"d/m/Y",allowInput:!0,altInput:!1,defaultDate:i.modelValue,disableMobile:!0,onChange:(e,t)=>{o("update:modelValue",t),o("change",t)}})}),t(()=>i.modelValue,e=>{u&&e!==u.input.value&&u.setDate(e,!1)}),w(()=>{u&&u.destroy()}),(t,r)=>(a(),s("div",xt,[l("input",{ref_key:"inputRef",ref:d,type:"text",id:e.id,name:e.name,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,class:n(["w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-slate-200 transition-all cursor-pointer group-hover:border-slate-300 dark:group-hover:border-slate-600",{"opacity-50 cursor-not-allowed":e.disabled}])},null,10,vt),r[0]||(r[0]=c('<div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div>',1))]))}},ht={class:"p-6 transition-all duration-500 min-h-screen bg-slate-50/50 dark:bg-slate-950/50"},mt={class:"mb-10 space-y-6 px-2"},wt={class:"flex flex-col xl:flex-row items-center justify-between gap-3"},ft={class:"flex items-center gap-6 w-full sm:w-auto"},yt={key:0,class:"flex items-center bg-white dark:bg-slate-900 p-1 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm"},_t={class:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end"},Ct={class:"flex items-center gap-3 bg-white dark:bg-slate-900 p-1.5 pr-4 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm"},Dt=["src"],Mt={class:"hidden lg:block"},St={class:"text-sm font-bold text-slate-800 dark:text-white leading-none"},Tt={class:"flex items-center gap-1 border-l border-slate-100 dark:border-slate-800 ml-2 pl-2"},jt={key:2,class:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700"},Vt={key:0,class:"flex items-center gap-4 pt-4 border-t border-slate-100 dark:border-slate-800/50"},Et={key:0,class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},Bt={key:0},Wt={class:"flex items-center justify-between mb-10"},It={class:"space-y-10"},zt={key:0,class:"space-y-4"},Rt=["value"],At={class:"space-y-4"},$t={class:"grid grid-cols-2 gap-2"},Yt=["onClick"],Pt={class:"space-y-4"},Lt={class:"grid grid-cols-1 gap-2"},Ft=["onClick"],Nt={class:"text-[10px] uppercase tracking-widest"},Ot={key:0,class:"w-1.5 h-1.5 rounded-full bg-indigo-600 animate-pulse"},Ut={class:"space-y-4"},Ht={key:0,class:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2 duration-300"},Gt={class:"space-y-1"},Xt={class:"space-y-1"},qt={class:"mt-12 flex items-center gap-3"},Jt={key:1,class:"flex items-center justify-between px-6 mb-4"},Kt={class:"flex items-center gap-1.5"},Qt={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic"},Zt=["onDragover","onDrop"],ea={class:"flex items-center justify-between mb-8 px-2"},ta={class:"flex items-center gap-3"},aa={class:"text-sm font-heading font-black text-slate-800 dark:text-slate-100 uppercase tracking-widest"},sa={class:"text-[12px] text-slate-400 font-bold uppercase tracking-tighter"},la={class:"space-y-5"},ra=["draggable","onDragstart","onTouchstart","onTouchend","onClick","onDblclick"],ia={class:"flex justify-between items-start mb-4"},oa={class:"flex items-center gap-2"},na={class:"flex items-center -space-x-1.5 flex-row-reverse justify-end"},da=["src","title"],ca=["src","title"],ua=["src","title"],pa=["src","title"],ga=["onClick"],ba=["onClick"],xa={class:"flex-1"},va={class:"font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors mb-2 leading-tight text-lg"},ka={key:0,class:"flex items-center gap-1.5 mb-2"},ha={class:"text-[10px] font-black uppercase tracking-widest text-indigo-600/80 bg-indigo-50 dark:bg-indigo-500/10 px-2 py-0.5 rounded-md"},ma={key:1,class:"flex items-center gap-1.5 mb-2"},wa={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 dark:bg-slate-800/50 px-2 py-0.5 rounded-md"},fa={key:2,class:"mb-3 flex items-center gap-2"},ya={class:"text-[9px] font-black uppercase tracking-[0.15em] px-2.5 py-1 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-lg flex items-center gap-1.5 ring-1 ring-slate-200 dark:ring-slate-700 shadow-sm transition-all group-hover:bg-indigo-50 dark:group-hover:bg-indigo-500/10 group-hover:text-indigo-600 group-hover:ring-indigo-100 dark:group-hover:ring-indigo-500/30"},_a={class:"text-xs"},Ca={key:3,class:"mb-2 flex items-center gap-1.5"},Da={key:4,class:"mb-2 flex items-center gap-1.5"},Ma=["onClick"],Sa={key:0,class:"text-sm text-slate-400 dark:text-slate-500 line-clamp-1 italic leading-relaxed mb-4"},Ta={key:0,class:"mt-4 space-y-4 border-t border-slate-50 dark:border-slate-700/50 pt-4 animate-in slide-in-from-top-2"},ja={class:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed"},Va={key:0,class:"space-y-1.5"},Ea=["onClick"],Ba={key:0,class:"w-2 h-2 rounded-sm bg-emerald-500"},Wa={key:1,class:"flex items-center gap-2"},Ia={class:"h-1 flex-1 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden"},za={class:"text-[11px] font-black text-slate-400"},Ra={class:"flex items-center justify-between mt-6 pt-4 border-t border-slate-50 dark:border-slate-700/50"},Aa={class:"flex items-center gap-3"},$a=["title"],Ya={key:1,class:"flex items-center gap-1.5 text-[12px] font-black text-slate-400 uppercase tracking-widest"},Pa={class:"flex items-center gap-2"},La={class:"text-[9px] font-bold text-slate-300 uppercase tracking-widest"},Fa={key:0,class:"py-12 flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 space-y-4"},Na={key:3,class:"w-full"},Oa={key:0,class:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl p-8 border border-slate-100 dark:border-slate-800 overflow-hidden"},Ua={class:"w-full text-left"},Ha={class:"text-[12px] font-heading font-black uppercase tracking-widest text-slate-400 border-b border-slate-50 dark:border-slate-800"},Ga={key:0,class:"text-indigo-600 ml-1"},Xa={key:0,class:"text-indigo-600 ml-1"},qa={key:0,class:"text-indigo-600 ml-1"},Ja={key:0,class:"text-indigo-600 ml-1"},Ka={class:"divide-y divide-slate-50 dark:divide-slate-800"},Qa=["onClick"],Za={class:"py-6 px-4"},es={class:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 transition-colors"},ts={key:0,class:"text-[9px] font-black uppercase tracking-widest text-slate-400 mt-1"},as={class:"py-6 px-4"},ss={class:"text-[12px] font-black uppercase tracking-tight py-1 px-3 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-500 w-fit block mb-1"},ls={key:0,class:"text-[9px] font-black uppercase text-emerald-500 font-bold tracking-widest pl-1"},rs={key:1,class:"text-[9px] font-black uppercase text-amber-500 font-bold tracking-widest pl-1"},is={class:"py-6 px-4"},os={class:"py-6 px-4"},ns={class:"flex items-center -space-x-2"},ds=["title","src"],cs=["title","src"],us=["title","src"],ps={key:0,class:"text-[8px] font-black uppercase tracking-tighter text-slate-400 mt-1"},gs={class:"py-6 px-4 text-sm font-bold text-slate-400"},bs={class:"py-6 px-4 text-right"},xs={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},vs=["onClick"],ks=["onClick"],hs={key:1,class:"space-y-4 px-2"},ms=["onTouchstart","onTouchend"],ws={class:"flex flex-col gap-4"},fs={class:"flex items-center gap-2"},ys={class:"text-right flex flex-col items-end gap-1"},_s={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 dark:bg-slate-800 px-3 py-1 rounded-lg block"},Cs={key:0,class:"text-[8px] font-black uppercase text-emerald-500 mt-1"},Ds={key:1,class:"text-[8px] font-black uppercase text-amber-500 mt-1"},Ms={class:"space-y-2"},Ss={class:"text-xl font-bold text-slate-800 dark:text-white leading-tight"},Ts={key:0,class:"flex items-center gap-2"},js=["src"],Vs={class:"text-[10px] font-black uppercase tracking-widest text-indigo-600"},Es={key:1,class:"flex items-center gap-2"},Bs={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 dark:bg-slate-800 px-2 py-0.5 rounded"},Ws={class:"flex items-center justify-between pt-4 border-t border-slate-50 dark:border-slate-800"},Is={class:"flex items-center gap-2"},zs={class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},Rs={class:"flex items-center -space-x-1.5"},As=["src","title"],$s={key:0,class:"py-20 text-center bg-white dark:bg-slate-900 rounded-[3rem] border-2 border-dashed border-slate-100 dark:border-slate-800"},Ys={class:"fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center p-4 sm:p-6 z-[9999] overflow-y-auto"},Ps={class:"bg-white dark:bg-slate-900 rounded-[2rem] sm:rounded-[3rem] shadow-2xl w-full max-w-[95%] sm:max-w-lg lg:max-w-xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-800 transition-all duration-500 relative animate-in zoom-in-95 duration-200"},Ls={key:0,class:"absolute top-0 left-0 right-0 bg-indigo-600 text-white px-6 py-2 flex items-center justify-between z-20 rounded-t-[2rem] sm:rounded-t-[3rem]"},Fs={class:"flex items-center gap-2"},Ns={class:"text-[10px] font-black uppercase tracking-widest"},Os={class:"flex-1 overflow-y-auto px-5 sm:px-8 py-6 space-y-5 custom-scrollbar-hide"},Us={class:"flex p-1 bg-slate-50 dark:bg-slate-800/50 rounded-2xl gap-1 overflow-x-auto no-scrollbar"},Hs=["onClick"],Gs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Xs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},qs={key:0},Js=["value"],Ks={class:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800"},Qs={class:"px-5 sm:px-8 py-4 sm:py-6 flex gap-3 sm:gap-4 sticky bottom-0 bg-white dark:bg-slate-900 z-10 rounded-b-[2rem] sm:rounded-b-[3rem] border-t border-slate-50 dark:border-slate-800"},Zs=["disabled"],el={key:6,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center p-4 sm:p-6 z-[9999] overflow-y-auto"},tl={class:"bg-white dark:bg-slate-900 rounded-[2rem] sm:rounded-[3rem] shadow-2xl w-full max-w-[95%] sm:max-w-md max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-800 relative overflow-hidden animate-in zoom-in-95 duration-200"},al={class:"flex-1 overflow-y-auto p-5 sm:p-10 space-y-6"},sl={class:"grid grid-cols-3 gap-2"},ll=["onClick"],rl={class:"p-5 sm:p-10 pt-4 flex gap-4 border-t border-slate-50 dark:border-slate-800"},il={key:0,class:"fixed inset-0 z-[10001] flex items-end"},ol={class:"relative w-full bg-white dark:bg-slate-900 h-full sm:h-auto sm:rounded-t-[2.5rem] flex flex-col shadow-2xl animate-in slide-in-from-bottom duration-300 overflow-hidden"},nl={class:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-800"},dl={class:"flex-1 overflow-y-auto p-8 space-y-10"},cl={class:"space-y-4"},ul={class:"grid grid-cols-3 gap-2 bg-slate-50 dark:bg-slate-800 p-1 rounded-xl"},pl=["onClick"],gl={class:"grid grid-cols-1 gap-6"},bl={class:"space-y-4"},xl={class:"flex gap-4"},vl={class:"space-y-10"},kl={class:"space-y-4"},hl={class:"flex items-center justify-between px-1"},ml={key:0,class:"text-[8px] font-black uppercase text-indigo-500 bg-indigo-50 px-2 py-1 rounded"},wl=["disabled"],fl=["value"],yl={class:"space-y-4"},_l={class:"grid grid-cols-2 gap-3"},Cl=["onClick"],Dl={class:"space-y-4"},Ml={class:"grid grid-cols-2 gap-3"},Sl=["onClick"],Tl={class:"space-y-4"},jl={class:"grid grid-cols-1 gap-3"},Vl={key:0,class:"grid grid-cols-2 gap-4 animate-in fade-in duration-300"},El={class:"p-6 border-t border-slate-100 dark:border-slate-800"},Bl={key:8,class:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900/90 backdrop-blur-md text-white px-8 py-3 rounded-2xl shadow-2xl border border-slate-800 z-[40] flex items-center gap-4 animate-in slide-in-from-bottom-10 duration-500"},Wl=R({__name:"Dashboard",setup(e){const w=j(()=>I(()=>import("./components-heavy-pnHe7s8n.js").then(e=>e.a),__vite__mapDeps([0,1,2,3]))),B=j(()=>I(()=>import("./components-heavy-pnHe7s8n.js").then(e=>e.T),__vite__mapDeps([0,1,2,3]))),W=z(),R=A(),{currentWorkspace:$}=g(R),Y=[{id:"todo",name:"Plan",bgClass:"bg-indigo-500/10",dotClass:"bg-indigo-500"},{id:"in_progress",name:"Work",bgClass:"bg-amber-500/10",dotClass:"bg-amber-500"},{id:"testing",name:"Review",bgClass:"bg-blue-500/10",dotClass:"bg-blue-500"},{id:"done",name:"Complete",bgClass:"bg-emerald-500/10",dotClass:"bg-emerald-500"}],P=u(()=>!1!==($.value?.settings||{}).enable_review_step||R.globalMode?Y:Y.filter(e=>"testing"!==e.id)),L=p("board"),F=p([]),N=p(null),O=p(!1),U=p(!1),H=p(null),G=p(!1),X=p(!1),q=p(null),J=p(!1),K=p([]),Q=p(!1),Z=p(!1),ee=p(0),te=p(!1),ae=p(null),se=p(!1),le=p("priority"),re=p("desc"),ie=e=>{le.value===e?re.value="asc"===re.value?"desc":"asc":(le.value=e,re.value="desc")},oe=()=>{const e=window.innerWidth;Q.value=e<768,Z.value=e>=768&&e<1200};let ne=null;const de=e=>{Q.value&&!ne&&(ne=setTimeout(()=>{const t=e.target.scrollLeft,a=e.target.offsetWidth,s=Math.round(t/a);s!==ee.value&&(ee.value=s,navigator.vibrate&&navigator.vibrate(5)),ne=null},100))},ce=p(null),ue=p({x:0,y:0}),pe=p(!1),ge=p(null),be=p(0),xe=p(null),ve=(e,t)=>{Q.value&&(se.value=!1,ce.value=t.id,pe.value=!1,e.touches&&e.touches[0]&&(ue.value={x:e.touches[0].clientX,y:e.touches[0].clientY}),ae.value=setTimeout(()=>{pe.value||(se.value=!0,navigator.vibrate&&navigator.vibrate([10,30,10]))},600))},ke=e=>{if(clearTimeout(ae.value),e.touches&&e.touches[0]){const t=Math.abs(e.touches[0].clientX-ue.value.x),a=Math.abs(e.touches[0].clientY-ue.value.y);(t>10||a>10)&&(pe.value=!0)}},he=(e,t)=>{if(clearTimeout(ae.value),!se.value&&!pe.value&&ce.value===t.id){const e=Date.now();e-be.value<300&&xe.value===t.id?(N.value=t.id,ge.value=null,be.value=0):(ge.value=t.id,be.value=e,xe.value=t.id)}};h(()=>{oe(),window.addEventListener("resize",oe),window.addEventListener("focus",()=>{Le(!0)});const e=setInterval(()=>{"visible"===document.visibilityState&&Le(!0)},3e4);R.fetchWorkspaces(),f(()=>{window.removeEventListener("resize",oe),window.removeEventListener("focus",Le),clearInterval(e)})});const me=e=>e.subtasks?.length>0||e.checklists?.length>0||e.description,we=e=>!!e.subtasks?.length&&e.subtasks.every(e=>"done"===e.status),fe=u(()=>{if(!$.value||!W.user)return"viewer";if(String($.value.owner_id)===String(W.user.id))return"owner";const e=$.value.members?.find(e=>e.id===W.user.id);return e?.pivot?.role||$.value.pivot?.role||"viewer"}),ye=u(()=>!R.globalMode),_e=e=>`${e.subtasks?.filter(e=>"done"===e.status).length||0}/${e.subtasks?.length||0} Sub-tasks Completed`,Ce=e=>{if(!e.checklists?.length)return 0;return e.checklists.filter(e=>e.is_completed).length/e.checklists.length*100},De=e=>{if(!e||!W.user)return"viewer";const t=e.board?.plan?.workspace;if(!t)return"viewer";const a=R.workspaces.find(e=>e.id===t.id);return a?a.owner_id===W.user.id?"owner":a.pivot?.role||"viewer":t.owner_id===W.user.id?"owner":"viewer"},Me=e=>{if(!e||!W.user)return!1;const t=e.created_by===W.user.id,a=De(e);return t||"owner"===a||"admin"===a},Se=async e=>{if(confirm("Are you sure you want to delete this task?"))try{await E.delete(`/api/tasks/${e.id}`),Le()}catch(t){alert("Delete failed")}},je=[{id:"all",label:"All Time"},{id:"today",label:"Today"},{id:"last_7_days",label:"Last 7 Days"},{id:"last_30_days",label:"Last 30 Days"},{id:"last_360_days",label:"Last 360 Days"}],Ve=p({title:"",description:"",priority:"medium",status:"todo",due_date:"",due_time:"",start_date:"",start_time:"",assigned_to:null,is_public:!0}),Ee=p(null);t(()=>Ve.value.due_date,e=>{if(!e)return void(Ee.value=null);const t=new Date,a=(new Date(e)-t)/36e5;Ee.value=a>0&&a<24?{message:"This is due soon. Set to High priority?",priority:"high"}:a>0&&a<72?{message:"Short deadline. Set to Medium priority?",priority:"medium"}:null}),t(()=>Ve.value.start_date,e=>{e&&!Ve.value.due_date&&(Ve.value.due_date=e)});const Be=()=>{Ee.value&&(Ve.value.priority=Ee.value.priority,Ee.value=null)},We=e=>{switch(e){case"Personal":return"ðŸ§";case"Work":return"ðŸ’¼";case"Company":return"ðŸ¢";case"Team":return"ðŸ‘¥";default:return"ðŸ“"}},Ie=p({priority:null,monthYear:"",timeRange:"all",customStart:"",customEnd:"",workspaceId:null}),ze=u(()=>null!==Ie.value.priority||"all"!==Ie.value.timeRange||!!Ie.value.monthYear||R.globalMode&&null!==Ie.value.workspaceId),Re=()=>{Ie.value={priority:null,monthYear:null,timeRange:"all",workspaceId:null}},Ae=u(()=>F.value.filter(e=>{if(R.globalMode&&Ie.value.workspaceId){const t=e.board?.plan?.workspace_id;if(Number(t)!==Number(Ie.value.workspaceId))return!1}if(Ie.value.priority&&e.priority!==Ie.value.priority)return!1;const t=new Date,a=new Date(e.deadline||e.created_at);if("all"!==Ie.value.timeRange)if("today"===Ie.value.timeRange){const t=(new Date).toISOString().slice(0,10);if((e.deadline||e.created_at).slice(0,10)!==t)return!1}else if("last_7_days"===Ie.value.timeRange){if(a<new Date((new Date).setDate(t.getDate()-7)))return!1}else if("last_14_days"===Ie.value.timeRange){if(a<new Date((new Date).setDate(t.getDate()-14)))return!1}else if("last_30_days"===Ie.value.timeRange){if(a<new Date((new Date).setDate(t.getDate()-30)))return!1}else if("last_360_days"===Ie.value.timeRange){if(a<new Date((new Date).setDate(t.getDate()-360)))return!1}else if("custom"===Ie.value.timeRange){if(Ie.value.customStart&&a<new Date(Ie.value.customStart))return!1;if(Ie.value.customEnd){const e=new Date(Ie.value.customEnd);if(e.setHours(23,59,59),a>e)return!1}}if(Ie.value.monthYear){const[e,t]=Ie.value.monthYear.split("-");if(a.getFullYear()!==parseInt(e)||a.getMonth()+1!==parseInt(t))return!1}return!0}).sort((e,t)=>{let a=0;if("priority"===le.value){const s={urgent:4,high:3,medium:2,low:1};a=(s[e.priority]||0)-(s[t.priority]||0)}else if("due_date"===le.value){a=(e.deadline?new Date(e.deadline).getTime():0)-(t.deadline?new Date(t.deadline).getTime():0)}else"status"===le.value?a=(e.status||"").localeCompare(t.status||""):"title"===le.value&&(a=(e.title||"").localeCompare(t.title||""));return"asc"===re.value?a:-a})),$e=()=>{O.value=!0},Ye=p(new Set),Pe=p(!1),Le=async(e=!1)=>{const t=R.globalMode?"all":$.value?.id;if((t||R.globalMode)&&(!e||!Pe.value)){e||(U.value=!0),e&&(Pe.value=!0);try{const e=await E.get("/api/tasks",{params:{workspace_id:t}}),a=Array.isArray(e.data)?e.data:[];if(0===F.value.length)F.value=a;else{const e=a.map(e=>{if(Ye.value.has(e.id)){const t=F.value.find(t=>t.id===e.id);return t?{...e,status:t.status,assigned_to:t.assigned_to}:e}return e});!1===($.value?.settings||{}).enable_review_step&&e.forEach(e=>{"testing"!==e.status||Ye.value.has(e.id)||(e.status="in_progress",E.patch(`/api/tasks/${e.id}`,{status:"in_progress"}).catch(console.error))}),JSON.stringify(F.value)!==JSON.stringify(e)&&(F.value=e)}}catch(a){}finally{e||(U.value=!1),Pe.value=!1}}};t($,e=>{!R.globalMode&&e&&Le()},{deep:!0}),t(()=>R.globalMode,e=>{Ie.value.workspaceId=null,Le()},{immediate:!0});const Fe=async()=>{if(Ve.value.title){U.value=!0;try{const e={...Ve.value},t=(e,t)=>{if(!e)return null;const a=t||"00:00";if(e.includes("/"))return`${e} ${a}:00`;const[s,l,r]=e.split("-");return`${r}/${l}/${s} ${a}:00`};if(e.due_date&&(e.deadline=t(e.due_date,e.due_time||"23:59")),e.start_date&&(e.start_date=t(e.start_date,e.start_time||"09:00")),$.value){e.workspace_id=$.value.id;const t=$.value.plans?.[0],a=t?.boards?.[0];if(!a)return alert("No boards found in this workspace. Please create a plan and board first."),void(U.value=!1);e.board_id=a.id}const a={...e};delete a.due_date,delete a.due_time,delete a.start_time,await E.post("/api/tasks",a),O.value=!1,Ve.value={title:"",description:"",priority:"medium",status:"todo",due_date:"",due_time:"",start_date:"",start_time:"",assigned_to:null,is_public:!0},await Le()}catch(e){alert("Error: "+(e.response?.data?.message||"Connection failed"))}finally{U.value=!1}}},Ne=p(!1),Oe=p({name:"",type:"Personal",intent:"Personal Use"}),Ue=()=>{Ne.value=!0},He=async()=>{if(Oe.value.name)try{await R.createWorkspace({name:Oe.value.name,type:Oe.value.type,intent:Oe.value.intent}),Ne.value=!1,Oe.value={name:"",type:"Personal",intent:"Personal Use"},await R.fetchWorkspaces()}catch(e){const t=e.response?.data?.message||"Failed to create workspace";alert(t)}},Ge=e=>{if(!e)return"";const t=new Date(e),a=new Date,s=t.toDateString()===a.toDateString(),l=23!==t.getHours()||59!==t.getMinutes(),r=`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`,i=l?t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"";return s?`Today ${i}`.trim():`${r} ${i}`.trim()},qe=e=>{switch(e){case"urgent":return"bg-rose-500 text-white shadow-lg shadow-rose-500/30";case"high":return"bg-orange-500 text-white shadow-lg shadow-orange-500/30";case"medium":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400";default:return"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}},Je=e=>{if(!e)return"No date";const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`};return(e,t)=>{const u=T("router-link");return a(),s("div",ht,[l("header",mt,[l("div",wt,[l("div",ft,[t[52]||(t[52]=l("img",{src:"https://i.postimg.cc/jqQRtc95/thinker-(1).png",alt:"THINKER Logo",class:"h-20 lg:h-30 w-auto object-contain"},null,-1)),y(Xe,{onCreate:Ue})]),Q.value?d("",!0):(a(),s("div",yt,[l("button",{onClick:t[0]||(t[0]=e=>L.value="board"),class:n([["board"===L.value?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"],"px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-colors duration-200"])}," Board ",2),l("button",{onClick:t[1]||(t[1]=e=>L.value="list"),class:n([["list"===L.value?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"],"px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-colors duration-200"])}," List ",2),l("button",{onClick:t[2]||(t[2]=e=>L.value="calendar"),class:n([["calendar"===L.value?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"],"px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-colors duration-200"])}," Calendar ",2)])),l("div",_t,[Q.value?(a(),s("button",{key:0,onClick:t[3]||(t[3]=e=>te.value=!0),class:"p-2 sm:hidden bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-slate-500"},[...t[53]||(t[53]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M4 4h16v2.17a2 2 0 0 1-.58 1.42L13 14v5l-2 2v-7L4.58 7.59A2 2 0 0 1 4 6.17V4z"})],-1)])])):d("",!0),l("div",Ct,[l("img",{src:b(W).user?.avatar||"https://ui-avatars.com/api/?name="+b(W).user?.display_name,class:"w-8 h-8 rounded-full object-cover"},null,8,Dt),l("div",Mt,[l("p",St,r(b(W).user?.display_name),1)]),l("div",Tt,[y(u,{to:"/settings",class:"p-1.5 text-slate-300 hover:text-indigo-600 transition-colors",title:"Settings"},{default:_(()=>[...t[54]||(t[54]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),l("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)])]),_:1}),l("button",{onClick:t[4]||(t[4]=(...e)=>b(W).logout&&b(W).logout(...e)),class:"p-1.5 text-slate-300 hover:text-rose-500 transition-colors"},[...t[55]||(t[55]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M14 8v-2a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"}),l("path",{d:"M9 12h12l-3-3"}),l("path",{d:"M18 15l3-3"})],-1)])])])]),"viewer"===fe.value||b(R).globalMode?b(R).globalMode?(a(),s("div",jt,[...t[57]||(t[57]=[l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},"View Only Mode",-1)])])):d("",!0):(a(),s("button",{key:1,onClick:$e,class:"px-5 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors shadow-lg shadow-indigo-500/20 font-bold flex items-center gap-2"},[...t[56]||(t[56]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("path",{d:"M5 12h14"}),l("path",{d:"M12 5v14"})],-1),l("span",{class:"hidden sm:inline"},"New Task",-1)])]))])]),Q.value?d("",!0):(a(),s("div",Vt,[l("button",{onClick:t[5]||(t[5]=e=>b(R).toggleGlobalMode()),class:n(["flex items-center gap-2 px-4 py-2 rounded-xl transition-colors border",b(R).globalMode?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-slate-400 border-slate-200 dark:border-slate-800 hover:text-indigo-600"])},[...t[58]||(t[58]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})],-1),l("span",{class:"text-[10px] font-black uppercase tracking-widest"},"Global View",-1)])],2),l("button",{onClick:t[6]||(t[6]=e=>J.value=!0),class:n(["flex items-center gap-2 px-4 py-2 rounded-xl border transition-colors",ze.value?"bg-indigo-50 border-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:border-indigo-500/20":"bg-white dark:bg-slate-900 text-slate-400 border-slate-200 dark:border-slate-800 hover:text-indigo-600"])},[t[59]||(t[59]=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M4 4h16v2.17a2 2 0 0 1-.58 1.42L13 14v5l-2 2v-7L4.58 7.59A2 2 0 0 1 4 6.17V4z"})],-1)),t[60]||(t[60]=l("span",{class:"text-[10px] font-black uppercase tracking-widest"},"Filter",-1)),ze.value?(a(),s("div",Et)):d("",!0)],2),b($)&&"owner"===fe.value&&!b(R).globalMode?(a(),s("button",{key:0,onClick:t[7]||(t[7]=e=>G.value=!0),class:"flex items-center gap-2 px-4 py-2 rounded-xl border bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 border-indigo-100 dark:border-indigo-500/20 hover:bg-indigo-600 hover:text-white transition-colors"},[...t[61]||(t[61]=[c('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-c9b4f6ac><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" data-v-c9b4f6ac></path><circle cx="9" cy="7" r="4" data-v-c9b4f6ac></circle><line x1="19" y1="8" x2="19" y2="14" data-v-c9b4f6ac></line><line x1="16" y1="11" x2="22" y2="11" data-v-c9b4f6ac></line></svg><span class="text-[10px] font-black uppercase tracking-widest" data-v-c9b4f6ac>Share</span>',2)])])):d("",!0)]))]),Q.value?d("",!0):(a(),s("div",Bt,[J.value?(a(),s("div",{key:0,class:"fixed inset-0 z-[10000]",onClick:t[15]||(t[15]=e=>J.value=!1)},[t[72]||(t[72]=l("div",{class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"},null,-1)),l("div",{onClick:t[14]||(t[14]=x(()=>{},["stop"])),class:"absolute right-0 top-0 bottom-0 w-96 bg-white dark:bg-slate-900 shadow-2xl border-l border-slate-100 dark:border-slate-800 p-10 overflow-y-auto animate-in slide-in-from-right duration-300"},[l("div",Wt,[t[63]||(t[63]=l("div",null,[l("h2",{class:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-widest"},"Filters"),l("p",{class:"text-[10px] font-black uppercase text-slate-400 mt-1"},"Refine your view")],-1)),l("button",{onClick:t[8]||(t[8]=e=>J.value=!1),class:"p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all"},[...t[62]||(t[62]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l("div",It,[b(R).globalMode?(a(),s("div",zt,[t[65]||(t[65]=l("div",{class:"flex items-center justify-between px-1"},[l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},"Context")],-1)),t[66]||(t[66]=l("label",{for:"filter-workspace",class:"sr-only"},"Filter by Workspace",-1)),v(l("select",{id:"filter-workspace",name:"filter_workspace","onUpdate:modelValue":t[9]||(t[9]=e=>Ie.value.workspaceId=e),class:"w-full h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-6 text-sm font-bold shadow-sm outline-none transition-all"},[t[64]||(t[64]=l("option",{value:null},"All Contexts",-1)),(a(!0),s(i,null,o(b(R).workspaces,e=>(a(),s("option",{key:e.id,value:e.id},r(e.name),9,Rt))),128))],512),[[C,Ie.value.workspaceId]])])):d("",!0),l("div",At,[t[67]||(t[67]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Priority",-1)),l("div",$t,[(a(),s(i,null,o([null,"urgent","high","medium","low"],e=>l("button",{key:e,onClick:t=>Ie.value.priority=e,class:n(["h-12 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all",[Ie.value.priority===e?"bg-indigo-600 text-white border-indigo-600 shadow-md translate-y-[-2px]":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:border-slate-200 dark:hover:border-slate-700"]])},r(e||"All Priorities"),11,Yt)),64))])]),l("div",Pt,[t[68]||(t[68]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Timeline",-1)),l("div",Lt,[(a(),s(i,null,o(je,e=>l("button",{key:e.id,onClick:t=>{Ie.value.timeRange=e.id,Ie.value.monthYear=""},class:n(["h-12 rounded-xl border flex items-center justify-between px-6 transition-all",[Ie.value.timeRange===e.id?"bg-indigo-50 border-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:border-indigo-500/30 font-black":"bg-white dark:bg-slate-900 text-slate-500 border-slate-100 dark:border-slate-800"]])},[l("span",Nt,r(e.label),1),Ie.value.timeRange===e.id?(a(),s("div",Ot)):d("",!0)],10,Ft)),64))])]),l("div",Ut,[l("div",{onClick:t[12]||(t[12]=e=>Ie.value.timeRange="custom"),class:n(["p-6 rounded-2xl border cursor-pointer transition-all","custom"===Ie.value.timeRange?"bg-indigo-50 border-indigo-200 dark:bg-indigo-500/5 dark:border-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent"])},[t[71]||(t[71]=c('<div class="flex items-center gap-3 mb-4" data-v-c9b4f6ac><div class="w-8 h-8 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 flex items-center justify-center" data-v-c9b4f6ac><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-c9b4f6ac><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-c9b4f6ac></rect><line x1="16" y1="2" x2="16" y2="6" data-v-c9b4f6ac></line><line x1="8" y1="2" x2="8" y2="6" data-v-c9b4f6ac></line><line x1="3" y1="10" x2="21" y2="10" data-v-c9b4f6ac></line></svg></div><span class="text-[10px] font-black uppercase tracking-widest text-slate-800 dark:text-white" data-v-c9b4f6ac>Custom Range</span></div>',1)),"custom"===Ie.value.timeRange?(a(),s("div",Ht,[l("div",Gt,[t[69]||(t[69]=l("label",{for:"filter-date-from",class:"text-[8px] font-black uppercase text-slate-400 px-1"},"From",-1)),v(l("input",{id:"filter-date-from",name:"filter_date_from",type:"date","onUpdate:modelValue":t[10]||(t[10]=e=>Ie.value.customStart=e),class:"w-full bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl px-3 py-2 text-[10px] font-bold shadow-sm"},null,512),[[m,Ie.value.customStart]])]),l("div",Xt,[t[70]||(t[70]=l("label",{for:"filter-date-to",class:"text-[8px] font-black uppercase text-slate-400 px-1"},"To",-1)),v(l("input",{id:"filter-date-to",name:"filter_date_to",type:"date","onUpdate:modelValue":t[11]||(t[11]=e=>Ie.value.customEnd=e),class:"w-full bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl px-3 py-2 text-[10px] font-bold shadow-sm"},null,512),[[m,Ie.value.customEnd]])])])):d("",!0)],2)])]),l("div",qt,[l("button",{onClick:Re,class:"flex-1 py-4 rounded-2xl border border-slate-100 dark:border-slate-800 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all"},"Reset All"),l("button",{onClick:t[13]||(t[13]=e=>J.value=!1),class:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl shadow-indigo-500/20 active:scale-95 transition-all"},"Apply Refinement")])])])):d("",!0)])),Q.value&&"board"===L.value?(a(),s("div",Jt,[l("div",Kt,[(a(!0),s(i,null,o(P.value,(e,t)=>(a(),s("div",{key:"indicator-"+e.id,class:n(["h-1.5 rounded-full transition-all duration-300",ee.value===t?"w-6 bg-indigo-600":"w-1.5 bg-slate-200 dark:bg-slate-800"])},null,2))),128))]),l("span",Qt,r(P.value[ee.value].name),1)])):d("",!0),"board"===L.value?(a(),s("div",{key:2,id:"kanban-container",class:n(["flex gap-4 sm:gap-8 transition-all duration-300 overflow-x-auto pb-4 lg:grid",[3===P.value.length?"lg:grid-cols-3":"lg:grid-cols-4",Q.value?"snap-x snap-mandatory scrollbar-hide":"custom-scrollbar"]]),onScroll:de},[(a(!0),s(i,null,o(P.value,(u,p)=>(a(),s("div",{key:u.id,onDragover:x(e=>H.value=u.id,["prevent"]),onDragleave:t[18]||(t[18]=e=>H.value=null),onDrop:e=>(async(e,t)=>{if(H.value=null,!ye.value)return;const a=e.dataTransfer.getData("taskId"),s=F.value.find(e=>e.id==a);if(s){if(s.status===t)return void(H.value=null);Ye.value.add(s.id);let e={status:t};"in_progress"===t&&s.assigned_to!==W.user.id&&(e.assigned_to=W.user.id);const r=s.status,i=s.assigned_to;s.status=t,e.assigned_to&&(s.assigned_to=e.assigned_to);try{await E.patch(`/api/tasks/${a}`,e),"done"!==t||s.delivery||(q.value=s,X.value=!0),setTimeout(()=>{Ye.value.delete(s.id),Pe.value||Le(!0)},500)}catch(l){Ye.value.delete(s.id),s.status=r,s.assigned_to=i,alert("Failed to sync. "+(l.response?.data?.message||"Server error"))}}})(e,u.id),class:n(["flex-shrink-0 w-[85vw] sm:w-[70vw] lg:w-auto snap-center pl-4 first:pl-0 lg:pl-0",["rounded-[2.5rem] p-4 sm:p-6 min-h-[500px] lg:min-h-[700px] transition-all duration-500 border-2 border-dashed",H.value===u.id?"bg-slate-200/80 dark:bg-slate-800/80 border-indigo-400 shadow-2xl z-10":"bg-slate-100/40 dark:bg-slate-900/40 border-slate-200/50 dark:border-slate-800/50"]])},[l("header",ea,[l("div",ta,[l("div",{class:n(["w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg",u.bgClass])},[l("span",{class:n(["w-3 h-3 rounded-full",u.dotClass])},null,2)],2),l("div",null,[l("h3",aa,r(u.name),1),l("p",sa,r(Ae.value.filter(e=>e.status===u.id).length)+" Tasks",1)])])]),l("div",la,[(a(!0),s(i,null,o(Ae.value.filter(e=>e.status===u.id),p=>(a(),s("div",{key:p.id,draggable:!Q.value||se.value&&ce.value===p.id,onDragstart:e=>((e,t)=>{e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("taskId",t.id),setTimeout(()=>{e.target.classList.add("dragging"),e.target.style.opacity="0.4"},0)})(e,p),onDragend:t[16]||(t[16]=e=>{return t=e,ce.value=null,H.value=null,t.target.classList.remove("dragging"),void(t.target.style.opacity="1");var t}),onTouchstart:e=>ve(e,p),onTouchend:e=>he(0,p),onTouchmove:t[17]||(t[17]=e=>ke(e)),onClick:e=>(e=>{Q.value||(ge.value=e.id)})(p),onDblclick:e=>(e=>{Q.value||(N.value=e.id,ge.value=null)})(p),class:n(["bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-xl shadow-slate-200/40 dark:shadow-none border border-slate-100 dark:border-slate-700/50 hover:border-indigo-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all duration-300 cursor-pointer group relative overflow-hidden transition-pop active-tap select-none",{"ring-4 ring-indigo-500/20 scale-105 z-20":se.value&&ce.value===p.id,"ring-2 ring-indigo-500 border-indigo-500":ge.value===p.id&&!Q.value}])},[l("div",{class:n(["absolute left-0 top-0 bottom-0 w-1",u.dotClass])},null,2),l("div",ia,[l("span",{class:n([qe(p.priority),"text-[12px] uppercase font-black px-3 py-1 rounded-full tracking-widest"])},r(p.priority),3),l("div",oa,[l("div",na,[p.working_by?(a(),s("img",{key:0,src:p.working_by.avatar||"https://ui-avatars.com/api/?name="+p.working_by.display_name,title:"Working: "+p.working_by.display_name,class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 border-2 border-indigo-500 hover:z-20 hover:scale-110 transition-all object-cover relative z-30"},null,8,da)):d("",!0),!p.assignee||p.working_by&&p.assignee.id===p.working_by.id?d("",!0):(a(),s("img",{key:1,src:p.assignee?.avatar||"https://ui-avatars.com/api/?name="+p.assignee?.display_name,title:"Assigned to: "+p.assignee?.display_name,class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 hover:z-20 hover:scale-110 transition-all object-cover relative z-20"},null,8,ca)),!p.assigned_by||p.assigned_by.id===p.creator?.id||p.assigned_by.id===p.assignee?.id||p.working_by&&p.assigned_by.id===p.working_by.id?d("",!0):(a(),s("img",{key:2,src:p.assigned_by.avatar||"https://ui-avatars.com/api/?name="+p.assigned_by.display_name,title:"Assigned by: "+p.assigned_by.display_name,class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 hover:z-20 hover:scale-110 transition-all object-cover relative z-15"},null,8,ua)),!p.creator||p.assignee&&p.assignee.id===p.creator.id||p.working_by&&p.creator.id===p.working_by.id?d("",!0):(a(),s("img",{key:3,src:p.creator?.avatar||"https://ui-avatars.com/api/?name="+(p.creator?.display_name||"System"),title:"Created by: "+(p.creator?.display_name||"System"),class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 hover:z-20 hover:scale-110 transition-all object-cover"},null,8,pa))]),Me(p)?(a(),s("button",{key:0,onClick:x(e=>Se(p),["stop"]),class:"opacity-0 group-hover:opacity-100 p-1.5 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-lg transition-all"},[...t[73]||(t[73]=[c('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-c9b4f6ac><path d="M3 6h18" data-v-c9b4f6ac></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-c9b4f6ac></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-c9b4f6ac></path><line x1="10" y1="11" x2="10" y2="17" data-v-c9b4f6ac></line><line x1="14" y1="11" x2="14" y2="17" data-v-c9b4f6ac></line></svg>',1)])],8,ga)):d("",!0)])]),l("div",{class:"flex items-start justify-between gap-2",onClick:e=>N.value=p.id},[l("div",xa,[l("h4",va,r(p.title),1),"in_progress"===u.id&&p.working_by?(a(),s("div",ka,[l("span",ha," Work by Â· "+r(p.working_by.display_name),1)])):d("",!0),p.assigned_by?(a(),s("div",ma,[l("span",wa," Assigned by Â· "+r(p.assigned_by.display_name),1)])):d("",!0),b(R).globalMode?(a(),s("div",fa,[l("span",ya,[l("span",_a,r(We(p.board?.plan?.workspace?.type)),1),k(" "+r(p.board?.plan?.workspace?.name),1)])])):d("",!0),"done"===p.status&&p.deliveries?.length>0?(a(),s("div",Ca,[...t[74]||(t[74]=[l("span",{class:"text-[10px] font-black uppercase tracking-[0.2em] bg-emerald-500 text-white px-2.5 py-1 rounded-lg shadow-lg shadow-emerald-500/20 flex items-center gap-1"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"4"},[l("polyline",{points:"20 6 9 17 4 12"})]),k(" Delivered ")],-1)])])):d("",!0),"done"!==p.status||p.deliveries&&0!==p.deliveries.length?d("",!0):(a(),s("div",Da,[...t[75]||(t[75]=[l("span",{class:"text-[10px] font-black uppercase tracking-[0.2em] bg-amber-100 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400 px-2.5 py-1 rounded-lg border border-amber-200 dark:border-amber-500/20"}," Done Â· Needs Delivery ",-1)])]))]),me(p)?(a(),s("button",{key:0,onClick:x(e=>{return t=p.id,void(K.value.includes(t)?K.value=K.value.filter(e=>e!==t):K.value.push(t));var t},["stop"]),class:n(["p-1 text-slate-300 hover:text-indigo-600 transition-all transform",{"rotate-180":K.value.includes(p.id)}])},[...t[76]||(t[76]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("path",{d:"m6 9 6 6 6-6"})],-1)])],10,Ma)):d("",!0)],8,ba),p.description&&!K.value.includes(p.id)?(a(),s("p",Sa,r(p.description),1)):d("",!0),y(S,{name:"expand"},{default:_(()=>[K.value.includes(p.id)?(a(),s("div",Ta,[l("p",ja,r(p.description||"No description provided."),1),p.subtasks?.length?(a(),s("div",Va,[t[77]||(t[77]=l("p",{class:"text-[11px] font-black uppercase tracking-widest text-slate-400"},"Sub-tasks",-1)),(a(!0),s(i,null,o(p.subtasks,t=>(a(),s("div",{key:t.id,class:"flex items-center gap-2 text-[11px] font-bold text-slate-500 group/sub"},[l("button",{onClick:x(a=>e.toggleSubtask(p,t),["stop"]),class:"w-4 h-4 rounded-md border-2 border-slate-300 dark:border-slate-600 flex items-center justify-center transition-all hover:border-indigo-500"},["done"===t.status?(a(),s("div",Ba)):d("",!0)],8,Ea),l("span",{class:n({"line-through opacity-50":"done"===t.status})},r(t.title),3)]))),128))])):d("",!0),p.checklists?.length?(a(),s("div",Wa,[t[78]||(t[78]=l("p",{class:"text-[11px] font-black uppercase tracking-widest text-slate-400"},"Checklist",-1)),l("div",Ia,[l("div",{class:"h-full bg-indigo-500 transition-all duration-500",style:V({width:Ce(p)+"%"})},null,4)]),l("span",za,r(p.checklists.filter(e=>e.is_completed).length)+"/"+r(p.checklists.length),1)])):d("",!0)])):d("",!0)]),_:2},1024),l("div",Ra,[l("div",Aa,[p.subtasks?.length?(a(),s("div",{key:0,class:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 dark:bg-slate-800/80 rounded-md border border-slate-100 dark:border-slate-700/50 group/sub transition-all",title:_e(p)},[(a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:n(["w-3 h-3",we(p)?"text-emerald-500":"text-slate-400"]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[...t[79]||(t[79]=[l("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},null,-1),l("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),l("path",{d:"m9 14 2 2 4-4"},null,-1)])],2)),l("span",{class:n(["text-[9px] font-black uppercase tracking-widest leading-none mt-0.5",we(p)?"text-emerald-500":"text-slate-400"])},r(p.subtasks.filter(e=>"done"===e.status).length)+"/"+r(p.subtasks.length),3)],8,$a)):d("",!0),p.deadline?(a(),s("div",Ya,[t[80]||(t[80]=c('<svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-c9b4f6ac><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-c9b4f6ac></rect><line x1="16" y1="2" x2="16" y2="6" data-v-c9b4f6ac></line><line x1="8" y1="2" x2="8" y2="6" data-v-c9b4f6ac></line><line x1="3" y1="10" x2="21" y2="10" data-v-c9b4f6ac></line></svg>',1)),l("span",null,r(Ge(p.deadline)),1)])):d("",!0)]),l("div",Pa,[l("div",La,r(Je(p.created_at)),1)])])],42,ra))),128)),0===Ae.value.filter(e=>e.status===u.id).length?(a(),s("div",Fa,[...t[81]||(t[81]=[c('<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 opacity-20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" data-v-c9b4f6ac><rect width="18" height="18" x="3" y="3" rx="2" data-v-c9b4f6ac></rect><path d="M3 9h18" data-v-c9b4f6ac></path><path d="M9 21V9" data-v-c9b4f6ac></path></svg><p class="text-sm font-black uppercase tracking-widest opacity-50" data-v-c9b4f6ac>Empty Slot</p>',2)])])):d("",!0)])],42,Zt))),128))],34)):"list"===L.value?(a(),s("div",Na,[Q.value?(a(),s("div",hs,[(a(!0),s(i,null,o(Ae.value,e=>(a(),s("div",{key:e.id,onTouchstart:t=>ve(t,e),onTouchmove:ke,onTouchend:t=>he(0,e),class:"relative bg-white dark:bg-slate-900 rounded-[2.5rem] p-6 shadow-xl border border-slate-100 dark:border-slate-800 transition-all active:scale-[0.98] overflow-hidden"},[l("div",ws,[l("div",fs,[l("span",{class:n([qe(e.priority),"text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full shadow-sm"])},r(e.priority),3)]),l("div",ys,[l("span",_s,r(e.status.replace("_"," ")),1),l("span",{class:n(["text-[8px] font-black uppercase tracking-tighter px-2 py-0.5 rounded-md border",e.is_public?"bg-indigo-50 text-indigo-600 border-indigo-100 dark:bg-indigo-500/10 dark:border-indigo-500/20":"bg-slate-50 text-slate-500 border-slate-100 dark:bg-slate-800/50 dark:border-slate-800"])},r(e.is_public?"Public Team":"Private"),3),"done"===e.status?(a(),s(i,{key:0},[e.delivery?(a(),s("span",Cs,"Delivered")):(a(),s("span",Ds,"Pending Delivery"))],64)):d("",!0)]),l("div",Ms,[l("h3",Ss,r(e.title),1),e.working_by?(a(),s("div",Ts,[l("img",{src:e.working_by.avatar||"https://ui-avatars.com/api/?name="+e.working_by.display_name,class:"w-6 h-6 rounded-full border-2 border-indigo-500 shadow-sm"},null,8,js),l("span",Vs,"Work by Â· "+r(e.working_by.display_name),1)])):d("",!0),e.assigned_by?(a(),s("div",Es,[l("span",Bs,"Assigned by Â· "+r(e.assigned_by.display_name),1)])):d("",!0)]),l("div",Ws,[l("div",Is,[t[90]||(t[90]=c('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-c9b4f6ac><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-c9b4f6ac></rect><line x1="16" y1="2" x2="16" y2="6" data-v-c9b4f6ac></line><line x1="8" y1="2" x2="8" y2="6" data-v-c9b4f6ac></line><line x1="3" y1="10" x2="21" y2="10" data-v-c9b4f6ac></line></svg>',1)),l("span",zs,r(Je(e.deadline||e.created_at)),1)]),l("div",Rs,[l("img",{src:e.creator?.avatar||"https://ui-avatars.com/api/?name="+e.creator?.display_name,title:"Created by: "+(e.creator?.display_name||"System"),class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-900 grayscale"},null,8,As)])])]),t[91]||(t[91]=l("div",{class:"absolute inset-y-0 -left-16 w-16 bg-emerald-500 flex items-center justify-center text-white transition-opacity opacity-0"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("polyline",{points:"20 6 9 17 4 12"})])],-1))],40,ms))),128)),0===Ae.value.length?(a(),s("div",$s,[...t[92]||(t[92]=[l("div",{class:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2z"})])],-1),l("p",{class:"text-sm font-black uppercase tracking-[0.2em] text-slate-400"},"No tasks found",-1)])])):d("",!0)])):(a(),s("div",Oa,[l("table",Ua,[l("thead",null,[l("tr",Ha,[l("th",{class:"pb-6 px-4 cursor-pointer hover:text-indigo-600 transition-colors select-none",onClick:t[19]||(t[19]=e=>ie("title"))},[t[82]||(t[82]=k(" Task Name ",-1)),"title"===le.value?(a(),s("span",Ga,r("asc"===re.value?"â†‘":"â†“"),1)):d("",!0)]),l("th",{class:"pb-6 px-4 cursor-pointer hover:text-indigo-600 transition-colors select-none",onClick:t[20]||(t[20]=e=>ie("status"))},[t[83]||(t[83]=k(" Status ",-1)),"status"===le.value?(a(),s("span",Xa,r("asc"===re.value?"â†‘":"â†“"),1)):d("",!0)]),l("th",{class:"pb-6 px-4 cursor-pointer hover:text-indigo-600 transition-colors select-none",onClick:t[21]||(t[21]=e=>ie("priority"))},[t[84]||(t[84]=k(" Priority ",-1)),"priority"===le.value?(a(),s("span",qa,r("asc"===re.value?"â†‘":"â†“"),1)):d("",!0)]),t[86]||(t[86]=l("th",{class:"pb-6 px-4"},"People",-1)),l("th",{class:"pb-6 px-4 cursor-pointer hover:text-indigo-600 transition-colors select-none",onClick:t[22]||(t[22]=e=>ie("due_date"))},[t[85]||(t[85]=k(" Due Date ",-1)),"due_date"===le.value?(a(),s("span",Ja,r("asc"===re.value?"â†‘":"â†“"),1)):d("",!0)]),t[87]||(t[87]=l("th",{class:"pb-6 px-4 text-right"},"Actions",-1))])]),l("tbody",Ka,[(a(!0),s(i,null,o(Ae.value,e=>(a(),s("tr",{key:e.id,onClick:t=>N.value=e.id,class:"group cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[l("td",Za,[l("p",es,r(e.title),1),b(R).globalMode?(a(),s("p",ts,r(e.board?.plan?.workspace?.name)+" Â· "+r(e.board?.plan?.workspace?.type),1)):d("",!0)]),l("td",as,[l("span",ss,r(e.status.replace("_"," ")),1),"done"===e.status?(a(),s(i,{key:0},[e.deliveries?.length>0?(a(),s("span",ls,"Delivered")):(a(),s("span",rs,"Pending Delivery"))],64)):d("",!0)]),l("td",is,[l("span",{class:n([qe(e.priority),"text-[12px] font-black uppercase tracking-widest px-3 py-1 rounded-full"])},r(e.priority),3)]),l("td",os,[l("div",ns,[l("img",{title:"Creator: "+e.creator?.display_name,src:e.creator?.avatar||"https://ui-avatars.com/api/?name="+e.creator?.display_name,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-900 object-cover shadow-sm"},null,8,ds),e.assigned_by&&e.assigned_by.id!==e.creator?.id?(a(),s("img",{key:0,title:"Assigned by: "+e.assigned_by.display_name,src:e.assigned_by.avatar||"https://ui-avatars.com/api/?name="+e.assigned_by.display_name,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-900 object-cover shadow-sm z-10"},null,8,cs)):d("",!0),e.working_by?(a(),s("img",{key:1,title:"Working: "+e.working_by.display_name,src:e.working_by.avatar||"https://ui-avatars.com/api/?name="+e.working_by.display_name,class:"w-8 h-8 rounded-full border-2 border-indigo-500 object-cover shadow-md z-20"},null,8,us)):d("",!0)]),e.assigned_by?(a(),s("p",ps,"By: "+r(e.assigned_by.display_name),1)):d("",!0)]),l("td",gs,r(Je(e.deadline||e.created_at)),1),l("td",bs,[l("div",xs,["viewer"!==De(e)?(a(),s("button",{key:0,onClick:x(t=>N.value=e.id,["stop"]),class:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 rounded-xl transition-all",title:"Edit Task"},[...t[88]||(t[88]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,vs)):d("",!0),Me(e)?(a(),s("button",{key:1,onClick:x(t=>Se(e),["stop"]),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-xl transition-all",title:"Delete Task"},[...t[89]||(t[89]=[c('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-c9b4f6ac><path d="M3 6h18" data-v-c9b4f6ac></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-c9b4f6ac></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-c9b4f6ac></path><line x1="10" y1="11" x2="10" y2="17" data-v-c9b4f6ac></line><line x1="14" y1="11" x2="14" y2="17" data-v-c9b4f6ac></line></svg>',1)])],8,ks)):d("",!0)])])],8,Qa))),128))])])]))])):"calendar"===L.value?(a(),D(Te,{key:4,tasks:Ae.value,"is-mobile":Q.value,"global-mode":b(R).globalMode,monthYear:Ie.value.monthYear,"onUpdate:monthYear":t[23]||(t[23]=e=>Ie.value.monthYear=e),onTaskClick:t[24]||(t[24]=e=>N.value=e)},null,8,["tasks","is-mobile","global-mode","monthYear"])):d("",!0),N.value?(a(),D(b(w),{key:5,taskId:N.value,role:fe.value,onClose:t[25]||(t[25]=e=>N.value=null),onUpdated:t[26]||(t[26]=e=>Le(!0))},null,8,["taskId","role"])):d("",!0),v(l("div",Ys,[l("div",Ps,[y(S,{name:"fade"},{default:_(()=>[Ee.value?(a(),s("div",Ls,[l("div",Fs,[t[93]||(t[93]=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)),l("span",Ns,r(Ee.value.message),1)]),l("button",{onClick:Be,class:"text-[10px] font-black underline uppercase tracking-widest"},"Apply")])):d("",!0)]),_:1}),t[105]||(t[105]=l("div",{class:"px-5 sm:px-8 py-4 sm:py-6 sticky top-0 bg-white dark:bg-slate-900 z-30 rounded-t-[2rem] sm:rounded-t-[3rem] border-b border-slate-50 dark:border-slate-800/50"},[l("h2",{class:"text-xl sm:text-2xl font-black text-slate-800 dark:text-white mb-0.5"},"Create Task"),l("p",{class:"text-slate-500 text-[10px] sm:text-xs"},"Define your next milestone")],-1)),l("div",Os,[l("div",null,[t[94]||(t[94]=l("label",{class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Urgency",-1)),l("div",Us,[(a(),s(i,null,o(["low","medium","high","urgent"],e=>l("button",{key:e,onClick:t=>Ve.value.priority=e,class:n(["flex-1 min-w-[70px] py-2.5 sm:py-3 rounded-xl text-[10px] sm:text-[11px] font-black uppercase tracking-widest transition-all",Ve.value.priority===e?"urgent"===e?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":"high"===e?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":"medium"===e?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-300 dark:bg-slate-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"])},r(e),11,Hs)),64))])]),l("div",null,[t[95]||(t[95]=l("label",{for:"task-title",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Task Title",-1)),v(l("input",{id:"task-title",name:"task_title","onUpdate:modelValue":t[27]||(t[27]=e=>Ve.value.title=e),type:"text",placeholder:"What needs to be done?",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3.5 sm:py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium text-sm sm:text-base"},null,512),[[m,Ve.value.title]])]),l("div",Gs,[l("div",null,[t[96]||(t[96]=l("label",{for:"task-start-date",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Start Date",-1)),y(kt,{id:"task-start-date",modelValue:Ve.value.start_date,"onUpdate:modelValue":t[28]||(t[28]=e=>Ve.value.start_date=e)},null,8,["modelValue"])]),l("div",null,[t[97]||(t[97]=l("label",{for:"task-start-time",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Start Time",-1)),v(l("input",{id:"task-start-time",name:"start_time","onUpdate:modelValue":t[29]||(t[29]=e=>Ve.value.start_time=e),type:"time",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-slate-200"},null,512),[[m,Ve.value.start_time]])])]),l("div",Xs,[l("div",null,[t[98]||(t[98]=l("label",{for:"task-due-date",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Due Date",-1)),y(kt,{id:"task-due-date",modelValue:Ve.value.due_date,"onUpdate:modelValue":t[30]||(t[30]=e=>Ve.value.due_date=e)},null,8,["modelValue"])]),l("div",null,[t[99]||(t[99]=l("label",{for:"task-due-time",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Due Time",-1)),v(l("input",{id:"task-due-time",name:"due_time","onUpdate:modelValue":t[31]||(t[31]=e=>Ve.value.due_time=e),type:"time",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-slate-200"},null,512),[[m,Ve.value.due_time]])])]),l("div",null,[t[100]||(t[100]=l("label",{for:"task-description",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Description",-1)),v(l("textarea",{id:"task-description",name:"task_description","onUpdate:modelValue":t[32]||(t[32]=e=>Ve.value.description=e),placeholder:"Add some context...",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium text-sm",rows:"3"},null,512),[[m,Ve.value.description]])]),b($)&&b($).members?(a(),s("div",qs,[t[102]||(t[102]=l("label",{for:"task-assignee",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Assign to",-1)),v(l("select",{id:"task-assignee",name:"assigned_to","onUpdate:modelValue":t[33]||(t[33]=e=>Ve.value.assigned_to=e),class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-white"},[t[101]||(t[101]=l("option",{value:null},"Unassigned",-1)),(a(!0),s(i,null,o(b($).members,e=>(a(),s("option",{key:e.id,value:e.id},r(e.display_name),9,Js))),128))],512),[[C,Ve.value.assigned_to]])])):d("",!0),l("div",Ks,[t[103]||(t[103]=l("div",{class:"space-y-1"},[l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-700 dark:text-slate-200"},"Public Visibility"),l("p",{class:"text-[9px] font-medium text-slate-500 dark:text-slate-400"},"Everyone in workspace can see this task")],-1)),l("button",{onClick:t[34]||(t[34]=e=>Ve.value.is_public=!Ve.value.is_public),class:n(["w-12 h-6 rounded-full transition-all relative",Ve.value.is_public?"bg-indigo-600":"bg-slate-300 dark:bg-slate-600"])},[l("div",{class:n(["absolute top-1 w-4 h-4 bg-white rounded-full transition-all shadow-sm",Ve.value.is_public?"left-7":"left-1"])},null,2)],2)]),t[104]||(t[104]=c('<div class="p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800" data-v-c9b4f6ac><div class="flex gap-3" data-v-c9b4f6ac><div class="w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-500/20 flex items-center justify-center shrink-0" data-v-c9b4f6ac><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-indigo-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-c9b4f6ac><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-c9b4f6ac></path><polyline points="22,6 12,13 2,6" data-v-c9b4f6ac></polyline></svg></div><div class="space-y-1" data-v-c9b4f6ac><p class="text-[10px] font-black uppercase tracking-widest text-slate-700 dark:text-slate-200" data-v-c9b4f6ac>Notifications</p><p class="text-[9px] font-medium text-slate-500 dark:text-slate-400 leading-relaxed uppercase tracking-wide" data-v-c9b4f6ac>Gmail and Calendar automation enabled.</p></div></div></div>',1))]),l("div",Qs,[l("button",{onClick:t[35]||(t[35]=e=>O.value=!1),class:"flex-1 px-4 py-3 sm:py-3.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl font-bold hover:bg-slate-200 transition-colors text-xs sm:text-sm"},"Cancel"),l("button",{onClick:Fe,disabled:U.value,class:"flex-2 px-6 py-3 sm:py-3.5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 disabled:opacity-50 transition-all text-xs sm:text-sm"},r(U.value?"CREATING...":"CREATE NOW"),9,Zs)])])],512),[[M,O.value]]),Ne.value?(a(),s("div",el,[l("div",tl,[t[109]||(t[109]=l("div",{class:"px-5 sm:px-10 py-6 sm:py-8 border-b border-slate-50 dark:border-slate-800/50"},[l("h2",{class:"text-2xl sm:text-3xl font-black text-slate-800 dark:text-white mb-1"},"New Context"),l("p",{class:"text-slate-500 text-xs sm:text-sm"},"Create a separate space for your work.")],-1)),l("div",al,[l("div",null,[t[106]||(t[106]=l("label",{for:"workspace-name",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Context Name",-1)),v(l("input",{id:"workspace-name",name:"workspace_name","onUpdate:modelValue":t[36]||(t[36]=e=>Oe.value.name=e),type:"text",placeholder:"e.g. My Side Hustle",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3.5 sm:py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium text-sm sm:text-base"},null,512),[[m,Oe.value.name]])]),l("div",null,[t[107]||(t[107]=l("label",{class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Type",-1)),l("div",sl,[(a(),s(i,null,o(["Personal","Work","Team"],e=>l("button",{key:e,onClick:t=>Oe.value.type=e,class:n(["py-3 rounded-xl text-[10px] sm:text-[11px] font-black uppercase tracking-widest transition-all border border-transparent",Oe.value.type===e?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-50 dark:bg-slate-800 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"])},r(e),11,ll)),64))])]),l("div",null,[t[108]||(t[108]=l("label",{for:"workspace-purpose",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Purpose",-1)),v(l("input",{id:"workspace-purpose",name:"workspace_purpose","onUpdate:modelValue":t[37]||(t[37]=e=>Oe.value.intent=e),type:"text",placeholder:"Briefly describe what this is for...",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3.5 sm:py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium text-sm"},null,512),[[m,Oe.value.intent]])])]),l("div",rl,[l("button",{onClick:t[38]||(t[38]=e=>Ne.value=!1),class:"flex-1 px-6 py-3.5 sm:py-4 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl font-bold hover:bg-slate-200 transition-colors text-xs sm:text-sm"},"Cancel"),l("button",{onClick:He,class:"flex-1 px-6 py-3.5 sm:py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 transition-all text-xs sm:text-sm"}," CREATE CONTEXT ")])])])):d("",!0),y(bt,{show:G.value,type:"Workspace",id:b($)?.id,entity:b($),onClose:t[39]||(t[39]=e=>G.value=!1)},null,8,["show","id","entity"]),X.value?(a(),D(b(B),{key:7,show:X.value,task:q.value,onClose:t[40]||(t[40]=e=>{X.value=!1,Le()}),onDelivered:t[41]||(t[41]=e=>Le())},null,8,["show","task"])):d("",!0),y(S,{name:"sheet"},{default:_(()=>[Q.value&&te.value?(a(),s("div",il,[l("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:t[42]||(t[42]=e=>te.value=!1)}),l("div",ol,[l("div",nl,[l("button",{onClick:t[43]||(t[43]=e=>te.value=!1),class:"flex items-center gap-2 text-slate-500 font-black uppercase tracking-widest text-xs"},[...t[110]||(t[110]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("path",{d:"M15 18l-6-6 6-6"})],-1),k(" Back ",-1)])]),t[111]||(t[111]=l("h3",{class:"text-sm font-black uppercase tracking-widest text-slate-800 dark:text-white"},"Filters",-1)),l("button",{onClick:Re,class:"text-xs font-black uppercase text-indigo-600 px-2"},"Reset")]),l("div",dl,[l("div",cl,[t[112]||(t[112]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"View Mode",-1)),l("div",ul,[(a(),s(i,null,o(["board","list","calendar"],e=>l("button",{key:e,onClick:t=>L.value=e,class:n([[L.value===e?"bg-indigo-600 text-white shadow-md":"text-slate-500"],"py-3 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all"])},r(e),11,pl)),64))])]),l("div",gl,[l("div",bl,[t[115]||(t[115]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Toggles",-1)),l("div",xl,[l("button",{onClick:t[44]||(t[44]=e=>b(R).toggleGlobalMode()),class:n(["flex-1 h-14 flex items-center justify-center rounded-2xl transition-colors border",b(R).globalMode?"bg-indigo-600 text-white border-indigo-600":"bg-slate-50 dark:bg-slate-800 text-slate-400 border-slate-100 dark:border-slate-700"])},[...t[113]||(t[113]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})],-1),l("span",{class:"text-xs font-black uppercase tracking-widest"},"Global View",-1)])],2),b($)&&"owner"===fe.value&&!b(R).globalMode?(a(),s("button",{key:0,onClick:t[45]||(t[45]=e=>G.value=!0),class:"flex-1 h-14 flex items-center justify-center rounded-2xl border bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 border-indigo-100 dark:border-indigo-500/20"},[...t[114]||(t[114]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[l("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),l("circle",{cx:"9",cy:"7",r:"4"}),l("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),l("line",{x1:"16",y1:"11",x2:"22",y2:"11"})],-1),l("span",{class:"text-xs font-black uppercase tracking-widest"},"Share",-1)])])):d("",!0)])]),l("div",vl,[l("div",kl,[l("div",hl,[t[116]||(t[116]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},"Context",-1)),b(R).globalMode?d("",!0):(a(),s("span",ml,"Active Workspace Only"))]),t[118]||(t[118]=l("label",{for:"mobile-filter-workspace",class:"sr-only"},"Filter by Workspace (Mobile)",-1)),v(l("select",{id:"mobile-filter-workspace",name:"mobile_filter_workspace","onUpdate:modelValue":t[46]||(t[46]=e=>Ie.value.workspaceId=e),disabled:!b(R).globalMode,class:"w-full h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-6 text-sm font-bold shadow-sm outline-none disabled:opacity-50"},[t[117]||(t[117]=l("option",{value:null},"All Contexts",-1)),(a(!0),s(i,null,o(b(R).workspaces,e=>(a(),s("option",{key:e.id,value:e.id},r(e.name),9,fl))),128))],8,wl),[[C,Ie.value.workspaceId]])]),l("div",yl,[t[119]||(t[119]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Priority",-1)),l("div",_l,[(a(),s(i,null,o([null,"low","medium","high","urgent"],e=>l("button",{key:e,onClick:t=>Ie.value.priority=e,class:n(["h-14 rounded-2xl border text-xs font-black uppercase tracking-widest transition-all",[Ie.value.priority===e?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent text-slate-500"]])},r(e||"All"),11,Cl)),64))])]),l("div",Dl,[t[120]||(t[120]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Timeline",-1)),l("div",Ml,[(a(),s(i,null,o(je,e=>l("button",{key:e.id,onClick:t=>{Ie.value.timeRange=e.id,Ie.value.monthYear=""},class:n(["h-14 rounded-2xl border text-xs font-black uppercase tracking-widest transition-all",[Ie.value.timeRange===e.id?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent text-slate-500"]])},r(e.label),11,Sl)),64))])]),l("div",Tl,[t[124]||(t[124]=l("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Custom Dates",-1)),l("div",jl,[l("button",{onClick:t[47]||(t[47]=e=>Ie.value.timeRange="custom"),class:n(["h-14 rounded-2xl border text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2",["custom"===Ie.value.timeRange?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent text-slate-500"]])},[...t[121]||(t[121]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[l("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),l("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1),k(" Custom Range ",-1)])],2),"custom"===Ie.value.timeRange?(a(),s("div",Vl,[l("div",null,[t[122]||(t[122]=l("label",{for:"mobile-filter-date-from",class:"sr-only"},"From Date (Mobile)",-1)),v(l("input",{id:"mobile-filter-date-from",name:"mobile_filter_date_from",type:"date","onUpdate:modelValue":t[48]||(t[48]=e=>Ie.value.customStart=e),class:"h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 text-xs font-bold shadow-inner"},null,512),[[m,Ie.value.customStart]])]),l("div",null,[t[123]||(t[123]=l("label",{for:"mobile-filter-date-to",class:"sr-only"},"To Date (Mobile)",-1)),v(l("input",{id:"mobile-filter-date-to",name:"mobile_filter_date_to",type:"date","onUpdate:modelValue":t[49]||(t[49]=e=>Ie.value.customEnd=e),class:"h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 text-xs font-bold shadow-inner"},null,512),[[m,Ie.value.customEnd]])])])):d("",!0)])])])])]),l("div",El,[l("button",{onClick:t[50]||(t[50]=e=>te.value=!1),class:"w-full h-14 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-500/20"}," Apply View ")])])])):d("",!0)]),_:1}),b(R).globalMode?(a(),s("div",Bl,[t[125]||(t[125]=l("div",{class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},null,-1)),t[126]||(t[126]=l("p",{class:"text-xs font-black uppercase tracking-[0.2em]"},"Global Management Mode Â· All Contexts",-1)),l("button",{onClick:t[51]||(t[51]=e=>b(R).toggleGlobalMode()),class:"ml-4 text-[10px] font-black uppercase bg-white/10 hover:bg-white/20 px-3 py-1 rounded-lg transition-all"},"Exit")])):d("",!0)])}}},[["__scopeId","data-v-c9b4f6ac"]]),Il=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"}));export{Il as D,R as _,kt as a,I as b,A as c,z as u};
