import{h as Nt,o as d,c as u,a as t,t as x,f as se,v as ce,b as ue,u as N,e as we,n as P,g as fe,i as h,F as q,j as ee,k as Xe,l as ln,m as B,p as ke,q as it,s as Be,x as dn,d as Ee,y as Rt,w as He,T as Re,z as Ze,A as un,B as Me,C as Wt,D as cn,E as pn,r as gn,G as fn}from"./app-BcQGaL0j.js";import{u as Ut}from"./workspace-DQQ2rMut.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const vn=o=>{for(const i in o)if(i.startsWith("aria-")||i==="role"||i==="title")return!0;return!1};const Yt=o=>o==="";const mn=(...o)=>o.filter((i,e,b)=>!!i&&i.trim()!==""&&b.indexOf(i)===e).join(" ").trim();const Ht=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const hn=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,e,b)=>b?b.toUpperCase():e.toLowerCase());const bn=o=>{const i=hn(o);return i.charAt(0).toUpperCase()+i.slice(1)};var ot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const xn=({name:o,iconNode:i,absoluteStrokeWidth:e,"absolute-stroke-width":b,strokeWidth:D,"stroke-width":g,size:T=ot.width,color:H=ot.stroke,...f},{slots:Z})=>Nt("svg",{...ot,...f,width:T,height:T,stroke:H,"stroke-width":Yt(e)||Yt(b)||e===!0||b===!0?Number(D||g||ot["stroke-width"])*24/Number(T):D||g||ot["stroke-width"],class:mn("lucide",f.class,...o?[`lucide-${Ht(bn(o))}-icon`,`lucide-${Ht(o)}`]:["lucide-icon"]),...!Z.default&&!vn(f)&&{"aria-hidden":"true"}},[...i.map(V=>Nt(...V)),...Z.default?[Z.default()]:[]]);const nt=(o,i)=>(e,{slots:b,attrs:D})=>Nt(xn,{...D,...e,iconNode:i,name:o},b);const Lt=nt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const wn=nt("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);const kn=nt("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const yn=nt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Et=nt("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const _n=nt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Dn={key:0,class:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-4 z-[200]"},Cn={class:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-200"},Mn={class:"p-8 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between bg-slate-50/50 dark:bg-slate-800/50"},$n={class:"flex items-center gap-4"},Tn={class:"text-sm font-bold text-slate-500 uppercase tracking-widest"},Sn={class:"flex-1 overflow-y-auto p-8 space-y-8 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-800"},En={class:"space-y-3"},In={class:"space-y-6"},An={class:"flex items-center justify-between px-1"},Fn={class:"relative w-20 h-20 flex items-center justify-center"},jn={key:0,class:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-800 text-slate-400 group-hover:text-emerald-500 group-hover:bg-emerald-50 dark:group-hover:bg-emerald-500/10 transition-all flex items-center justify-center duration-500"},On={key:1,class:"w-20 h-20 rounded-3xl bg-emerald-50 dark:bg-emerald-500/10 flex items-center justify-center text-emerald-600"},Nn={key:2,class:"w-20 h-20 rounded-3xl bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-500/20 animate-in zoom-in duration-300"},Pn={class:"space-y-1"},Yn={key:0,class:"text-sm font-black text-slate-700 dark:text-slate-200 uppercase tracking-tight"},Hn={key:1,class:"text-sm font-black text-emerald-600 uppercase tracking-widest animate-pulse"},Ln={key:2,class:"text-sm font-black text-emerald-600 uppercase tracking-widest"},Vn={key:3,class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},Bn={key:0,class:"space-y-3 animate-in fade-in slide-in-from-bottom-2 duration-500"},Rn={class:"flex-1 space-y-2"},Wn={class:"flex items-center justify-between"},Un={class:"text-base font-black text-slate-800 dark:text-white leading-tight truncate max-w-[250px]"},zn=["onClick"],Kn={class:"space-y-3"},Gn={key:0,class:"relative"},qn=["onUpdate:modelValue"],Jn=["onUpdate:modelValue"],Xn={class:"p-8 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50 flex gap-4"},Zn=["disabled"],Qn={__name:"TaskDeliveryModal",props:{show:Boolean,task:Object},emits:["close","delivered"],setup(o,{emit:i}){const e=o,b=i,D=B(""),g=B([]),T=B(!1),H=B(!1),f=B("idle"),Z=W=>{switch(W){case"link":return{icon:Et,bg:"bg-indigo-500"};case"image":return{icon:yn,bg:"bg-rose-500"};default:return{icon:kn,bg:"bg-indigo-600"}}},V=W=>{g.value.unshift({type:W,name:"Project Link",content:"",description:""})},G=W=>{g.value.splice(W,1)},j=()=>{H.value=!0},I=()=>{H.value=!1},L=W=>{H.value=!1;const w=W.dataTransfer.files;w.length>0&&oe(w)},y=W=>{const w=W.target.files;w.length>0&&oe(w)},oe=async W=>{f.value="uploading";let w=0;for(const k of W){const M=new FormData;M.append("file",k);try{const O=await ke.post("/api/delivery-upload",M);g.value.unshift({type:k.type.startsWith("image/")?"image":"file",name:k.name,content:O.data.path,description:""}),w++}catch(O){console.error("Failed to upload file",k.name,O);const J=O.response?.data?.message||O.message||"Unknown error";alert(`Failed to upload ${k.name}: ${J}`)}}w>0?(f.value="success",setTimeout(()=>{f.value="idle"},2e3)):f.value="idle"},ie=async()=>{if(g.value.length!==0)try{T.value=!0,await ke.post(`/api/tasks/${e.task.id}/deliver`,{notes:D.value,items:g.value}),b("delivered"),b("close")}catch(W){alert(W.response?.data?.message||"Failed to deliver task")}finally{T.value=!1}};return(W,w)=>o.show?(d(),u("div",Dn,[t("div",Cn,[t("div",Mn,[t("div",$n,[w[6]||(w[6]=t("div",{class:"w-12 h-12 rounded-2xl bg-emerald-500 flex items-center justify-center text-white shadow-lg shadow-emerald-500/20"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),t("div",null,[w[5]||(w[5]=t("h2",{class:"text-2xl font-black text-slate-800 dark:text-white leading-tight uppercase tracking-tight"},"Deliver Task",-1)),t("p",Tn,x(o.task.title),1)])]),t("button",{onClick:w[0]||(w[0]=k=>W.$emit("close")),class:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors"},[...w[7]||(w[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])])]),t("div",Sn,[t("div",En,[w[8]||(w[8]=t("label",{for:"delivery-notes",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 px-1"},"Delivery Notes / Summary",-1)),se(t("textarea",{id:"delivery-notes","onUpdate:modelValue":w[1]||(w[1]=k=>D.value=k),placeholder:"Summarize what was done, any considerations, and next steps...",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-3xl px-6 py-5 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all font-medium text-sm min-h-[120px]"},null,512),[[ce,D.value]])]),t("div",In,[t("div",An,[w[10]||(w[10]=t("label",{class:"text-[12px] font-black uppercase tracking-widest text-slate-400"},"Delivery Outputs",-1)),t("button",{onClick:w[2]||(w[2]=k=>V("link")),class:"text-[10px] font-black uppercase tracking-widest text-indigo-600 hover:text-indigo-700 flex items-center gap-1.5 transition-colors"},[ue(N(Et),{class:"w-3 h-3"}),w[9]||(w[9]=we(" Add External Link ",-1))])]),t("div",{onDragover:fe(j,["prevent"]),onDragleave:fe(I,["prevent"]),onDrop:fe(L,["prevent"]),onClick:w[3]||(w[3]=k=>W.$refs.fileInput.click()),class:P(["relative border-2 border-dashed rounded-[2.5rem] p-10 transition-all duration-300 cursor-pointer group flex flex-col items-center justify-center gap-4 text-center",H.value?"border-emerald-500 bg-emerald-50/50 dark:bg-emerald-500/10 scale-[0.99]":"border-slate-200 dark:border-slate-800 hover:border-emerald-400 hover:bg-slate-50 dark:hover:bg-slate-800/50",f.value==="success"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-500/5":""])},[t("input",{type:"file",ref:"fileInput",class:"hidden",onChange:y,multiple:""},null,544),t("div",Fn,[f.value==="idle"?(d(),u("div",jn,[ue(N(wn),{class:"w-10 h-10 animate-bounce-subtle"})])):h("",!0),f.value==="uploading"?(d(),u("div",On,[...w[11]||(w[11]=[t("svg",{class:"animate-spin h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):h("",!0),f.value==="success"?(d(),u("div",Nn,[ue(N(Lt),{class:"w-10 h-10"})])):h("",!0)]),t("div",Pn,[f.value==="idle"?(d(),u("p",Yn,x(H.value?"Drop to upload":"Drag & Drop files or click to browse"),1)):h("",!0),f.value==="uploading"?(d(),u("p",Hn," Uploading... ")):h("",!0),f.value==="success"?(d(),u("p",Ln," Upload Complete! ")):h("",!0),f.value==="idle"?(d(),u("p",Vn," Max file size: 30MB ")):h("",!0)])],34),g.value.length>0?(d(),u("div",Bn,[(d(!0),u(q,null,ee(g.value,(k,M)=>(d(),u("div",{key:M,class:"p-5 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-3xl flex items-start gap-4 shadow-sm hover:shadow-md transition-all group"},[t("div",{class:P(["w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-sm transition-transform duration-300 group-hover:scale-110",Z(k.type).bg])},[(d(),Xe(ln(Z(k.type).icon),{class:"w-6 h-6 text-white"}))],2),t("div",Rn,[t("div",Wn,[t("h4",Un,x(k.name),1),t("button",{onClick:fe(O=>G(M),["stop"]),class:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-xl transition-all opacity-0 group-hover:opacity-100"},[ue(N(_n),{class:"w-4 h-4"})],8,zn)]),t("div",Kn,[k.type==="link"?(d(),u("div",Gn,[ue(N(Et),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),se(t("input",{"onUpdate:modelValue":O=>k.content=O,placeholder:"Paste your URL here (e.g. Figma, Drive)",class:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl px-9 py-2.5 text-xs font-medium outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"},null,8,qn),[[ce,k.content]])])):h("",!0),se(t("input",{"onUpdate:modelValue":O=>k.description=O,placeholder:"Add a description for this item...",class:"w-full bg-slate-100/30 dark:bg-slate-900/50 border-none rounded-xl px-4 py-2.5 text-[10px] font-bold uppercase tracking-wider outline-none focus:ring-2 focus:ring-emerald-500/10"},null,8,Jn),[[ce,k.description]])])])]))),128))])):h("",!0)])]),t("div",Xn,[t("button",{onClick:w[4]||(w[4]=k=>W.$emit("close")),class:"flex-1 px-6 py-4 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-[1.5rem] font-bold hover:bg-slate-100 transition-all border border-slate-200 dark:border-slate-700"},"Cancel"),t("button",{onClick:ie,disabled:T.value||g.value.length===0,class:"flex-[2] px-8 py-4 bg-emerald-600 text-white rounded-[1.5rem] font-black shadow-xl shadow-emerald-500/30 hover:bg-emerald-700 disabled:opacity-50 transition-all uppercase tracking-[0.2em] text-sm flex items-center justify-center gap-3 active:scale-95"},[T.value?h("",!0):(d(),Xe(N(Lt),{key:0,class:"w-5 h-5"})),we(" "+x(T.value?"Processing...":"Complete Delivery"),1)],8,Zn)])])])):h("",!0)}},zt=tt(Qn,[["__scopeId","data-v-c90ecae5"]]);var It=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Qe={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(o){return typeof console<"u"&&console.warn(o)},getWeek:function(o){var i=new Date(o.getTime());i.setHours(0,0,0,0),i.setDate(i.getDate()+3-(i.getDay()+6)%7);var e=new Date(i.getFullYear(),0,4);return 1+Math.round(((i.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},lt={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(o){var i=o%100;if(i>3&&i<21)return"th";switch(i%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},xe=function(o,i){return i===void 0&&(i=2),("000"+o).slice(i*-1)},Se=function(o){return o===!0?1:0};function Vt(o,i){var e;return function(){var b=this,D=arguments;clearTimeout(e),e=setTimeout(function(){return o.apply(b,D)},i)}}var At=function(o){return o instanceof Array?o:[o]};function me(o,i,e){if(e===!0)return o.classList.add(i);o.classList.remove(i)}function X(o,i,e){var b=window.document.createElement(o);return i=i||"",e=e||"",b.className=i,e!==void 0&&(b.textContent=e),b}function bt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Kt(o,i){if(i(o))return o;if(o.parentNode)return Kt(o.parentNode,i)}function xt(o,i){var e=X("div","numInputWrapper"),b=X("input","numInput "+o),D=X("span","arrowUp"),g=X("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?b.type="number":(b.type="text",b.pattern="\\d*"),i!==void 0)for(var T in i)b.setAttribute(T,i[T]);return e.appendChild(b),e.appendChild(D),e.appendChild(g),e}function De(o){try{if(typeof o.composedPath=="function"){var i=o.composedPath();return i[0]}return o.target}catch{return o.target}}var Ft=function(){},wt=function(o,i,e){return e.months[i?"shorthand":"longhand"][o]},ea={D:Ft,F:function(o,i,e){o.setMonth(e.months.longhand.indexOf(i))},G:function(o,i){o.setHours((o.getHours()>=12?12:0)+parseFloat(i))},H:function(o,i){o.setHours(parseFloat(i))},J:function(o,i){o.setDate(parseFloat(i))},K:function(o,i,e){o.setHours(o.getHours()%12+12*Se(new RegExp(e.amPM[1],"i").test(i)))},M:function(o,i,e){o.setMonth(e.months.shorthand.indexOf(i))},S:function(o,i){o.setSeconds(parseFloat(i))},U:function(o,i){return new Date(parseFloat(i)*1e3)},W:function(o,i,e){var b=parseInt(i),D=new Date(o.getFullYear(),0,2+(b-1)*7,0,0,0,0);return D.setDate(D.getDate()-D.getDay()+e.firstDayOfWeek),D},Y:function(o,i){o.setFullYear(parseFloat(i))},Z:function(o,i){return new Date(i)},d:function(o,i){o.setDate(parseFloat(i))},h:function(o,i){o.setHours((o.getHours()>=12?12:0)+parseFloat(i))},i:function(o,i){o.setMinutes(parseFloat(i))},j:function(o,i){o.setDate(parseFloat(i))},l:Ft,m:function(o,i){o.setMonth(parseFloat(i)-1)},n:function(o,i){o.setMonth(parseFloat(i)-1)},s:function(o,i){o.setSeconds(parseFloat(i))},u:function(o,i){return new Date(parseFloat(i))},w:Ft,y:function(o,i){o.setFullYear(2e3+parseFloat(i))}},Ve={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},rt={Z:function(o){return o.toISOString()},D:function(o,i,e){return i.weekdays.shorthand[rt.w(o,i,e)]},F:function(o,i,e){return wt(rt.n(o,i,e)-1,!1,i)},G:function(o,i,e){return xe(rt.h(o,i,e))},H:function(o){return xe(o.getHours())},J:function(o,i){return i.ordinal!==void 0?o.getDate()+i.ordinal(o.getDate()):o.getDate()},K:function(o,i){return i.amPM[Se(o.getHours()>11)]},M:function(o,i){return wt(o.getMonth(),!0,i)},S:function(o){return xe(o.getSeconds())},U:function(o){return o.getTime()/1e3},W:function(o,i,e){return e.getWeek(o)},Y:function(o){return xe(o.getFullYear(),4)},d:function(o){return xe(o.getDate())},h:function(o){return o.getHours()%12?o.getHours()%12:12},i:function(o){return xe(o.getMinutes())},j:function(o){return o.getDate()},l:function(o,i){return i.weekdays.longhand[o.getDay()]},m:function(o){return xe(o.getMonth()+1)},n:function(o){return o.getMonth()+1},s:function(o){return o.getSeconds()},u:function(o){return o.getTime()},w:function(o){return o.getDay()},y:function(o){return String(o.getFullYear()).substring(2)}},Gt=function(o){var i=o.config,e=i===void 0?Qe:i,b=o.l10n,D=b===void 0?lt:b,g=o.isMobile,T=g===void 0?!1:g;return function(H,f,Z){var V=Z||D;return e.formatDate!==void 0&&!T?e.formatDate(H,f,V):f.split("").map(function(G,j,I){return rt[G]&&I[j-1]!=="\\"?rt[G](H,V,e):G!=="\\"?G:""}).join("")}},Pt=function(o){var i=o.config,e=i===void 0?Qe:i,b=o.l10n,D=b===void 0?lt:b;return function(g,T,H,f){if(!(g!==0&&!g)){var Z=f||D,V,G=g;if(g instanceof Date)V=new Date(g.getTime());else if(typeof g!="string"&&g.toFixed!==void 0)V=new Date(g);else if(typeof g=="string"){var j=T||(e||Qe).dateFormat,I=String(g).trim();if(I==="today")V=new Date,H=!0;else if(e&&e.parseDate)V=e.parseDate(g,j);else if(/Z$/.test(I)||/GMT$/.test(I))V=new Date(g);else{for(var L=void 0,y=[],oe=0,ie=0,W="";oe<j.length;oe++){var w=j[oe],k=w==="\\",M=j[oe-1]==="\\"||k;if(Ve[w]&&!M){W+=Ve[w];var O=new RegExp(W).exec(g);O&&(L=!0)&&y[w!=="Y"?"push":"unshift"]({fn:ea[w],val:O[++ie]})}else k||(W+=".")}V=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),y.forEach(function(J){var de=J.fn,pe=J.val;return V=de(V,pe,Z)||V}),V=L?V:void 0}}if(!(V instanceof Date&&!isNaN(V.getTime()))){e.errorHandler(new Error("Invalid date provided: "+G));return}return H===!0&&V.setHours(0,0,0,0),V}}};function Ce(o,i,e){return e===void 0&&(e=!0),e!==!1?new Date(o.getTime()).setHours(0,0,0,0)-new Date(i.getTime()).setHours(0,0,0,0):o.getTime()-i.getTime()}var ta=function(o,i,e){return o>Math.min(i,e)&&o<Math.max(i,e)},jt=function(o,i,e){return o*3600+i*60+e},na=function(o){var i=Math.floor(o/3600),e=(o-i*3600)/60;return[i,e,o-i*3600-e*60]},aa={DAY:864e5};function Ot(o){var i=o.defaultHour,e=o.defaultMinute,b=o.defaultSeconds;if(o.minDate!==void 0){var D=o.minDate.getHours(),g=o.minDate.getMinutes(),T=o.minDate.getSeconds();i<D&&(i=D),i===D&&e<g&&(e=g),i===D&&e===g&&b<T&&(b=o.minDate.getSeconds())}if(o.maxDate!==void 0){var H=o.maxDate.getHours(),f=o.maxDate.getMinutes();i=Math.min(i,H),i===H&&(e=Math.min(f,e)),i===H&&e===f&&(b=o.maxDate.getSeconds())}return{hours:i,minutes:e,seconds:b}}typeof Object.assign!="function"&&(Object.assign=function(o){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if(!o)throw TypeError("Cannot convert undefined or null to object");for(var b=function(H){H&&Object.keys(H).forEach(function(f){return o[f]=H[f]})},D=0,g=i;D<g.length;D++){var T=g[D];b(T)}return o});var ge=function(){return ge=Object.assign||function(o){for(var i,e=1,b=arguments.length;e<b;e++){i=arguments[e];for(var D in i)Object.prototype.hasOwnProperty.call(i,D)&&(o[D]=i[D])}return o},ge.apply(this,arguments)},Bt=function(){for(var o=0,i=0,e=arguments.length;i<e;i++)o+=arguments[i].length;for(var b=Array(o),D=0,i=0;i<e;i++)for(var g=arguments[i],T=0,H=g.length;T<H;T++,D++)b[D]=g[T];return b},sa=300;function oa(o,i){var e={config:ge(ge({},Qe),le.defaultConfig),l10n:lt};e.parseDate=Pt({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=y,e._setHoursFromDate=j,e._positionCalendar=Ke,e.changeMonth=We,e.changeYear=Ue,e.clear=ct,e.close=pt,e.onMouseOver=$e,e._createElement=X,e.createDay=O,e.destroy=yt,e.isEnabled=Oe,e.jumpToDate=W,e.updateValue=Ne,e.open=Te,e.redraw=mt,e.set=Mt,e.setDate=a,e.toggle=Ye;function b(){e.utils={getDaysInMonth:function(n,s){return n===void 0&&(n=e.currentMonth),s===void 0&&(s=e.currentYear),n===1&&(s%4===0&&s%100!==0||s%400===0)?29:e.l10n.daysInMonth[n]}}}function D(){e.element=e.input=o,e.isOpen=!1,ze(),vt(),K(),r(),b(),e.isMobile||M(),ie(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&j(e.config.noCalendar?e.latestSelectedDateObj:void 0),Ne(!1)),H();var n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&n&&Ke(),ne("onReady")}function g(){var n;return((n=e.calendarContainer)===null||n===void 0?void 0:n.getRootNode()).activeElement||document.activeElement}function T(n){return n.bind(e)}function H(){var n=e.config;n.weekNumbers===!1&&n.showMonths===1||n.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var s=(e.days.offsetWidth+1)*n.showMonths;e.daysContainer.style.width=s+"px",e.calendarContainer.style.width=s+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function f(n){if(e.selectedDates.length===0){var s=e.config.minDate===void 0||Ce(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),l=Ot(e.config);s.setHours(l.hours,l.minutes,l.seconds,s.getMilliseconds()),e.selectedDates=[s],e.latestSelectedDateObj=s}n!==void 0&&n.type!=="blur"&&Xt(n);var c=e._input.value;G(),Ne(),e._input.value!==c&&e._debouncedChange()}function Z(n,s){return n%12+12*Se(s===e.l10n.amPM[1])}function V(n){switch(n%24){case 0:case 12:return 12;default:return n%12}}function G(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var n=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,s=(parseInt(e.minuteElement.value,10)||0)%60,l=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(n=Z(n,e.amPM.textContent));var c=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Ce(e.latestSelectedDateObj,e.config.minDate,!0)===0,_=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Ce(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var $=jt(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),U=jt(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),A=jt(n,s,l);if(A>U&&A<$){var z=na($);n=z[0],s=z[1],l=z[2]}}else{if(_){var E=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;n=Math.min(n,E.getHours()),n===E.getHours()&&(s=Math.min(s,E.getMinutes())),s===E.getMinutes()&&(l=Math.min(l,E.getSeconds()))}if(c){var Y=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;n=Math.max(n,Y.getHours()),n===Y.getHours()&&s<Y.getMinutes()&&(s=Y.getMinutes()),s===Y.getMinutes()&&(l=Math.max(l,Y.getSeconds()))}}I(n,s,l)}}function j(n){var s=n||e.latestSelectedDateObj;s&&s instanceof Date&&I(s.getHours(),s.getMinutes(),s.getSeconds())}function I(n,s,l){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(n%24,s,l||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=xe(e.config.time_24hr?n:(12+n)%12+12*Se(n%12===0)),e.minuteElement.value=xe(s),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Se(n>=12)]),e.secondElement!==void 0&&(e.secondElement.value=xe(l)))}function L(n){var s=De(n),l=parseInt(s.value)+(n.delta||0);(l/1e3>1||n.key==="Enter"&&!/[^\d]/.test(l.toString()))&&Ue(l)}function y(n,s,l,c){if(s instanceof Array)return s.forEach(function(_){return y(n,_,l,c)});if(n instanceof Array)return n.forEach(function(_){return y(_,s,l,c)});n.addEventListener(s,l,c),e._handlers.push({remove:function(){return n.removeEventListener(s,l,c)}})}function oe(){ne("onChange")}function ie(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(l){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+l+"]"),function(c){return y(c,"click",e[l])})}),e.isMobile){te();return}var n=Vt(_t,50);if(e._debouncedChange=Vt(oe,sa),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&y(e.daysContainer,"mouseover",function(l){e.config.mode==="range"&&$e(De(l))}),y(e._input,"keydown",at),e.calendarContainer!==void 0&&y(e.calendarContainer,"keydown",at),!e.config.inline&&!e.config.static&&y(window,"resize",n),window.ontouchstart!==void 0?y(window.document,"touchstart",ye):y(window.document,"mousedown",ye),y(window.document,"focus",ye,{capture:!0}),e.config.clickOpens===!0&&(y(e._input,"focus",e.open),y(e._input,"click",e.open)),e.daysContainer!==void 0&&(y(e.monthNav,"click",Jt),y(e.monthNav,["keyup","increment"],L),y(e.daysContainer,"click",Ge)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var s=function(l){return De(l).select()};y(e.timeContainer,["increment"],f),y(e.timeContainer,"blur",f,{capture:!0}),y(e.timeContainer,"click",w),y([e.hourElement,e.minuteElement],["focus","click"],s),e.secondElement!==void 0&&y(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&y(e.amPM,"click",function(l){f(l)})}e.config.allowInput&&y(e._input,"blur",gt)}function W(n,s){var l=n!==void 0?e.parseDate(n):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),c=e.currentYear,_=e.currentMonth;try{l!==void 0&&(e.currentYear=l.getFullYear(),e.currentMonth=l.getMonth())}catch($){$.message="Invalid date supplied: "+l,e.config.errorHandler($)}s&&e.currentYear!==c&&(ne("onYearChange"),C()),s&&(e.currentYear!==c||e.currentMonth!==_)&&ne("onMonthChange"),e.redraw()}function w(n){var s=De(n);~s.className.indexOf("arrow")&&k(n,s.classList.contains("arrowUp")?1:-1)}function k(n,s,l){var c=n&&De(n),_=l||c&&c.parentNode&&c.parentNode.firstChild,$=qe("increment");$.delta=s,_&&_.dispatchEvent($)}function M(){var n=window.document.createDocumentFragment();if(e.calendarContainer=X("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(n.appendChild(ve()),e.innerContainer=X("div","flatpickr-innerContainer"),e.config.weekNumbers){var s=ut(),l=s.weekWrapper,c=s.weekNumbers;e.innerContainer.appendChild(l),e.weekNumbers=c,e.weekWrapper=l}e.rContainer=X("div","flatpickr-rContainer"),e.rContainer.appendChild(je()),e.daysContainer||(e.daysContainer=X("div","flatpickr-days"),e.daysContainer.tabIndex=-1),p(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),n.appendChild(e.innerContainer)}e.config.enableTime&&n.appendChild(Ae()),me(e.calendarContainer,"rangeMode",e.config.mode==="range"),me(e.calendarContainer,"animate",e.config.animate===!0),me(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(n);var _=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!_&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var $=X("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore($,e.element),$.appendChild(e.element),e.altInput&&$.appendChild(e.altInput),$.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function O(n,s,l,c){var _=Oe(s,!0),$=X("span",n,s.getDate().toString());return $.dateObj=s,$.$i=c,$.setAttribute("aria-label",e.formatDate(s,e.config.ariaDateFormat)),n.indexOf("hidden")===-1&&Ce(s,e.now)===0&&(e.todayDateElem=$,$.classList.add("today"),$.setAttribute("aria-current","date")),_?($.tabIndex=-1,$t(s)&&($.classList.add("selected"),e.selectedDateElem=$,e.config.mode==="range"&&(me($,"startRange",e.selectedDates[0]&&Ce(s,e.selectedDates[0],!0)===0),me($,"endRange",e.selectedDates[1]&&Ce(s,e.selectedDates[1],!0)===0),n==="nextMonthDay"&&$.classList.add("inRange")))):$.classList.add("flatpickr-disabled"),e.config.mode==="range"&&qt(s)&&!$t(s)&&$.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&n!=="prevMonthDay"&&c%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(s)+"</span>"),ne("onDayCreate",$),$}function J(n){n.focus(),e.config.mode==="range"&&$e(n)}function de(n){for(var s=n>0?0:e.config.showMonths-1,l=n>0?e.config.showMonths:-1,c=s;c!=l;c+=n)for(var _=e.daysContainer.children[c],$=n>0?0:_.children.length-1,U=n>0?_.children.length:-1,A=$;A!=U;A+=n){var z=_.children[A];if(z.className.indexOf("hidden")===-1&&Oe(z.dateObj))return z}}function pe(n,s){for(var l=n.className.indexOf("Month")===-1?n.dateObj.getMonth():e.currentMonth,c=s>0?e.config.showMonths:-1,_=s>0?1:-1,$=l-e.currentMonth;$!=c;$+=_)for(var U=e.daysContainer.children[$],A=l-e.currentMonth===$?n.$i+s:s<0?U.children.length-1:0,z=U.children.length,E=A;E>=0&&E<z&&E!=(s>0?z:-1);E+=_){var Y=U.children[E];if(Y.className.indexOf("hidden")===-1&&Oe(Y.dateObj)&&Math.abs(n.$i-E)>=Math.abs(s))return J(Y)}e.changeMonth(_),he(de(_),0)}function he(n,s){var l=g(),c=F(l||document.body),_=n!==void 0?n:c?l:e.selectedDateElem!==void 0&&F(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&F(e.todayDateElem)?e.todayDateElem:de(s>0?1:-1);_===void 0?e._input.focus():c?pe(_,s):J(_)}function S(n,s){for(var l=(new Date(n,s,1).getDay()-e.l10n.firstDayOfWeek+7)%7,c=e.utils.getDaysInMonth((s-1+12)%12,n),_=e.utils.getDaysInMonth(s,n),$=window.document.createDocumentFragment(),U=e.config.showMonths>1,A=U?"prevMonthDay hidden":"prevMonthDay",z=U?"nextMonthDay hidden":"nextMonthDay",E=c+1-l,Y=0;E<=c;E++,Y++)$.appendChild(O("flatpickr-day "+A,new Date(n,s-1,E),E,Y));for(E=1;E<=_;E++,Y++)$.appendChild(O("flatpickr-day",new Date(n,s,E),E,Y));for(var ae=_+1;ae<=42-l&&(e.config.showMonths===1||Y%7!==0);ae++,Y++)$.appendChild(O("flatpickr-day "+z,new Date(n,s+1,ae%_),ae,Y));var Fe=X("div","dayContainer");return Fe.appendChild($),Fe}function p(){if(e.daysContainer!==void 0){bt(e.daysContainer),e.weekNumbers&&bt(e.weekNumbers);for(var n=document.createDocumentFragment(),s=0;s<e.config.showMonths;s++){var l=new Date(e.currentYear,e.currentMonth,1);l.setMonth(e.currentMonth+s),n.appendChild(S(l.getFullYear(),l.getMonth()))}e.daysContainer.appendChild(n),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&$e()}}function C(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var n=function(c){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&c<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&c>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var s=0;s<12;s++)if(n(s)){var l=X("option","flatpickr-monthDropdown-month");l.value=new Date(e.currentYear,s).getMonth().toString(),l.textContent=wt(s,e.config.shorthandCurrentMonth,e.l10n),l.tabIndex=-1,e.currentMonth===s&&(l.selected=!0),e.monthsDropdownContainer.appendChild(l)}}}function re(){var n=X("div","flatpickr-month"),s=window.document.createDocumentFragment(),l;e.config.showMonths>1||e.config.monthSelectorType==="static"?l=X("span","cur-month"):(e.monthsDropdownContainer=X("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),y(e.monthsDropdownContainer,"change",function(U){var A=De(U),z=parseInt(A.value,10);e.changeMonth(z-e.currentMonth),ne("onMonthChange")}),C(),l=e.monthsDropdownContainer);var c=xt("cur-year",{tabindex:"-1"}),_=c.getElementsByTagName("input")[0];_.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&_.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(_.setAttribute("max",e.config.maxDate.getFullYear().toString()),_.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var $=X("div","flatpickr-current-month");return $.appendChild(l),$.appendChild(c),s.appendChild($),n.appendChild(s),{container:n,yearElement:_,monthElement:l}}function Ie(){bt(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var n=e.config.showMonths;n--;){var s=re();e.yearElements.push(s.yearElement),e.monthElements.push(s.monthElement),e.monthNav.appendChild(s.container)}e.monthNav.appendChild(e.nextMonthNav)}function ve(){return e.monthNav=X("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=X("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=X("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Ie(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(n){e.__hidePrevMonthArrow!==n&&(me(e.prevMonthNav,"flatpickr-disabled",n),e.__hidePrevMonthArrow=n)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(n){e.__hideNextMonthArrow!==n&&(me(e.nextMonthNav,"flatpickr-disabled",n),e.__hideNextMonthArrow=n)}}),e.currentYearElement=e.yearElements[0],ht(),e.monthNav}function Ae(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var n=Ot(e.config);e.timeContainer=X("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var s=X("span","flatpickr-time-separator",":"),l=xt("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=l.getElementsByTagName("input")[0];var c=xt("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=c.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=xe(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?n.hours:V(n.hours)),e.minuteElement.value=xe(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():n.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(l),e.timeContainer.appendChild(s),e.timeContainer.appendChild(c),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var _=xt("flatpickr-second");e.secondElement=_.getElementsByTagName("input")[0],e.secondElement.value=xe(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():n.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(X("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(_)}return e.config.time_24hr||(e.amPM=X("span","flatpickr-am-pm",e.l10n.amPM[Se((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function je(){e.weekdayContainer?bt(e.weekdayContainer):e.weekdayContainer=X("div","flatpickr-weekdays");for(var n=e.config.showMonths;n--;){var s=X("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(s)}return dt(),e.weekdayContainer}function dt(){if(e.weekdayContainer){var n=e.l10n.firstDayOfWeek,s=Bt(e.l10n.weekdays.shorthand);n>0&&n<s.length&&(s=Bt(s.splice(n,s.length),s.splice(0,n)));for(var l=e.config.showMonths;l--;)e.weekdayContainer.children[l].innerHTML=`
      <span class='flatpickr-weekday'>
        `+s.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ut(){e.calendarContainer.classList.add("hasWeeks");var n=X("div","flatpickr-weekwrapper");n.appendChild(X("span","flatpickr-weekday",e.l10n.weekAbbreviation));var s=X("div","flatpickr-weeks");return n.appendChild(s),{weekWrapper:n,weekNumbers:s}}function We(n,s){s===void 0&&(s=!0);var l=s?n:n-e.currentMonth;l<0&&e._hidePrevMonthArrow===!0||l>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=l,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,ne("onYearChange"),C()),p(),ne("onMonthChange"),ht())}function ct(n,s){if(n===void 0&&(n=!0),s===void 0&&(s=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,s===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var l=Ot(e.config),c=l.hours,_=l.minutes,$=l.seconds;I(c,_,$)}e.redraw(),n&&ne("onChange")}function pt(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),ne("onClose")}function yt(){e.config!==void 0&&ne("onDestroy");for(var n=e._handlers.length;n--;)e._handlers[n].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var s=e.calendarContainer.parentNode;if(s.lastChild&&s.removeChild(s.lastChild),s.parentNode){for(;s.firstChild;)s.parentNode.insertBefore(s.firstChild,s);s.parentNode.removeChild(s)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(l){try{delete e[l]}catch{}})}function Q(n){return e.calendarContainer.contains(n)}function ye(n){if(e.isOpen&&!e.config.inline){var s=De(n),l=Q(s),c=s===e.input||s===e.altInput||e.element.contains(s)||n.path&&n.path.indexOf&&(~n.path.indexOf(e.input)||~n.path.indexOf(e.altInput)),_=!c&&!l&&!Q(n.relatedTarget),$=!e.config.ignoredFocusElements.some(function(U){return U.contains(s)});_&&$&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&f(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Ue(n){if(!(!n||e.config.minDate&&n<e.config.minDate.getFullYear()||e.config.maxDate&&n>e.config.maxDate.getFullYear())){var s=n,l=e.currentYear!==s;e.currentYear=s||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),l&&(e.redraw(),ne("onYearChange"),C())}}function Oe(n,s){var l;s===void 0&&(s=!0);var c=e.parseDate(n,void 0,s);if(e.config.minDate&&c&&Ce(c,e.config.minDate,s!==void 0?s:!e.minDateHasTime)<0||e.config.maxDate&&c&&Ce(c,e.config.maxDate,s!==void 0?s:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(c===void 0)return!1;for(var _=!!e.config.enable,$=(l=e.config.enable)!==null&&l!==void 0?l:e.config.disable,U=0,A=void 0;U<$.length;U++){if(A=$[U],typeof A=="function"&&A(c))return _;if(A instanceof Date&&c!==void 0&&A.getTime()===c.getTime())return _;if(typeof A=="string"){var z=e.parseDate(A,void 0,!0);return z&&z.getTime()===c.getTime()?_:!_}else if(typeof A=="object"&&c!==void 0&&A.from&&A.to&&c.getTime()>=A.from.getTime()&&c.getTime()<=A.to.getTime())return _}return!_}function F(n){return e.daysContainer!==void 0?n.className.indexOf("hidden")===-1&&n.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(n):!1}function gt(n){var s=n.target===e._input,l=e._input.value.trimEnd()!==Tt();s&&l&&!(n.relatedTarget&&Q(n.relatedTarget))&&e.setDate(e._input.value,!0,n.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function at(n){var s=De(n),l=e.config.wrap?o.contains(s):s===e._input,c=e.config.allowInput,_=e.isOpen&&(!c||!l),$=e.config.inline&&l&&!c;if(n.keyCode===13&&l){if(c)return e.setDate(e._input.value,!0,s===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),s.blur();e.open()}else if(Q(s)||_||$){var U=!!e.timeContainer&&e.timeContainer.contains(s);switch(n.keyCode){case 13:U?(n.preventDefault(),f(),Le()):Ge(n);break;case 27:n.preventDefault(),Le();break;case 8:case 46:l&&!e.config.allowInput&&(n.preventDefault(),e.clear());break;case 37:case 39:if(!U&&!l){n.preventDefault();var A=g();if(e.daysContainer!==void 0&&(c===!1||A&&F(A))){var z=n.keyCode===39?1:-1;n.ctrlKey?(n.stopPropagation(),We(z),he(de(1),0)):he(void 0,z)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:n.preventDefault();var E=n.keyCode===40?1:-1;e.daysContainer&&s.$i!==void 0||s===e.input||s===e.altInput?n.ctrlKey?(n.stopPropagation(),Ue(e.currentYear-E),he(de(1),0)):U||he(void 0,E*7):s===e.currentYearElement?Ue(e.currentYear-E):e.config.enableTime&&(!U&&e.hourElement&&e.hourElement.focus(),f(n),e._debouncedChange());break;case 9:if(U){var Y=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(_e){return _e}),ae=Y.indexOf(s);if(ae!==-1){var Fe=Y[ae+(n.shiftKey?-1:1)];n.preventDefault(),(Fe||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(s)&&n.shiftKey&&(n.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&s===e.amPM)switch(n.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],G(),Ne();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],G(),Ne();break}(l||Q(s))&&ne("onKeyDown",n)}function $e(n,s){if(s===void 0&&(s="flatpickr-day"),!(e.selectedDates.length!==1||n&&(!n.classList.contains(s)||n.classList.contains("flatpickr-disabled")))){for(var l=n?n.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),c=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),_=Math.min(l,e.selectedDates[0].getTime()),$=Math.max(l,e.selectedDates[0].getTime()),U=!1,A=0,z=0,E=_;E<$;E+=aa.DAY)Oe(new Date(E),!0)||(U=U||E>_&&E<$,E<c&&(!A||E>A)?A=E:E>c&&(!z||E<z)&&(z=E));var Y=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+s));Y.forEach(function(ae){var Fe=ae.dateObj,_e=Fe.getTime(),st=A>0&&_e<A||z>0&&_e>z;if(st){ae.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Je){ae.classList.remove(Je)});return}else if(U&&!st)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Je){ae.classList.remove(Je)}),n!==void 0&&(n.classList.add(l<=e.selectedDates[0].getTime()?"startRange":"endRange"),c<l&&_e===c?ae.classList.add("startRange"):c>l&&_e===c&&ae.classList.add("endRange"),_e>=A&&(z===0||_e<=z)&&ta(_e,c,l)&&ae.classList.add("inRange"))})}}function _t(){e.isOpen&&!e.config.static&&!e.config.inline&&Ke()}function Te(n,s){if(s===void 0&&(s=e._positionElement),e.isMobile===!0){if(n){n.preventDefault();var l=De(n);l&&l.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),ne("onOpen");return}else if(e._input.disabled||e.config.inline)return;var c=e.isOpen;e.isOpen=!0,c||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),ne("onOpen"),Ke(s)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(n===void 0||!e.timeContainer.contains(n.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function ft(n){return function(s){var l=e.config["_"+n+"Date"]=e.parseDate(s,e.config.dateFormat),c=e.config["_"+(n==="min"?"max":"min")+"Date"];l!==void 0&&(e[n==="min"?"minDateHasTime":"maxDateHasTime"]=l.getHours()>0||l.getMinutes()>0||l.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(_){return Oe(_)}),!e.selectedDates.length&&n==="min"&&j(l),Ne()),e.daysContainer&&(mt(),l!==void 0?e.currentYearElement[n]=l.getFullYear().toString():e.currentYearElement.removeAttribute(n),e.currentYearElement.disabled=!!c&&l!==void 0&&c.getFullYear()===l.getFullYear())}}function ze(){var n=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],s=ge(ge({},JSON.parse(JSON.stringify(o.dataset||{}))),i),l={};e.config.parseDate=s.parseDate,e.config.formatDate=s.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(Y){e.config._enable=R(Y)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(Y){e.config._disable=R(Y)}});var c=s.mode==="time";if(!s.dateFormat&&(s.enableTime||c)){var _=le.defaultConfig.dateFormat||Qe.dateFormat;l.dateFormat=s.noCalendar||c?"H:i"+(s.enableSeconds?":S":""):_+" H:i"+(s.enableSeconds?":S":"")}if(s.altInput&&(s.enableTime||c)&&!s.altFormat){var $=le.defaultConfig.altFormat||Qe.altFormat;l.altFormat=s.noCalendar||c?"h:i"+(s.enableSeconds?":S K":" K"):$+(" h:i"+(s.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:ft("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:ft("max")});var U=function(Y){return function(ae){e.config[Y==="min"?"_minTime":"_maxTime"]=e.parseDate(ae,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:U("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:U("max")}),s.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,l,s);for(var A=0;A<n.length;A++)e.config[n[A]]=e.config[n[A]]===!0||e.config[n[A]]==="true";It.filter(function(Y){return e.config[Y]!==void 0}).forEach(function(Y){e.config[Y]=At(e.config[Y]||[]).map(T)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var A=0;A<e.config.plugins.length;A++){var z=e.config.plugins[A](e)||{};for(var E in z)It.indexOf(E)>-1?e.config[E]=At(z[E]).map(T).concat(e.config[E]):typeof s[E]>"u"&&(e.config[E]=z[E])}s.altInputClass||(e.config.altInputClass=be().className+" "+e.config.altInputClass),ne("onParseConfig")}function be(){return e.config.wrap?o.querySelector("[data-input]"):o}function vt(){typeof e.config.locale!="object"&&typeof le.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ge(ge({},le.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?le.l10ns[e.config.locale]:void 0),Ve.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ve.l="("+e.l10n.weekdays.longhand.join("|")+")",Ve.M="("+e.l10n.months.shorthand.join("|")+")",Ve.F="("+e.l10n.months.longhand.join("|")+")",Ve.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var n=ge(ge({},i),JSON.parse(JSON.stringify(o.dataset||{})));n.time_24hr===void 0&&le.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Gt(e),e.parseDate=Pt({config:e.config,l10n:e.l10n})}function Ke(n){if(typeof e.config.position=="function")return void e.config.position(e,n);if(e.calendarContainer!==void 0){ne("onPreCalendarPosition");var s=n||e._positionElement,l=Array.prototype.reduce.call(e.calendarContainer.children,(function(on,rn){return on+rn.offsetHeight}),0),c=e.calendarContainer.offsetWidth,_=e.config.position.split(" "),$=_[0],U=_.length>1?_[1]:null,A=s.getBoundingClientRect(),z=window.innerHeight-A.bottom,E=$==="above"||$!=="below"&&z<l&&A.top>l,Y=window.pageYOffset+A.top+(E?-l-2:s.offsetHeight+2);if(me(e.calendarContainer,"arrowTop",!E),me(e.calendarContainer,"arrowBottom",E),!e.config.inline){var ae=window.pageXOffset+A.left,Fe=!1,_e=!1;U==="center"?(ae-=(c-A.width)/2,Fe=!0):U==="right"&&(ae-=c-A.width,_e=!0),me(e.calendarContainer,"arrowLeft",!Fe&&!_e),me(e.calendarContainer,"arrowCenter",Fe),me(e.calendarContainer,"arrowRight",_e);var st=window.document.body.offsetWidth-(window.pageXOffset+A.right),Je=ae+c>window.document.body.offsetWidth,Zt=st+c>window.document.body.offsetWidth;if(me(e.calendarContainer,"rightMost",Je),!e.config.static)if(e.calendarContainer.style.top=Y+"px",!Je)e.calendarContainer.style.left=ae+"px",e.calendarContainer.style.right="auto";else if(!Zt)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=st+"px";else{var St=Dt();if(St===void 0)return;var Qt=window.document.body.offsetWidth,en=Math.max(0,Qt/2-c/2),tn=".flatpickr-calendar.centerMost:before",nn=".flatpickr-calendar.centerMost:after",an=St.cssRules.length,sn="{left:"+A.left+"px;right:auto;}";me(e.calendarContainer,"rightMost",!1),me(e.calendarContainer,"centerMost",!0),St.insertRule(tn+","+nn+sn,an),e.calendarContainer.style.left=en+"px",e.calendarContainer.style.right="auto"}}}}function Dt(){for(var n=null,s=0;s<document.styleSheets.length;s++){var l=document.styleSheets[s];if(l.cssRules){try{l.cssRules}catch{continue}n=l;break}}return n??Ct()}function Ct(){var n=document.createElement("style");return document.head.appendChild(n),n.sheet}function mt(){e.config.noCalendar||e.isMobile||(C(),ht(),p())}function Le(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ge(n){n.preventDefault(),n.stopPropagation();var s=function(Y){return Y.classList&&Y.classList.contains("flatpickr-day")&&!Y.classList.contains("flatpickr-disabled")&&!Y.classList.contains("notAllowed")},l=Kt(De(n),s);if(l!==void 0){var c=l,_=e.latestSelectedDateObj=new Date(c.dateObj.getTime()),$=(_.getMonth()<e.currentMonth||_.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=c,e.config.mode==="single")e.selectedDates=[_];else if(e.config.mode==="multiple"){var U=$t(_);U?e.selectedDates.splice(parseInt(U),1):e.selectedDates.push(_)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=_,e.selectedDates.push(_),Ce(_,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(Y,ae){return Y.getTime()-ae.getTime()}));if(G(),$){var A=e.currentYear!==_.getFullYear();e.currentYear=_.getFullYear(),e.currentMonth=_.getMonth(),A&&(ne("onYearChange"),C()),ne("onMonthChange")}if(ht(),p(),Ne(),!$&&e.config.mode!=="range"&&e.config.showMonths===1?J(c):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var z=e.config.mode==="single"&&!e.config.enableTime,E=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(z||E)&&Le()}oe()}}var Pe={locale:[vt,dt],showMonths:[Ie,H,je],minDate:[W],maxDate:[W],positionElement:[v],clickOpens:[function(){e.config.clickOpens===!0?(y(e._input,"focus",e.open),y(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Mt(n,s){if(n!==null&&typeof n=="object"){Object.assign(e.config,n);for(var l in n)Pe[l]!==void 0&&Pe[l].forEach(function(c){return c()})}else e.config[n]=s,Pe[n]!==void 0?Pe[n].forEach(function(c){return c()}):It.indexOf(n)>-1&&(e.config[n]=At(s));e.redraw(),Ne(!0)}function m(n,s){var l=[];if(n instanceof Array)l=n.map(function(c){return e.parseDate(c,s)});else if(n instanceof Date||typeof n=="number")l=[e.parseDate(n,s)];else if(typeof n=="string")switch(e.config.mode){case"single":case"time":l=[e.parseDate(n,s)];break;case"multiple":l=n.split(e.config.conjunction).map(function(c){return e.parseDate(c,s)});break;case"range":l=n.split(e.l10n.rangeSeparator).map(function(c){return e.parseDate(c,s)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(n)));e.selectedDates=e.config.allowInvalidPreload?l:l.filter(function(c){return c instanceof Date&&Oe(c,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(c,_){return c.getTime()-_.getTime()})}function a(n,s,l){if(s===void 0&&(s=!1),l===void 0&&(l=e.config.dateFormat),n!==0&&!n||n instanceof Array&&n.length===0)return e.clear(s);m(n,l),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),W(void 0,s),j(),e.selectedDates.length===0&&e.clear(!1),Ne(s),s&&ne("onChange")}function R(n){return n.slice().map(function(s){return typeof s=="string"||typeof s=="number"||s instanceof Date?e.parseDate(s,void 0,!0):s&&typeof s=="object"&&s.from&&s.to?{from:e.parseDate(s.from,void 0),to:e.parseDate(s.to,void 0)}:s}).filter(function(s){return s})}function r(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var n=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);n&&m(n,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function K(){if(e.input=be(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=X(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),v()}function v(){e._positionElement=e.config.positionElement||e._input}function te(){var n=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=X("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=n,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=n==="datetime-local"?"Y-m-d\\TH:i:S":n==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}y(e.mobileInput,"change",function(s){e.setDate(De(s).value,!1,e.mobileFormatStr),ne("onChange"),ne("onClose")})}function Ye(n){if(e.isOpen===!0)return e.close();e.open(n)}function ne(n,s){if(e.config!==void 0){var l=e.config[n];if(l!==void 0&&l.length>0)for(var c=0;l[c]&&c<l.length;c++)l[c](e.selectedDates,e.input.value,e,s);n==="onChange"&&(e.input.dispatchEvent(qe("change")),e.input.dispatchEvent(qe("input")))}}function qe(n){var s=document.createEvent("Event");return s.initEvent(n,!0,!0),s}function $t(n){for(var s=0;s<e.selectedDates.length;s++){var l=e.selectedDates[s];if(l instanceof Date&&Ce(l,n)===0)return""+s}return!1}function qt(n){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Ce(n,e.selectedDates[0])>=0&&Ce(n,e.selectedDates[1])<=0}function ht(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(n,s){var l=new Date(e.currentYear,e.currentMonth,1);l.setMonth(e.currentMonth+s),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[s].textContent=wt(l.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=l.getMonth().toString(),n.value=l.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Tt(n){var s=n||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(l){return e.formatDate(l,s)}).filter(function(l,c,_){return e.config.mode!=="range"||e.config.enableTime||_.indexOf(l)===c}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Ne(n){n===void 0&&(n=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Tt(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Tt(e.config.altFormat)),n!==!1&&ne("onValueUpdate")}function Jt(n){var s=De(n),l=e.prevMonthNav.contains(s),c=e.nextMonthNav.contains(s);l||c?We(l?-1:1):e.yearElements.indexOf(s)>=0?s.select():s.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):s.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Xt(n){n.preventDefault();var s=n.type==="keydown",l=De(n),c=l;e.amPM!==void 0&&l===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Se(e.amPM.textContent===e.l10n.amPM[0])]);var _=parseFloat(c.getAttribute("min")),$=parseFloat(c.getAttribute("max")),U=parseFloat(c.getAttribute("step")),A=parseInt(c.value,10),z=n.delta||(s?n.which===38?1:-1:0),E=A+U*z;if(typeof c.value<"u"&&c.value.length===2){var Y=c===e.hourElement,ae=c===e.minuteElement;E<_?(E=$+E+Se(!Y)+(Se(Y)&&Se(!e.amPM)),ae&&k(void 0,-1,e.hourElement)):E>$&&(E=c===e.hourElement?E-$-Se(!e.amPM):_,ae&&k(void 0,1,e.hourElement)),e.amPM&&Y&&(U===1?E+A===23:Math.abs(E-A)>U)&&(e.amPM.textContent=e.l10n.amPM[Se(e.amPM.textContent===e.l10n.amPM[0])]),c.value=xe(E)}}return D(),e}function et(o,i){for(var e=Array.prototype.slice.call(o).filter(function(T){return T instanceof HTMLElement}),b=[],D=0;D<e.length;D++){var g=e[D];try{if(g.getAttribute("data-fp-omit")!==null)continue;g._flatpickr!==void 0&&(g._flatpickr.destroy(),g._flatpickr=void 0),g._flatpickr=oa(g,i||{}),b.push(g._flatpickr)}catch(T){console.error(T)}}return b.length===1?b[0]:b}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(o){return et(this,o)},HTMLElement.prototype.flatpickr=function(o){return et([this],o)});var le=function(o,i){return typeof o=="string"?et(window.document.querySelectorAll(o),i):o instanceof Node?et([o],i):et(o,i)};le.defaultConfig={};le.l10ns={en:ge({},lt),default:ge({},lt)};le.localize=function(o){le.l10ns.default=ge(ge({},le.l10ns.default),o)};le.setDefaults=function(o){le.defaultConfig=ge(ge({},le.defaultConfig),o)};le.parseDate=Pt({});le.formatDate=Gt({});le.compareDates=Ce;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(o){return et(this,o)});Date.prototype.fp_incr=function(o){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof o=="string"?parseInt(o,10):o))};typeof window<"u"&&(window.flatpickr=le);const ra={class:"relative w-full group"},ia=["id","name","value","placeholder","disabled"],kt={__name:"CustomDatePicker",props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:String,default:""},placeholder:{type:String,default:"dd/mm/yyyy"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(o,{emit:i}){const e=o,b=i,D=B(null);let g=null;return it(()=>{g=le(D.value,{dateFormat:"d/m/Y",allowInput:!0,altInput:!1,defaultDate:e.modelValue,disableMobile:!0,onChange:(T,H)=>{b("update:modelValue",H),b("change",H)}})}),Be(()=>e.modelValue,T=>{g&&T!==g.input.value&&g.setDate(T,!1)}),dn(()=>{g&&g.destroy()}),(T,H)=>(d(),u("div",ra,[t("input",{ref_key:"inputRef",ref:D,type:"text",id:o.id,name:o.name,value:o.modelValue,placeholder:o.placeholder,disabled:o.disabled,class:P(["w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-slate-200 transition-all cursor-pointer group-hover:border-slate-300 dark:group-hover:border-slate-600",{"opacity-50 cursor-not-allowed":o.disabled}])},null,10,ia),H[0]||(H[0]=Ee('<div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div>',1))]))}},la={key:0,class:"fixed inset-0 z-[10000] flex justify-end overflow-hidden"},da={key:0,class:"relative w-full max-w-2xl bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col z-10 drawer-content transition-all duration-300"},ua={key:0,class:"bg-[var(--color-status-done)] text-white px-6 py-2 flex items-center gap-2 justify-center text-xs font-heading font-bold uppercase tracking-[0.3em] relative overflow-hidden group"},ca={class:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-800"},pa={class:"flex items-center gap-4"},ga=["disabled"],fa=["disabled"],va={key:0,value:"testing"},ma={key:0,class:"hidden sm:flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800 ml-2 transition-all"},ha={class:"flex items-center gap-2"},ba={class:"hidden sm:flex items-center gap-2 mr-4"},xa={class:"text-[10px] font-heading font-bold text-slate-400 uppercase tracking-[0.2em]"},wa={class:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar"},ka=["disabled"],ya=["disabled"],_a={key:0,class:"p-8 bg-slate-50 dark:bg-slate-800/40 rounded-[2rem] border border-slate-100 dark:border-slate-800 space-y-6"},Da={class:"flex items-center justify-between"},Ca={key:0,class:"space-y-10"},Ma={class:"space-y-4"},$a={class:"flex items-center justify-between"},Ta={class:"flex items-center gap-2"},Sa={class:"text-[10px] font-black uppercase tracking-widest text-emerald-600"},Ea={class:"text-[8px] font-black uppercase text-slate-400 px-1.5 py-0.5 bg-slate-100 dark:bg-slate-800 rounded"},Ia=["onClick"],Aa={key:0,class:"bg-white dark:bg-slate-900/50 p-4 rounded-2xl text-sm italic text-slate-600 dark:text-slate-300 border border-slate-100 dark:border-slate-800/50"},Fa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ja=["onDblclick"],Oa={class:"w-10 h-10 rounded-xl bg-emerald-50 dark:bg-emerald-500/10 flex items-center justify-center text-emerald-600 shrink-0"},Na={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},Pa={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},Ya={key:2,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},Ha={class:"flex-1 min-w-0 pr-8 text-left"},La={class:"text-[11px] font-black text-slate-800 dark:text-white truncate uppercase tracking-tight"},Va={key:0,class:"text-[9px] font-bold text-slate-400 uppercase truncate"},Ba={class:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-1"},Ra=["href"],Wa=["href"],Ua={key:1,class:"text-center py-10 bg-white/50 dark:bg-slate-900/50 rounded-2xl border border-dashed border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center gap-4"},za={class:"grid grid-cols-1 sm:grid-cols-2 gap-8 py-6 border-y border-slate-50 dark:border-slate-800/50"},Ka={class:"space-y-4"},Ga={class:"space-y-2"},qa={class:"flex items-center justify-between"},Ja=["for"],Xa={key:0,class:"text-[9px] font-black uppercase tracking-widest px-2 py-0.5 bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 rounded flex items-center gap-1"},Za={class:"flex gap-2"},Qa=["id","disabled"],es={key:0,class:"space-y-2"},ts=["for"],ns=["id","disabled"],as=["value"],ss={class:"space-y-2"},os=["for"],rs={class:"flex gap-2"},is=["id"],ls={class:"space-y-4"},ds={class:"flex items-center justify-between"},us={class:"flex items-center gap-2"},cs={key:0,class:"text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full text-slate-400 font-bold"},ps={key:0,class:"space-y-2"},gs=["onClick"],fs={class:"space-y-6 pt-6 border-t border-slate-100 dark:border-slate-800"},vs={class:"space-y-6"},ms=["src"],hs={class:"space-y-1"},bs={class:"text-sm"},xs={class:"font-bold text-slate-800 dark:text-white"},ws={class:"text-slate-500 ml-1"},ks={class:"text-[12px] text-slate-400 font-bold tracking-widest"},ys={class:"p-6 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-800 grid grid-cols-2 sm:grid-cols-3 gap-6"},_s={class:"flex items-center gap-3"},Ds=["src"],Cs={class:"text-left"},Ms={class:"text-sm font-bold text-slate-700 dark:text-slate-200"},$s={class:"text-right sm:text-left flex flex-col justify-center"},Ts={class:"text-sm font-bold text-slate-700 dark:text-slate-200 truncate"},Ss={key:0,class:"fixed top-8 left-1/2 -translate-x-1/2 px-6 py-2 bg-slate-900 text-white rounded-full text-[10px] font-black uppercase tracking-widest z-[10001] shadow-2xl flex items-center gap-3"},Es={__name:"TaskDetails",props:{taskId:{type:[Number,String],required:!0},role:{type:String,default:"viewer"}},emits:["close","updated"],setup(o,{emit:i}){const e=Rt(),b=o,D=i,g=Me(()=>b.role==="owner"||b.role==="editor"),T=Me(()=>!0),H=Me(()=>b.role==="owner"),f=B(null),Z=B([]),V=B(!1),G=B(null),j=B(null),I=B(!1),L=B(!1),y=B({title:"",description:"",priority:"",status:"",due_date:"",due_time:"",start_date:"",start_time:"",assigned_to:null,is_reviewed:!1}),oe=async()=>{try{const S=await ke.get(`/api/tasks/${b.taskId}`);f.value=S.data,ie(),w(S.data.board.plan.workspace_id)}catch(S){console.error("Error fetching task details",S)}},ie=()=>{if(!f.value)return;const S=C=>{if(!C)return"";const re=new Date(C),Ie=String(re.getDate()).padStart(2,"0"),ve=String(re.getMonth()+1).padStart(2,"0"),Ae=re.getFullYear();return`${Ie}/${ve}/${Ae}`},p=C=>{if(!C)return"";const re=new Date(C);return re.getHours().toString().padStart(2,"0")+":"+re.getMinutes().toString().padStart(2,"0")};y.value={title:f.value.title,description:f.value.description,priority:f.value.priority,status:f.value.status,due_date:S(f.value.deadline),due_time:p(f.value.deadline),start_date:S(f.value.start_date),start_time:p(f.value.start_date),assigned_to:f.value.assigned_to,is_reviewed:!!f.value.is_reviewed}},W=async()=>{if(!f.value)return;const S=(ve,Ae)=>ve?`${ve} ${Ae||"00:00"}:00`:null,p=S(y.value.due_date,y.value.due_time||"23:59"),C=S(y.value.start_date,y.value.start_time||"09:00");if(!(y.value.title!==f.value.title||y.value.description!==f.value.description||y.value.priority!==f.value.priority||y.value.status!==f.value.status||y.value.assigned_to!==f.value.assigned_to||y.value.is_reviewed!==!!f.value.is_reviewed||y.value.due_date!==(f.value.deadline?O(f.value.deadline):"")||y.value.due_time!==(f.value.deadline?J(f.value.deadline):"")||y.value.start_date!==(f.value.start_date?O(f.value.start_date):"")||y.value.start_time!==(f.value.start_date?J(f.value.start_date):"")))return;V.value=!0;const Ie=JSON.parse(JSON.stringify(f.value));try{const ve={...y.value,deadline:p,start_date:C},Ae=await ke.patch(`/api/tasks/${b.taskId}`,ve);f.value={...f.value,...Ae.data};const je=document.querySelector(".drawer-content");je&&(je.classList.add("animate-pulse-success"),setTimeout(()=>je.classList.remove("animate-pulse-success"),400)),Ae.data.calendar_sync_status&&(G.value="Google Linked",clearTimeout(j.value),j.value=setTimeout(()=>{G.value=null},3e3)),D("updated"),oe()}catch(ve){console.error("Update failed",ve),f.value=Ie,ie(),alert("Failed to sync changes. Please check your connection.")}finally{setTimeout(()=>{V.value=!1},800)}},w=async S=>{try{const p=await ke.get(`/api/share/members/workspace/${S}`);Z.value=p.data}catch(p){console.error("Failed to fetch workspace members",p)}},k=async S=>{const p=S.status==="done"?"todo":"done",C=S.status;S.status=p;try{await ke.patch(`/api/tasks/${S.id}`,{status:p}),oe(),D("updated")}catch{S.status=C,alert("Toggle failed")}},M=async()=>{if(confirm("Permanently delete?"))try{await ke.delete(`/api/tasks/${b.taskId}`),D("updated"),D("close")}catch{alert("Failed to delete")}},O=S=>{if(!S)return"";const p=new Date(S);return`${String(p.getDate()).padStart(2,"0")}/${String(p.getMonth()+1).padStart(2,"0")}/${p.getFullYear()}`},J=S=>{if(!S)return"";const p=new Date(S);return p.getHours().toString().padStart(2,"0")+":"+p.getMinutes().toString().padStart(2,"0")},de=S=>S.action==="updated_status"?`moved to ${S.changes.to?.replace("_"," ")}`:S.action==="assigned_task"?`assigned to ${S.changes.to}`:S.action.startsWith("updated_")?`updated ${S.action.replace("updated_","")}`:S.action.replace("_"," "),pe=S=>{switch(S){case"urgent":return"bg-rose-500 text-white";case"high":return"bg-orange-500 text-white";case"medium":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400";default:return"bg-slate-100 text-slate-500"}},he=(S,p=!1)=>S?S.includes("/storage/deliveries/")?`/delivery-file/${S.split("/").pop()}${p?"?download=1":""}`:S:"#";return it(oe),(S,p)=>(d(),u(q,null,[ue(Re,{name:"fade"},{default:He(()=>[f.value?(d(),u("div",la,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:p[0]||(p[0]=C=>S.$emit("close"))}),ue(Re,{name:"slide-right",appear:""},{default:He(()=>[f.value?(d(),u("div",da,[f.value.status==="done"?(d(),u("div",ua,x(f.value.deliveries?.length>0?"Task Delivered":"Task Completed"),1)):h("",!0),t("div",ca,[t("div",pa,[t("button",{onClick:p[1]||(p[1]=C=>S.$emit("close")),class:"sm:hidden flex items-center gap-2 text-slate-500 font-heading font-bold uppercase tracking-widest text-xs pr-2 border-r border-slate-100 dark:border-slate-800"},[...p[20]||(p[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M15 18l-6-6 6-6"})],-1),we(" Back ",-1)])]),se(t("select",{"onUpdate:modelValue":p[2]||(p[2]=C=>y.value.priority=C),onChange:W,disabled:!g.value,class:P([[pe(y.value.priority),{"cursor-not-allowed opacity-80":!g.value}],"text-[10px] font-heading font-extrabold uppercase px-3 py-1 rounded-full tracking-widest border-none outline-none cursor-pointer appearance-none transition-pop active-tap"])},[...p[21]||(p[21]=[t("option",{value:"low"},"Low",-1),t("option",{value:"medium"},"Medium",-1),t("option",{value:"high"},"High",-1),t("option",{value:"urgent"},"Urgent",-1)])],42,ga),[[Ze,y.value.priority]]),se(t("select",{"onUpdate:modelValue":p[3]||(p[3]=C=>y.value.status=C),onChange:W,disabled:!T.value,class:P(["text-[10px] font-heading font-extrabold uppercase px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg tracking-widest border-none outline-none cursor-pointer transition-pop active-tap",{"cursor-not-allowed opacity-80":!T.value}])},[p[22]||(p[22]=t("option",{value:"todo"},"Plan",-1)),p[23]||(p[23]=t("option",{value:"in_progress"},"Work",-1)),f.value?.board?.plan?.workspace?.settings?.enable_review_step!==!1?(d(),u("option",va,"Review")):h("",!0),p[24]||(p[24]=t("option",{value:"done"},"Complete",-1))],42,fa),[[Ze,y.value.status]]),y.value.status==="testing"?(d(),u("div",ma,[se(t("input",{type:"checkbox",id:"review-check","onUpdate:modelValue":p[4]||(p[4]=C=>y.value.is_reviewed=C),onChange:W,class:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 cursor-pointer"},null,544),[[un,y.value.is_reviewed]]),p[25]||(p[25]=t("label",{for:"review-check",class:"text-[10px] font-bold uppercase tracking-widest text-blue-700 dark:text-blue-300 cursor-pointer select-none"},"Mark Reviewed",-1))])):h("",!0)]),t("div",ha,[t("div",ba,[p[26]||(p[26]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1-2.5-2.5Z"}),t("path",{d:"M8 7h6"}),t("path",{d:"M8 11h8"})],-1)),t("p",xa,"TASK-"+x(f.value.id),1)]),H.value?(d(),u("button",{key:0,onClick:M,class:"p-2 hover:bg-rose-50 dark:hover:bg-rose-500/10 text-slate-300 hover:text-rose-500 rounded-xl transition-all active-tap",title:"Delete Task"},[...p[27]||(p[27]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),t("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t("line",{x1:"14",y1:"11",x2:"14",y2:"17"})],-1)])])):h("",!0),t("button",{onClick:p[5]||(p[5]=C=>S.$emit("close")),class:"hidden sm:block p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors active-tap"},[...p[28]||(p[28]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",wa,[t("section",null,[se(t("input",{"onUpdate:modelValue":p[6]||(p[6]=C=>y.value.title=C),onBlur:W,disabled:!g.value,class:P(["w-full text-3xl font-heading font-bold text-slate-900 dark:text-white bg-transparent border-none outline-none focus:ring-0 mb-4 p-0",{"cursor-not-allowed":!g.value}]),placeholder:"Task Title"},null,42,ka),[[ce,y.value.title]]),se(t("textarea",{"onUpdate:modelValue":p[7]||(p[7]=C=>y.value.description=C),onBlur:W,disabled:!g.value,class:P(["w-full text-base text-slate-500 dark:text-slate-400 bg-transparent border-none outline-none focus:ring-0 p-0 resize-none min-h-[100px]",{"cursor-not-allowed":!g.value}]),placeholder:"Add a detailed description..."},null,42,ya),[[ce,y.value.description]])]),f.value.deliveries?.length||g.value?(d(),u("section",_a,[t("div",Da,[p[30]||(p[30]=t("h3",{class:"text-xs font-heading font-bold uppercase tracking-[0.2em] text-slate-400"},"Task Deliveries",-1)),g.value?(d(),u("button",{key:0,onClick:p[8]||(p[8]=C=>I.value=!0),class:"text-[10px] font-heading font-bold uppercase tracking-widest px-4 py-2 bg-emerald-500 text-white rounded-xl shadow-lg shadow-emerald-500/20 hover:scale-105 hover:bg-emerald-600 transition-all flex items-center gap-2 active-tap"},[...p[29]||(p[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M5 12h14"}),t("path",{d:"M12 5v14"})],-1),we(" Add New Delivery ",-1)])])):h("",!0)]),f.value.deliveries?.length?(d(),u("div",Ca,[(d(!0),u(q,null,ee(f.value.deliveries,C=>(d(),u("div",{key:C.id,class:"space-y-6 relative pl-6 border-l-2 border-emerald-500/20"},[p[36]||(p[36]=t("div",{class:"absolute -left-[5px] top-0 w-2 h-2 rounded-full bg-emerald-500"},null,-1)),t("div",Ma,[t("div",$a,[t("div",Ta,[t("p",Sa,"Package from "+x(C.user?.display_name),1),t("span",Ea,x(O(C.created_at)),1)]),C.user_id===N(e).user.id||o.role==="owner"?(d(),u("button",{key:0,onClick:re=>S.deleteDelivery(C.id),class:"p-1 px-2 text-[9px] font-black uppercase tracking-widest bg-rose-50 text-rose-500 hover:bg-rose-500 hover:text-white rounded-lg transition-all active-tap"}," Delete Package ",8,Ia)):h("",!0)]),C.notes?(d(),u("div",Aa,x(C.notes),1)):h("",!0),t("div",Fa,[(d(!0),u(q,null,ee(C.items,re=>(d(),u("div",{key:re.id,onDblclick:Ie=>S.openItem(he(re.content)),class:"flex items-center gap-3 p-4 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-[2rem] hover:border-emerald-500/50 hover:shadow-lg hover:shadow-emerald-500/5 transition-all group relative cursor-pointer active-tap"},[t("div",Oa,[re.type==="link"?(d(),u("svg",Na,[...p[31]||(p[31]=[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},null,-1),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},null,-1)])])):re.name.toLowerCase().endsWith(".pdf")?(d(),u("svg",Pa,[...p[32]||(p[32]=[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),t("polyline",{points:"14 2 14 8 20 8"},null,-1),t("path",{d:"M9 15h3a1.5 1.5 0 0 0 0-3H9v6"},null,-1),t("path",{d:"M5 12v6"},null,-1),t("path",{d:"M5 15h3"},null,-1)])])):(d(),u("svg",Ya,[...p[33]||(p[33]=[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),t("polyline",{points:"14 2 14 8 20 8"},null,-1)])]))]),t("div",Ha,[t("p",La,x(re.name),1),re.description?(d(),u("p",Va,x(re.description),1)):h("",!0)]),t("div",Ba,[re.type!=="link"?(d(),u("a",{key:0,href:he(re.content,!0),onClick:p[9]||(p[9]=fe(()=>{},["stop"])),class:"p-2 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-lg transition-all"},[...p[34]||(p[34]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7 10 12 15 17 10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)])],8,Ra)):h("",!0),t("a",{href:he(re.content,!1),target:"_blank",rel:"noopener noreferrer",onClick:p[10]||(p[10]=fe(()=>{},["stop"])),class:"p-2 bg-slate-50 dark:bg-slate-800 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-500/10 rounded-lg transition-all"},[...p[35]||(p[35]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),t("polyline",{points:"15 3 21 3 21 9"}),t("line",{x1:"10",y1:"14",x2:"21",y2:"3"})],-1)])],8,Wa)])],40,ja))),128))])])]))),128))])):(d(),u("div",Ua,[p[38]||(p[38]=t("div",{class:"w-16 h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-300 mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"17 8 12 3 7 8"}),t("line",{x1:"12",y1:"3",x2:"12",y2:"15"})])],-1)),p[39]||(p[39]=t("div",null,[t("p",{class:"text-xs font-heading font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400"},"Professional Delivery Terminal"),t("p",{class:"text-[10px] font-medium text-slate-400 mt-1"},"Ready for hand-over artifacts")],-1)),g.value?(d(),u("button",{key:0,onClick:p[11]||(p[11]=C=>I.value=!0),class:"mt-2 px-6 py-3 bg-emerald-500 text-white rounded-xl shadow-xl shadow-emerald-500/20 hover:scale-105 hover:bg-emerald-600 transition-all font-heading font-bold text-xs uppercase tracking-widest flex items-center gap-2 active-tap"},[...p[37]||(p[37]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M5 12h14"}),t("path",{d:"M12 5v14"})],-1),we(" Process Delivery ",-1)])])):h("",!0)]))])):h("",!0),t("section",za,[t("div",Ka,[t("div",Ga,[t("div",qa,[t("label",{for:"start-date-"+o.taskId,class:"text-[10px] font-heading font-bold uppercase tracking-widest text-slate-400"},"Start Date & Time",8,Ja),ue(Re,{name:"fade"},{default:He(()=>[G.value?(d(),u("span",Xa,[p[40]||(p[40]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})],-1)),we(" "+x(G.value),1)])):h("",!0)]),_:1})]),t("div",Za,[ue(kt,{id:"start-date-"+o.taskId,name:"start_date_"+o.taskId,modelValue:y.value.start_date,"onUpdate:modelValue":p[12]||(p[12]=C=>y.value.start_date=C),onChange:W,disabled:!g.value},null,8,["id","name","modelValue","disabled"]),se(t("input",{id:"start-time-"+o.taskId,type:"time","onUpdate:modelValue":p[13]||(p[13]=C=>y.value.start_time=C),onChange:W,disabled:!g.value,class:P(["w-24 bg-slate-50 dark:bg-slate-800/50 border-none rounded-xl px-4 py-3 text-base font-bold text-slate-700 dark:text-slate-200 outline-none focus:ring-2 focus:ring-indigo-500/20 active-tap",{"cursor-not-allowed opacity-80":!g.value}])},null,42,Qa),[[ce,y.value.start_time]])])]),Z.value.length>1?(d(),u("div",es,[t("label",{for:"assignee-"+o.taskId,class:"text-[10px] font-heading font-bold uppercase tracking-widest text-slate-400"},"Assignee",8,ts),se(t("select",{id:"assignee-"+o.taskId,"onUpdate:modelValue":p[14]||(p[14]=C=>y.value.assigned_to=C),onChange:W,disabled:!g.value,class:P(["w-full bg-slate-50 dark:bg-slate-800/50 border-none rounded-xl px-4 py-3 text-base font-bold text-slate-700 dark:text-slate-200 outline-none focus:ring-2 focus:ring-indigo-500/20 appearance-none cursor-pointer transition-pop active-tap",{"cursor-not-allowed opacity-80":!g.value}])},[p[41]||(p[41]=t("option",{value:null},"Unassigned",-1)),(d(!0),u(q,null,ee(Z.value,C=>(d(),u("option",{key:C.id,value:C.id},x(C.display_name),9,as))),128))],42,ns),[[Ze,y.value.assigned_to]])])):h("",!0)]),t("div",ss,[t("label",{for:"due-date-"+o.taskId,class:"text-[10px] font-heading font-bold uppercase tracking-widest text-slate-400"},"Due Date",8,os),t("div",rs,[ue(kt,{id:"due-date-"+o.taskId,name:"due_date_"+o.taskId,modelValue:y.value.due_date,"onUpdate:modelValue":p[15]||(p[15]=C=>y.value.due_date=C),onChange:W,disabled:!g.value},null,8,["id","name","modelValue","disabled"]),se(t("input",{id:"due-time-"+o.taskId,type:"time","onUpdate:modelValue":p[16]||(p[16]=C=>y.value.due_time=C),onChange:W,class:"w-24 bg-slate-50 dark:bg-slate-800/50 border-none rounded-xl px-4 py-3 text-base font-bold text-slate-700 dark:text-slate-200 outline-none focus:ring-2 focus:ring-indigo-500/20 active-tap"},null,40,is),[[ce,y.value.due_time]])])])]),t("section",ls,[t("div",ds,[t("div",us,[p[42]||(p[42]=t("h3",{class:"text-sm font-heading font-bold uppercase tracking-[0.2em] text-slate-400"},"Sub-tasks",-1)),f.value.subtasks?.length?(d(),u("span",cs,x(f.value.subtasks.length),1)):h("",!0)]),g.value?(d(),u("button",{key:0,onClick:p[17]||(p[17]=C=>L.value=!0),class:"text-[10px] font-heading font-bold text-indigo-600 hover:opacity-80 uppercase tracking-widest flex items-center gap-1 active-tap"},[...p[43]||(p[43]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"4"},[t("path",{d:"M5 12h14"}),t("path",{d:"M12 5v14"})],-1),we(" Add Sub-task ",-1)])])):h("",!0)]),f.value.subtasks?.length?(d(),u("div",ps,[(d(!0),u(q,null,ee(f.value.subtasks,C=>(d(),u("div",{key:C.id,class:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 group hover:border-indigo-500/30 transition-all active-tap"},[t("button",{onClick:fe(re=>k(C),["stop"]),class:"w-5 h-5 rounded-md border-2 border-slate-200 dark:border-slate-700 flex items-center justify-center transition-all hover:border-indigo-500"},[t("div",{class:P(["w-2 h-2 rounded-sm bg-indigo-500 opacity-0 group-hover:opacity-20",{"opacity-100":C.status==="done"}])},null,2)],8,gs),t("span",{class:P(["flex-1 text-sm font-bold text-slate-700 dark:text-slate-200",{"line-through text-slate-400":C.status==="done"}])},x(C.title),3)]))),128))])):h("",!0)]),t("section",fs,[p[44]||(p[44]=t("h3",{class:"text-sm font-black uppercase tracking-[0.2em] text-slate-400"},"Activity Log",-1)),t("div",vs,[(d(!0),u(q,null,ee(f.value.activity_logs,C=>(d(),u("div",{key:C.id,class:"flex gap-4"},[t("img",{src:C.user?.avatar||"https://ui-avatars.com/api/?name="+C.user?.display_name,class:"w-8 h-8 rounded-full shrink-0 mt-1"},null,8,ms),t("div",hs,[t("p",bs,[t("span",xs,x(C.user?.display_name||"System"),1),t("span",ws,"did "+x(de(C)),1)]),t("p",ks,x(O(C.created_at)),1)])]))),128))])])]),t("div",ys,[t("div",_s,[t("img",{src:f.value.creator?.avatar||"https://ui-avatars.com/api/?name="+(f.value.creator?.display_name||"System"),class:"w-8 h-8 rounded-full ring-2 ring-white dark:ring-slate-800 object-cover"},null,8,Ds),t("div",Cs,[p[45]||(p[45]=t("p",{class:"text-[10px] font-heading font-bold uppercase tracking-widest text-slate-400"},"Owner",-1)),t("p",Ms,x(f.value.creator?.display_name),1)])]),t("div",$s,[p[46]||(p[46]=t("p",{class:"text-[10px] font-heading font-bold uppercase tracking-widest text-slate-400"},"Recipient",-1)),t("p",Ts,x(f.value.assignee?.display_name||"Unassigned"),1)])])])):h("",!0)]),_:1})])):h("",!0)]),_:1}),ue(Re,{name:"fade"},{default:He(()=>[V.value?(d(),u("div",Ss,[...p[47]||(p[47]=[t("div",{class:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"},null,-1),we(" Syncing Artifacts... ",-1)])])):h("",!0)]),_:1}),I.value?(d(),Xe(zt,{key:0,show:I.value,task:f.value,onClose:p[18]||(p[18]=C=>I.value=!1),onDelivered:p[19]||(p[19]=C=>{oe(),D("updated")})},null,8,["show","task"])):h("",!0)],64))}},Is=tt(Es,[["__scopeId","data-v-20ec36f2"]]),As={class:"bg-transparent p-0"},Fs={key:0},js={class:"flex items-center justify-between mb-8"},Os={class:"flex items-center gap-6"},Ns={class:"text-2xl font-heading font-extrabold text-slate-800 dark:text-white capitalize"},Ps={class:"flex items-center bg-slate-100 dark:bg-slate-800 p-1 rounded-xl"},Ys={class:"grid grid-cols-7 gap-3 sm:gap-4"},Hs={class:"text-[13px] font-heading font-bold uppercase tracking-widest text-slate-400 dark:text-slate-500"},Ls={class:"flex justify-between items-start mb-4 shrink-0"},Vs={key:0,class:"text-[10px] uppercase font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-500/10 px-2 py-0.5 rounded-md"},Bs={class:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar scrollbar-hide hover:scrollbar-default"},Rs=["onClick"],Ws={class:"relative shrink-0"},Us=["src"],zs={key:0,class:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-indigo-500 rounded-full ring-2 ring-white dark:ring-slate-800"},Ks={class:"min-w-0 flex-1"},Gs={class:"text-[13px] font-semibold text-slate-700 dark:text-slate-200 leading-tight truncate group-hover/task:text-indigo-600 transition-colors"},qs={key:1,class:"space-y-8"},Js={class:"space-y-4"},Xs={class:"flex items-center justify-between"},Zs={class:"text-lg font-heading font-extrabold text-slate-800 dark:text-white uppercase tracking-widest"},Qs={class:"flex gap-2"},eo=["onClick"],to={class:"text-[10px] font-heading font-extrabold uppercase tracking-widest opacity-60"},no={class:"text-lg font-heading font-extrabold"},ao={key:0,class:"w-1 h-1 rounded-full bg-current"},so={class:"space-y-4"},oo={class:"flex items-center justify-between"},ro={class:"text-xs font-heading font-extrabold uppercase tracking-[0.2em] text-slate-400"},io={class:"text-[10px] font-heading font-extrabold uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-500/10 px-2 py-1 rounded-md"},lo={class:"space-y-3"},uo=["onClick"],co={class:"flex items-center justify-between mb-3"},po={class:"flex items-center gap-2"},go={class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-slate-400"},fo={class:"text-base font-bold text-slate-800 dark:text-white mb-2"},vo={class:"flex items-center justify-between"},mo={key:0,class:"flex items-center gap-2"},ho=["src"],bo={class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-indigo-600"},xo={key:1,class:"flex items-center gap-2 opacity-50"},wo=["src"],ko={key:0,class:"py-12 text-center bg-slate-50 dark:bg-slate-800/30 rounded-[2.5rem] border border-dashed border-slate-200 dark:border-slate-800"},yo={__name:"CalendarView",props:{tasks:{type:Array,default:()=>[]},monthYear:{type:String,default:""},isMobile:{type:Boolean,default:!1},globalMode:{type:Boolean,default:!1}},emits:["task-click","update:monthYear"],setup(o,{emit:i}){const e=o,b=i,D=B(new Date),g=B(new Date),T=B(0);Be(()=>e.monthYear,w=>{if(w){const[k,M]=w.split("-"),O=new Date(k,M-1,1);(O.getMonth()!==D.value.getMonth()||O.getFullYear()!==D.value.getFullYear())&&(D.value=O,g.value.getMonth()!==D.value.getMonth()&&(g.value=new Date(k,M-1,1)))}},{immediate:!0});const H=Me(()=>D.value.toLocaleString("default",{month:"long",year:"numeric"})),f=Me(()=>{const w=D.value.getFullYear(),k=D.value.getMonth(),M=new Date(w,k+1,0).getDate(),O=[],J=new Date;for(let de=1;de<=M;de++){const pe=new Date(w,k,de);O.push({day:de,date:pe,isToday:pe.toDateString()===J.toDateString()})}return O}),Z=Me(()=>{const w=[],k=D.value.getFullYear(),M=D.value.getMonth(),O=new Date(k,M,1).getDay(),J=new Date(k,M+1,0).getDate(),de=new Date(k,M,0).getDate();for(let S=O-1;S>=0;S--)w.push({day:de-S,date:new Date(k,M-1,de-S),isOtherMonth:!0});const pe=new Date;for(let S=1;S<=J;S++){const p=new Date(k,M,S);w.push({day:S,date:p,isOtherMonth:!1,isToday:p.toDateString()===pe.toDateString()})}const he=42-w.length;for(let S=1;S<=he;S++)w.push({day:S,date:new Date(k,M+1,S),isOtherMonth:!0});return w}),V=w=>{const k=new Date(D.value.getFullYear(),D.value.getMonth()+w,1);D.value=k,g.value=new Date(k.getFullYear(),k.getMonth(),1);const M=k.getFullYear(),O=String(k.getMonth()+1).padStart(2,"0");b("update:monthYear",`${M}-${O}`)},G=w=>{if(!w)return[];const k=w.toDateString();return e.tasks.filter(M=>new Date(M.deadline||M.created_at).toDateString()===k)},j=w=>G(w).length>0,I=(w,k)=>w&&k&&w.toDateString()===k.toDateString(),L=w=>w.toLocaleString("default",{weekday:"short"}).slice(0,3),y=w=>{if(!w)return"";const k=String(w.getDate()).padStart(2,"0"),M=String(w.getMonth()+1).padStart(2,"0"),O=w.getFullYear();return`${k}/${M}/${O}`},oe=w=>{T.value=w.touches[0].clientX},ie=w=>{const k=w.changedTouches[0].clientX,M=T.value-k;if(Math.abs(M)>70){const O=g.value.getDate(),J=new Date(D.value.getFullYear(),D.value.getMonth()+1,0).getDate();M>0&&O<J?g.value=new Date(D.value.getFullYear(),D.value.getMonth(),O+1):M<0&&O>1&&(g.value=new Date(D.value.getFullYear(),D.value.getMonth(),O-1))}},W=w=>{switch(w){case"urgent":return"bg-rose-500 text-white";case"high":return"bg-orange-500 text-white";case"medium":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400";default:return"bg-slate-100 text-slate-500 dark:bg-slate-800"}};return(w,k)=>(d(),u("div",As,[o.isMobile?(d(),u("div",qs,[t("div",Js,[t("div",Xs,[t("h2",Zs,x(H.value),1),t("div",Qs,[t("button",{onClick:k[2]||(k[2]=M=>V(-1)),class:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500"},[...k[7]||(k[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("polyline",{points:"15 18 9 12 15 6"})],-1)])]),t("button",{onClick:k[3]||(k[3]=M=>V(1)),class:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-500"},[...k[8]||(k[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])])])]),t("div",{class:"flex items-center gap-3 overflow-x-auto pb-4 no-scrollbar scroll-smooth",onTouchstart:oe,onTouchend:ie},[(d(!0),u(q,null,ee(f.value,M=>(d(),u("button",{key:M.date.toISOString(),onClick:O=>g.value=M.date,class:P(["flex-shrink-0 w-16 h-20 rounded-[1.5rem] flex flex-col items-center justify-center gap-1 transition-all duration-300",[I(g.value,M.date)?"bg-indigo-600 text-white shadow-xl shadow-indigo-500/30 -translate-y-1":"bg-slate-50 dark:bg-slate-800 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"]])},[t("span",to,x(L(M.date)),1),t("span",no,x(M.day),1),j(M.date)?(d(),u("div",ao)):h("",!0)],10,eo))),128))],32)]),t("div",so,[t("div",oo,[t("h3",ro,"Tasks for "+x(y(g.value)),1),t("span",io,x(G(g.value).length)+" Tasks",1)]),t("div",lo,[(d(!0),u(q,null,ee(G(g.value),M=>(d(),u("div",{key:M.id,onClick:O=>w.$emit("task-click",M.id),class:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-[2rem] border border-slate-100 dark:border-slate-700/50 active:scale-[0.98] transition-all"},[t("div",co,[t("span",{class:P([W(M.priority),"text-[10px] font-heading font-extrabold uppercase tracking-widest px-2.5 py-1 rounded-full"])},x(M.priority),3),t("div",po,[t("p",go,x(M.status.replace("_"," ")),1)])]),t("h4",fo,x(M.title),1),t("div",vo,[M.working_by?(d(),u("div",mo,[t("img",{src:M.working_by.avatar||"https://ui-avatars.com/api/?name="+M.working_by.display_name,class:"w-6 h-6 rounded-full border-2 border-indigo-500"},null,8,ho),t("span",bo,"Work by  "+x(M.working_by.display_name),1)])):(d(),u("div",xo,[t("img",{src:M.creator?.avatar||"https://ui-avatars.com/api/?name="+M.creator?.display_name,class:"w-6 h-6 rounded-full grayscale"},null,8,wo),k[9]||(k[9]=t("span",{class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-slate-400"},"Waiting Room",-1))]))])],8,uo))),128)),G(g.value).length===0?(d(),u("div",ko,[...k[10]||(k[10]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mx-auto text-slate-300 mb-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-70fbfe92><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-70fbfe92></rect><line x1="16" y1="2" x2="16" y2="6" data-v-70fbfe92></line><line x1="8" y1="2" x2="8" y2="6" data-v-70fbfe92></line><line x1="3" y1="10" x2="21" y2="10" data-v-70fbfe92></line><path d="m9 16 2 2 4-4" data-v-70fbfe92></path></svg><p class="text-sm font-bold text-slate-400 uppercase tracking-widest" data-v-70fbfe92>Clear for takeoff!</p>',2)])])):h("",!0)])])])):(d(),u("div",Fs,[t("div",js,[t("div",Os,[t("h2",Ns,x(H.value),1),t("div",Ps,[t("button",{onClick:k[0]||(k[0]=M=>V(-1)),class:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-all text-slate-400 hover:text-indigo-600"},[...k[4]||(k[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("polyline",{points:"15 18 9 12 15 6"})],-1)])]),t("button",{onClick:k[1]||(k[1]=M=>V(1)),class:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-all text-slate-400 hover:text-indigo-600"},[...k[5]||(k[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])])])]),k[6]||(k[6]=t("div",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-full bg-indigo-500"}),t("p",{class:"text-[10px] font-heading font-extrabold uppercase tracking-widest text-slate-400"},"Monthly View")],-1))]),t("div",Ys,[(d(),u(q,null,ee(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],M=>t("div",{key:M,class:"text-center mb-2"},[t("span",Hs,x(M),1)])),64)),(d(!0),u(q,null,ee(Z.value,(M,O)=>(d(),u("div",{key:O,class:P(["min-h-[240px] p-4 bg-white dark:bg-slate-900 rounded-[1.5rem] border border-slate-200 dark:border-slate-800 shadow-sm transition-all hover:shadow-md flex flex-col relative group",[M.isOtherMonth?"opacity-50 grayscale bg-slate-50 dark:bg-slate-950":"",M.isToday?"ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-slate-950":""]])},[t("div",Ls,[t("span",{class:P(["text-2xl font-heading font-bold leading-none",M.isToday?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-200"])},x(M.day),3),M.isToday?(d(),u("span",Vs,"Today")):h("",!0)]),t("div",Bs,[(d(!0),u(q,null,ee(G(M.date),J=>(d(),u("div",{key:J.id,onClick:de=>w.$emit("task-click",J.id),class:"group/task flex items-center gap-3 p-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 hover:bg-white dark:hover:bg-slate-700 hover:shadow-md transition-all cursor-pointer border border-transparent hover:border-slate-100 dark:hover:border-slate-600 select-none relative overflow-hidden"},[t("div",Ws,[t("img",{src:(J.working_by?J.working_by.avatar:J.creator?.avatar)||"https://ui-avatars.com/api/?name="+(J.working_by?J.working_by.display_name:J.creator?.display_name),class:"w-7 h-7 rounded-full object-cover ring-2 ring-white dark:ring-slate-800 shadow-sm"},null,8,Us),J.status==="in_progress"?(d(),u("div",zs)):h("",!0)]),t("div",Ks,[t("p",Gs,x(J.title),1)])],8,Rs))),128))])],2))),128))])]))]))}},_o=tt(yo,[["__scopeId","data-v-70fbfe92"]]),Do={class:"relative z-50"},Co={class:"w-8 h-8 rounded-lg bg-indigo-50 dark:bg-indigo-500/10 flex items-center justify-center text-indigo-600 transition-transform"},Mo={key:0,class:"text-lg"},$o={key:1,class:"text-lg"},To={key:2,class:"text-lg"},So={key:3,class:"text-lg"},Eo={class:"flex-1 text-left"},Io={class:"flex items-center gap-1.5 mb-1"},Ao={key:0,class:"text-[8px] px-1.5 py-0.5 bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 rounded-full font-black uppercase tracking-tighter"},Fo={class:"text-base font-bold text-slate-800 dark:text-white leading-none truncate w-32"},jo={key:0,class:"absolute top-full left-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-800 p-2 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200"},Oo={class:"max-h-[300px] overflow-y-auto space-y-1 my-2 custom-scrollbar"},No=["onClick"],Po={class:"w-8 h-8 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center text-lg shadow-sm"},Yo={class:"flex-1 text-left"},Ho={class:"text-[11px] font-medium text-slate-400 uppercase tracking-wider"},Lo={key:0,class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},Vo=["onClick"],Bo={__name:"ContextSwitcher",emits:["create"],setup(o,{emit:i}){const e=i,b=Ut(),{workspaces:D,currentWorkspace:g}=Wt(b),T=B(!1),H=j=>{switch(j){case"Personal":return"";case"Work":return"";case"Company":return"";case"Team":return"";default:return""}},f=j=>{b.switchWorkspace(j),T.value=!1},Z=()=>{e("create"),T.value=!1},V=async j=>{if(confirm(`Are you sure you want to delete "${j.name}"? This action cannot be undone.`))try{await b.deleteWorkspace(j.id)}catch(I){const L=I.response?.data?.message||"Failed to delete workspace. Please check your permissions or network.";alert(L)}},G={mounted(j,I){j.clickOutsideEvent=function(L){j===L.target||j.contains(L.target)||I.value(L,j)},document.body.addEventListener("click",j.clickOutsideEvent)},unmounted(j){document.body.removeEventListener("click",j.clickOutsideEvent)}};return(j,I)=>(d(),u("div",Do,[t("button",{onClick:I[0]||(I[0]=fe(L=>T.value=!T.value,["stop"])),class:"flex items-center gap-3 bg-white dark:bg-slate-900 px-3 py-2 sm:py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-indigo-500 hover:shadow-lg transition-all duration-300 group min-w-[200px] h-11 lg:h-auto"},[t("div",Co,[N(b).globalMode?(d(),u("span",Mo,"")):N(g)?.type==="Personal"?(d(),u("span",$o,"")):N(g)?.type==="Work"?(d(),u("span",To,"")):(d(),u("span",So,""))]),t("div",Eo,[t("div",Io,[I[1]||(I[1]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 leading-none"},"Context",-1)),N(g)?.pivot?.role?(d(),u("span",Ao,x(N(g).pivot.role),1)):h("",!0)]),t("p",Fo,x(N(b).globalMode?"Global View":N(g)?.name||"Loading..."),1)]),(d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",class:P(["w-4 h-4 text-slate-400 transition-transform duration-300",{"rotate-180":T.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[...I[2]||(I[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),T.value?se((d(),u("div",jo,[I[5]||(I[5]=t("div",{class:"px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-400"},"Switch Context",-1)),t("div",Oo,[(d(!0),u(q,null,ee(N(D),L=>(d(),u("button",{key:L.id,onClick:y=>f(L),class:P([[N(g)?.id===L.id?"bg-indigo-50 dark:bg-indigo-500/10 border-indigo-200 dark:border-indigo-500/30":"border-transparent hover:bg-slate-50 dark:hover:bg-slate-800/50"],"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-all group"])},[t("div",Po,[t("span",null,x(H(L.type)),1)]),t("div",Yo,[t("p",{class:P(["text-base font-bold leading-none mb-1 transition-colors",[N(g)?.id===L.id?"text-indigo-600 dark:text-indigo-400":"text-slate-700 dark:text-slate-300"]])},x(L.name),3),t("p",Ho,x(L.type),1)]),N(g)?.id===L.id?(d(),u("div",Lo)):h("",!0),L.pivot?.role==="owner"?(d(),u("button",{key:1,onClick:fe(y=>V(L),["stop"]),class:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete Context"},[...I[3]||(I[3]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-e5ded903><path d="M3 6h18" data-v-e5ded903></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-e5ded903></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-e5ded903></path><line x1="10" y1="11" x2="10" y2="17" data-v-e5ded903></line><line x1="14" y1="11" x2="14" y2="17" data-v-e5ded903></line></svg>',1)])],8,Vo)):h("",!0)],10,No))),128))]),I[6]||(I[6]=t("div",{class:"h-px bg-slate-100 dark:bg-slate-800 my-2"},null,-1)),t("button",{onClick:Z,class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-slate-50 dark:bg-slate-800 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 text-slate-600 dark:text-slate-300 hover:text-indigo-600 rounded-xl transition-all text-sm font-bold uppercase tracking-wider border border-dashed border-slate-200 dark:border-slate-700 hover:border-indigo-300"},[...I[4]||(I[4]=[t("span",{class:"text-lg"},"+",-1),we(" Create New Context ",-1)])])])),[[G,()=>T.value=!1]]):h("",!0)]))}},Ro=tt(Bo,[["__scopeId","data-v-e5ded903"]]),Wo={key:0,class:"fixed inset-0 z-[20000] flex items-center justify-center p-4"},Uo={class:"relative bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl p-8 border border-slate-100 dark:border-slate-800 animate-in zoom-in-95 duration-200"},zo={class:"mb-8"},Ko={class:"text-2xl font-black text-slate-800 dark:text-white mb-2"},Go={class:"text-slate-500 text-sm"},qo={class:"font-bold text-indigo-600"},Jo={class:"space-y-6"},Xo={class:"space-y-4"},Zo={class:"grid grid-cols-3 gap-2"},Qo=["onClick"],er={class:"mt-2 text-[10px] text-slate-400 font-medium px-1"},tr=["disabled"],nr={class:"space-y-4"},ar={class:"space-y-3 max-h-48 overflow-y-auto custom-scrollbar pr-2"},sr={class:"flex items-center gap-3"},or=["src"],rr={class:"text-sm font-bold text-slate-800 dark:text-white leading-none"},ir={class:"text-[10px] text-slate-400 font-bold uppercase tracking-widest"},lr=["onClick"],dr={__name:"ShareModal",props:{show:Boolean,type:String,id:[Number,String],entity:Object},emits:["close"],setup(o,{emit:i}){const e=o,b=B(!1),D=B([]),g=B({email:"",role:"editor"}),T=[{id:"owner",label:"Owner",desc:"Full control over data and sharing."},{id:"editor",label:"Editor",desc:"Can add, edit and delete tasks."},{id:"viewer",label:"Viewer",desc:"Read-only access to all data."}],H=Me(()=>T.find(j=>j.id===g.value.role)?.desc),f=Me(()=>!0),Z=async()=>{if(e.id)try{const j=await ke.get(`/api/share/members/${e.type.toLowerCase()}/${e.id}`);D.value=j.data}catch{console.error("Failed to fetch members")}},V=async()=>{b.value=!0;try{await ke.post("/api/share/invite",{email:g.value.email,role:g.value.role,type:e.type,id:e.id}),g.value.email="",Z()}catch(j){alert(j.response?.data?.message||"Failed to invite user")}finally{b.value=!1}},G=async j=>{if(confirm("Remove this member from access?"))try{await ke.delete(`/api/share/members/${e.type.toLowerCase()}/${e.id}/${j}`),Z()}catch{alert("Failed to remove member")}};return Be(()=>e.show,j=>{j&&Z()}),it(()=>{e.show&&Z()}),(j,I)=>o.show?(d(),u("div",Wo,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:I[0]||(I[0]=L=>j.$emit("close"))}),t("div",Uo,[t("div",zo,[t("h2",Ko,"Share "+x(o.type),1),t("p",Go,[I[2]||(I[2]=we("Invite others to collaborate on ",-1)),t("span",qo,x(o.entity?.name),1)])]),t("div",Jo,[t("div",Xo,[t("div",null,[I[3]||(I[3]=t("label",{for:"invite-email",class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Email Address",-1)),se(t("input",{id:"invite-email","onUpdate:modelValue":I[1]||(I[1]=L=>g.value.email=L),type:"email",placeholder:"colleague@company.com",class:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-bold"},null,512),[[ce,g.value.email]])]),t("div",null,[I[4]||(I[4]=t("label",{class:"block text-[11px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Access Level",-1)),t("div",Zo,[(d(),u(q,null,ee(T,L=>t("button",{key:L.id,onClick:y=>g.value.role=L.id,class:P(["py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border",g.value.role===L.id?"bg-indigo-600 text-white border-transparent shadow-lg shadow-indigo-500/30":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-slate-100 dark:border-slate-700 hover:bg-slate-100"])},x(L.label),11,Qo)),64))]),t("p",er,x(H.value),1)]),t("button",{onClick:V,disabled:b.value||!g.value.email,class:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 disabled:opacity-50 transition-all"},x(b.value?"SENDING...":"INVITE PERSON"),9,tr)]),I[7]||(I[7]=t("div",{class:"h-px bg-slate-100 dark:bg-slate-800"},null,-1)),t("div",nr,[I[6]||(I[6]=t("h3",{class:"text-[11px] font-black uppercase tracking-widest text-slate-400 px-1"},"Current Members",-1)),t("div",ar,[(d(!0),u(q,null,ee(D.value,L=>(d(),u("div",{key:L.id,class:"flex items-center justify-between group"},[t("div",sr,[t("img",{src:L.avatar||"https://ui-avatars.com/api/?name="+L.display_name,class:"w-8 h-8 rounded-full object-cover"},null,8,or),t("div",null,[t("p",rr,x(L.display_name),1),t("p",ir,x(L.pivot?.role||"member"),1)])]),f.value?(d(),u("button",{key:0,onClick:y=>G(L.id),class:"opacity-0 group-hover:opacity-100 p-2 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-lg transition-all"},[...I[5]||(I[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)])],8,lr)):h("",!0)]))),128))])])])])])):h("",!0)}},ur=tt(dr,[["__scopeId","data-v-a500b6d5"]]),cr={class:"p-6 transition-all duration-500 min-h-screen bg-slate-50/50 dark:bg-slate-950/50"},pr={class:"mb-10 space-y-6 px-2"},gr={class:"flex flex-col sm:flex-row items-center justify-between gap-6"},fr={class:"flex items-center gap-6 w-full sm:w-auto"},vr={key:0,class:"flex items-center bg-white dark:bg-slate-900 p-1 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm"},mr={class:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end"},hr={class:"flex items-center gap-3 bg-white dark:bg-slate-900 p-1.5 pr-4 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm"},br=["src"],xr={class:"hidden lg:block"},wr={class:"text-sm font-bold text-slate-800 dark:text-white leading-none"},kr={class:"flex items-center gap-1 border-l border-slate-100 dark:border-slate-800 ml-2 pl-2"},yr={key:2,class:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700"},_r={key:0,class:"flex items-center gap-4 pt-4 border-t border-slate-100 dark:border-slate-800/50"},Dr={key:0,class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},Cr={key:0},Mr={class:"flex items-center justify-between mb-10"},$r={class:"space-y-10"},Tr={key:0,class:"space-y-4"},Sr=["value"],Er={class:"space-y-4"},Ir={class:"grid grid-cols-2 gap-2"},Ar=["onClick"],Fr={class:"space-y-4"},jr={class:"grid grid-cols-1 gap-2"},Or=["onClick"],Nr={class:"text-[10px] uppercase tracking-widest"},Pr={key:0,class:"w-1.5 h-1.5 rounded-full bg-indigo-600 animate-pulse"},Yr={class:"space-y-4"},Hr={key:0,class:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2 duration-300"},Lr={class:"space-y-1"},Vr={class:"space-y-1"},Br={class:"mt-12 flex items-center gap-3"},Rr={key:1,class:"flex items-center justify-between px-6 mb-4"},Wr={class:"flex items-center gap-1.5"},Ur={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 italic"},zr=["onDragover","onDrop"],Kr={class:"flex items-center justify-between mb-8 px-2"},Gr={class:"flex items-center gap-3"},qr={class:"text-sm font-heading font-black text-slate-800 dark:text-slate-100 uppercase tracking-widest"},Jr={class:"text-[12px] text-slate-400 font-bold uppercase tracking-tighter"},Xr={class:"space-y-5"},Zr=["draggable","onDragstart","onTouchstart","onTouchend","onClick"],Qr={class:"flex justify-between items-start mb-4"},ei={class:"flex items-center gap-2"},ti={class:"flex items-center -space-x-1.5 flex-row-reverse justify-end"},ni=["src","title"],ai=["src","title"],si=["src","title"],oi=["src","title"],ri=["onClick"],ii=["onClick"],li={class:"flex-1"},di={class:"font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors mb-2 leading-tight text-lg"},ui={key:0,class:"flex items-center gap-1.5 mb-2"},ci={class:"text-[10px] font-black uppercase tracking-widest text-indigo-600/80 bg-indigo-50 dark:bg-indigo-500/10 px-2 py-0.5 rounded-md"},pi={key:1,class:"flex items-center gap-1.5 mb-2"},gi={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 dark:bg-slate-800/50 px-2 py-0.5 rounded-md"},fi={key:2,class:"mb-3 flex items-center gap-2"},vi={class:"text-[9px] font-black uppercase tracking-[0.15em] px-2.5 py-1 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-lg flex items-center gap-1.5 ring-1 ring-slate-200 dark:ring-slate-700 shadow-sm transition-all group-hover:bg-indigo-50 dark:group-hover:bg-indigo-500/10 group-hover:text-indigo-600 group-hover:ring-indigo-100 dark:group-hover:ring-indigo-500/30"},mi={class:"text-xs"},hi={key:3,class:"mb-2 flex items-center gap-1.5"},bi={key:4,class:"mb-2 flex items-center gap-1.5"},xi=["onClick"],wi={key:0,class:"text-sm text-slate-400 dark:text-slate-500 line-clamp-1 italic leading-relaxed mb-4"},ki={key:0,class:"mt-4 space-y-4 border-t border-slate-50 dark:border-slate-700/50 pt-4 animate-in slide-in-from-top-2"},yi={class:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed"},_i={key:0,class:"space-y-1.5"},Di=["onClick"],Ci={key:0,class:"w-2 h-2 rounded-sm bg-emerald-500"},Mi={key:1,class:"flex items-center gap-2"},$i={class:"h-1 flex-1 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden"},Ti={class:"text-[11px] font-black text-slate-400"},Si={class:"flex items-center justify-between mt-6 pt-4 border-t border-slate-50 dark:border-slate-700/50"},Ei={class:"flex items-center gap-3"},Ii=["title"],Ai={key:1,class:"flex items-center gap-1.5 text-[12px] font-black text-slate-400 uppercase tracking-widest"},Fi={class:"flex items-center gap-2"},ji={class:"text-[9px] font-bold text-slate-300 uppercase tracking-widest"},Oi={key:0,class:"py-12 flex flex-col items-center justify-center text-slate-300 dark:text-slate-700 space-y-4"},Ni={key:3,class:"w-full"},Pi={key:0,class:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl p-8 border border-slate-100 dark:border-slate-800 overflow-hidden"},Yi={class:"w-full text-left"},Hi={class:"divide-y divide-slate-50 dark:divide-slate-800"},Li=["onClick"],Vi={class:"py-6 px-4"},Bi={class:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 transition-colors"},Ri={key:0,class:"text-[9px] font-black uppercase tracking-widest text-slate-400 mt-1"},Wi={class:"py-6 px-4"},Ui={class:"text-[12px] font-black uppercase tracking-tight py-1 px-3 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-500 w-fit block mb-1"},zi={key:0,class:"text-[9px] font-black uppercase text-emerald-500 font-bold tracking-widest pl-1"},Ki={key:1,class:"text-[9px] font-black uppercase text-amber-500 font-bold tracking-widest pl-1"},Gi={class:"py-6 px-4"},qi={class:"py-6 px-4"},Ji={class:"flex items-center -space-x-2"},Xi=["title","src"],Zi=["title","src"],Qi=["title","src"],el={key:0,class:"text-[8px] font-black uppercase tracking-tighter text-slate-400 mt-1"},tl={class:"py-6 px-4 text-sm font-bold text-slate-400"},nl={class:"py-6 px-4 text-right"},al={class:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},sl=["onClick"],ol=["onClick"],rl={key:1,class:"space-y-4 px-2"},il=["onTouchstart","onTouchend"],ll={class:"flex flex-col gap-4"},dl={class:"flex items-center gap-2"},ul={class:"text-right"},cl={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 dark:bg-slate-800 px-3 py-1 rounded-lg block"},pl={key:0,class:"text-[8px] font-black uppercase text-emerald-500 mt-1"},gl={key:1,class:"text-[8px] font-black uppercase text-amber-500 mt-1"},fl={class:"space-y-2"},vl={class:"text-xl font-bold text-slate-800 dark:text-white leading-tight"},ml={key:0,class:"flex items-center gap-2"},hl=["src"],bl={class:"text-[10px] font-black uppercase tracking-widest text-indigo-600"},xl={key:1,class:"flex items-center gap-2"},wl={class:"text-[10px] font-black uppercase tracking-widest text-slate-400 bg-slate-50 dark:bg-slate-800 px-2 py-0.5 rounded"},kl={class:"flex items-center justify-between pt-4 border-t border-slate-50 dark:border-slate-800"},yl={class:"flex items-center gap-2"},_l={class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},Dl={class:"flex items-center -space-x-1.5"},Cl=["src","title"],Ml={key:0,class:"py-20 text-center bg-white dark:bg-slate-900 rounded-[3rem] border-2 border-dashed border-slate-100 dark:border-slate-800"},$l={class:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-4 z-[9999]"},Tl={class:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl w-full max-w-md p-10 border border-slate-200 dark:border-slate-800 transition-all duration-500 relative overflow-hidden"},Sl={key:0,class:"absolute top-0 left-0 right-0 bg-indigo-600 text-white px-6 py-2 flex items-center justify-between z-10"},El={class:"flex items-center gap-2"},Il={class:"text-[10px] font-black uppercase tracking-widest"},Al={class:"space-y-6"},Fl={class:"flex p-1 bg-slate-50 dark:bg-slate-800/50 rounded-2xl gap-1"},jl=["onClick"],Ol={class:"grid grid-cols-2 gap-4"},Nl={class:"grid grid-cols-2 gap-4"},Pl={key:0},Yl=["value"],Hl={class:"flex gap-4 pt-4"},Ll=["disabled"],Vl={key:6,class:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl flex items-center justify-center p-4 z-[9999]"},Bl={class:"bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl w-full max-w-md p-10 border border-slate-200 dark:border-slate-800 relative overflow-hidden animate-in zoom-in-95 duration-200"},Rl={class:"space-y-6"},Wl={class:"grid grid-cols-3 gap-2"},Ul=["onClick"],zl={class:"flex gap-4 pt-4"},Kl={key:0,class:"fixed inset-0 z-[10001] flex items-end"},Gl={class:"relative w-full bg-white dark:bg-slate-900 h-full sm:h-auto sm:rounded-t-[2.5rem] flex flex-col shadow-2xl animate-in slide-in-from-bottom duration-300 overflow-hidden"},ql={class:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-800"},Jl={class:"flex-1 overflow-y-auto p-8 space-y-10"},Xl={class:"space-y-4"},Zl={class:"grid grid-cols-3 gap-2 bg-slate-50 dark:bg-slate-800 p-1 rounded-xl"},Ql=["onClick"],ed={class:"grid grid-cols-1 gap-6"},td={class:"space-y-4"},nd={class:"flex gap-4"},ad={class:"space-y-10"},sd={class:"space-y-4"},od={class:"flex items-center justify-between px-1"},rd={key:0,class:"text-[8px] font-black uppercase text-indigo-500 bg-indigo-50 px-2 py-1 rounded"},id=["disabled"],ld=["value"],dd={class:"space-y-4"},ud={class:"grid grid-cols-2 gap-3"},cd=["onClick"],pd={class:"space-y-4"},gd={class:"grid grid-cols-2 gap-3"},fd=["onClick"],vd={class:"space-y-4"},md={class:"grid grid-cols-1 gap-3"},hd={key:0,class:"grid grid-cols-2 gap-4 animate-in fade-in duration-300"},bd={class:"p-6 border-t border-slate-100 dark:border-slate-800"},xd={key:8,class:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900/90 backdrop-blur-md text-white px-8 py-3 rounded-2xl shadow-2xl border border-slate-800 z-[40] flex items-center gap-4 animate-in slide-in-from-bottom-10 duration-500"},wd={__name:"Dashboard",setup(o){const i=Rt(),e=Ut(),{currentWorkspace:b}=Wt(e),D=[{id:"todo",name:"Plan",bgClass:"bg-indigo-500/10",dotClass:"bg-indigo-500"},{id:"in_progress",name:"Work",bgClass:"bg-amber-500/10",dotClass:"bg-amber-500"},{id:"testing",name:"Review",bgClass:"bg-blue-500/10",dotClass:"bg-blue-500"},{id:"done",name:"Complete",bgClass:"bg-emerald-500/10",dotClass:"bg-emerald-500"}],g=Me(()=>(b.value?.settings||{}).enable_review_step!==!1||e.globalMode?D:D.filter(R=>R.id!=="testing")),T=B("board"),H=B([]),f=B(null),Z=B(!1),V=B(!1),G=B(null),j=B(!1),I=B(!1),L=B(null),y=B(!1),oe=B([]),ie=B(!1),W=B(!1),w=B(0),k=B(!1),M=B(null),O=B(!1),J=()=>{const m=window.innerWidth;ie.value=m<768,W.value=m>=768&&m<1200},de=m=>{if(!ie.value)return;const a=m.target.scrollLeft,R=m.target.offsetWidth,r=Math.round(a/R);r!==w.value&&(w.value=r,navigator.vibrate&&navigator.vibrate(5))},pe=B(null),he=(m,a)=>{ie.value&&(O.value=!1,pe.value=a.id,M.value=setTimeout(()=>{O.value=!0,navigator.vibrate&&navigator.vibrate([10,30,10])},600))},S=(m,a)=>{clearTimeout(M.value),!O.value&&pe.value===a.id&&(f.value=a.id)},p=()=>{clearTimeout(M.value)};it(()=>{J(),window.addEventListener("resize",J),e.fetchWorkspaces()});const C=m=>{oe.value.includes(m)?oe.value=oe.value.filter(a=>a!==m):oe.value.push(m)},re=m=>m.subtasks?.length>0||m.checklists?.length>0||m.description,Ie=m=>m.subtasks?.length?m.subtasks.every(a=>a.status==="done"):!1,ve=Me(()=>!b.value||!i.user?"viewer":b.value.owner_id===i.user.id?"owner":b.value.members?.find(a=>a.id===i.user.id)?.pivot?.role||b.value.pivot?.role||"viewer"),Ae=Me(()=>!e.globalMode),je=m=>{const a=m.subtasks?.filter(r=>r.status==="done").length||0,R=m.subtasks?.length||0;return`${a}/${R} Sub-tasks Completed`},dt=m=>m.checklists?.length?m.checklists.filter(R=>R.is_completed).length/m.checklists.length*100:0,ut=m=>{if(!m||!i.user)return"viewer";const a=m.board?.plan?.workspace;if(!a)return"viewer";const R=e.workspaces.find(r=>r.id===a.id);return R?R.owner_id===i.user.id?"owner":R.pivot?.role||"viewer":a.owner_id===i.user.id?"owner":"viewer"},We=m=>{if(!m||!i.user)return!1;const a=m.created_by===i.user.id,R=ut(m);return a||R==="owner"||R==="admin"},ct=async m=>{if(confirm("Are you sure you want to delete this task?"))try{await ke.delete(`/api/tasks/${m.id}`),Te()}catch{alert("Delete failed")}},pt=[{id:"all",label:"All Time"},{id:"today",label:"Today"},{id:"last_7_days",label:"Last 7 Days"},{id:"last_30_days",label:"Last 30 Days"},{id:"last_360_days",label:"Last 360 Days"}],yt=()=>{Q.value={title:"",description:"",priority:"medium",status:"todo",due_date:"",due_time:"",start_date:"",start_time:"",assigned_to:null}},Q=B({title:"",description:"",priority:"medium",status:"todo",due_date:"",due_time:"",start_date:"",start_time:"",assigned_to:null}),ye=B(null);Be(()=>Q.value.due_date,m=>{if(!m){ye.value=null;return}const a=new Date,r=(new Date(m)-a)/(1e3*60*60);r>0&&r<24?ye.value={message:"This is due soon. Set to High priority?",priority:"high"}:r>0&&r<72?ye.value={message:"Short deadline. Set to Medium priority?",priority:"medium"}:ye.value=null}),Be(()=>Q.value.start_date,m=>{m&&!Q.value.due_date&&(Q.value.due_date=m)});const Ue=()=>{ye.value&&(Q.value.priority=ye.value.priority,ye.value=null)},Oe=m=>{switch(m){case"Personal":return"";case"Work":return"";case"Company":return"";case"Team":return"";default:return""}},F=B({priority:null,monthYear:"",timeRange:"all",customStart:"",customEnd:"",workspaceId:null}),gt=Me(()=>F.value.priority!==null||F.value.timeRange!=="all"||!!F.value.monthYear||e.globalMode&&F.value.workspaceId!==null),at=()=>{F.value={priority:null,monthYear:null,timeRange:"all",workspaceId:null}},$e=Me(()=>H.value.filter(m=>{if(e.globalMode&&F.value.workspaceId){const r=m.board?.plan?.workspace_id;if(Number(r)!==Number(F.value.workspaceId))return!1}if(F.value.priority&&m.priority!==F.value.priority)return!1;const a=new Date,R=new Date(m.deadline||m.created_at);if(F.value.timeRange!=="all"){if(F.value.timeRange==="today"){const r=new Date().toISOString().slice(0,10);if((m.deadline||m.created_at).slice(0,10)!==r)return!1}else if(F.value.timeRange==="last_7_days"){const r=new Date(new Date().setDate(a.getDate()-7));if(R<r)return!1}else if(F.value.timeRange==="last_14_days"){const r=new Date(new Date().setDate(a.getDate()-14));if(R<r)return!1}else if(F.value.timeRange==="last_30_days"){const r=new Date(new Date().setDate(a.getDate()-30));if(R<r)return!1}else if(F.value.timeRange==="last_360_days"){const r=new Date(new Date().setDate(a.getDate()-360));if(R<r)return!1}else if(F.value.timeRange==="custom"){if(F.value.customStart&&R<new Date(F.value.customStart))return!1;if(F.value.customEnd){const r=new Date(F.value.customEnd);if(r.setHours(23,59,59),R>r)return!1}}}if(F.value.monthYear){const[r,K]=F.value.monthYear.split("-");if(R.getFullYear()!==parseInt(r)||R.getMonth()+1!==parseInt(K))return!1}return!0}).sort((m,a)=>{const R={urgent:4,high:3,medium:2,low:1};return(R[a.priority]||0)-(R[m.priority]||0)})),_t=()=>{Z.value=!0},Te=async()=>{const m=e.globalMode?"all":b.value?.id;if(!(!m&&!e.globalMode)){V.value=!0;try{const a=await ke.get("/api/tasks",{params:{workspace_id:m}});H.value=Array.isArray(a.data)?a.data:[]}catch(a){console.error("Error fetching tasks:",a)}finally{V.value=!1}}};Be(b,m=>{!e.globalMode&&m&&Te()},{deep:!0}),Be(()=>e.globalMode,m=>{F.value.workspaceId=null,Te()},{immediate:!0});const ft=async()=>{if(Q.value.title){V.value=!0;try{const m={...Q.value},a=(r,K)=>{if(!r)return null;const v=K||"00:00";if(r.includes("/"))return`${r} ${v}:00`;const[te,Ye,ne]=r.split("-");return`${ne}/${Ye}/${te} ${v}:00`};if(m.due_date&&(m.deadline=a(m.due_date,m.due_time||"23:59")),m.start_date&&(m.start_date=a(m.start_date,m.start_time||"09:00")),b.value){m.workspace_id=b.value.id;const K=b.value.plans?.[0]?.boards?.[0];if(K)m.board_id=K.id;else{alert("No boards found in this workspace. Please create a plan and board first."),V.value=!1;return}}const R={...m};delete R.due_date,delete R.due_time,delete R.start_time,await ke.post("/api/tasks",R),Z.value=!1,yt(),await Te()}catch(m){console.error("Task save error:",m),alert("Error: "+(m.response?.data?.message||"Connection failed"))}finally{V.value=!1}}},ze=B(!1),be=B({name:"",type:"Personal",intent:"Personal Use"}),vt=()=>{ze.value=!0},Ke=async()=>{if(be.value.name)try{await e.createWorkspace({name:be.value.name,type:be.value.type,intent:be.value.intent}),ze.value=!1,be.value={name:"",type:"Personal",intent:"Personal Use"},await e.fetchWorkspaces()}catch(m){const a=m.response?.data?.message||"Failed to create workspace";alert(a)}},Dt=m=>{if(!m)return"";const a=new Date(m),R=new Date,r=a.toDateString()===R.toDateString(),K=a.getHours()!==23||a.getMinutes()!==59,v=String(a.getDate()).padStart(2,"0"),te=String(a.getMonth()+1).padStart(2,"0"),Ye=a.getFullYear(),ne=`${v}/${te}/${Ye}`,qe=K?a.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"";return r?`Today ${qe}`.trim():`${ne} ${qe}`.trim()},Ct=(m,a)=>{m.dataTransfer.dropEffect="move",m.dataTransfer.effectAllowed="move",m.dataTransfer.setData("taskId",a.id),m.target.classList.add("dragging")},mt=async(m,a)=>{if(G.value=null,!Ae.value)return;const R=m.dataTransfer.getData("taskId"),r=H.value.find(K=>K.id==R);if(r){if(r.status===a)return;let K={status:a};a==="in_progress"&&r.assigned_to!==i.user.id&&(K.assigned_to=i.user.id);const v=r.status,te=r.assigned_to;r.status=a;try{await ke.patch(`/api/tasks/${R}`,K),a==="done"&&!r.delivery&&(L.value=r,I.value=!0),Te()}catch(Ye){r.status=v,r.assigned_to=te,alert("Failed to sync. "+(Ye.response?.data?.message||"Server error"))}}},Le=m=>{switch(m){case"urgent":return"bg-rose-500 text-white shadow-lg shadow-rose-500/30";case"high":return"bg-orange-500 text-white shadow-lg shadow-orange-500/30";case"medium":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-400";default:return"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}},Ge=m=>{if(!m)return"No date";const a=new Date(m),R=String(a.getDate()).padStart(2,"0"),r=String(a.getMonth()+1).padStart(2,"0"),K=a.getFullYear();return`${R}/${r}/${K}`},Pe=B(null),Mt=()=>{Pe.value=setInterval(()=>{document.hidden||Te()},6e4)};return it(async()=>{await e.fetchWorkspaces(),H.value.length===0&&Te(),Mt()}),cn(()=>{Pe.value&&clearInterval(Pe.value)}),(m,a)=>{const R=gn("router-link");return d(),u("div",cr,[t("header",pr,[t("div",gr,[t("div",fr,[a[45]||(a[45]=t("img",{src:"https://i.postimg.cc/jqQRtc95/thinker-(1).png",alt:"THINKER Logo",class:"h-12 lg:h-20 w-auto object-contain"},null,-1)),ue(Ro,{onCreate:vt})]),ie.value?h("",!0):(d(),u("div",vr,[t("button",{onClick:a[0]||(a[0]=r=>T.value="board"),class:P([[T.value==="board"?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"],"px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-colors duration-200"])}," Board ",2),t("button",{onClick:a[1]||(a[1]=r=>T.value="list"),class:P([[T.value==="list"?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"],"px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-colors duration-200"])}," List ",2),t("button",{onClick:a[2]||(a[2]=r=>T.value="calendar"),class:P([[T.value==="calendar"?"bg-indigo-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"],"px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-colors duration-200"])}," Calendar ",2)])),t("div",mr,[ie.value?(d(),u("button",{key:0,onClick:a[3]||(a[3]=r=>k.value=!0),class:"p-2 sm:hidden bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-slate-500"},[...a[46]||(a[46]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M4 4h16v2.17a2 2 0 0 1-.58 1.42L13 14v5l-2 2v-7L4.58 7.59A2 2 0 0 1 4 6.17V4z"})],-1)])])):h("",!0),t("div",hr,[t("img",{src:N(i).user?.avatar||"https://ui-avatars.com/api/?name="+N(i).user?.display_name,class:"w-8 h-8 rounded-full object-cover"},null,8,br),t("div",xr,[t("p",wr,x(N(i).user?.display_name),1)]),t("div",kr,[ue(R,{to:"/settings",class:"p-1.5 text-slate-300 hover:text-indigo-600 transition-colors",title:"Settings"},{default:He(()=>[...a[47]||(a[47]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),t("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)])]),_:1}),t("button",{onClick:a[4]||(a[4]=(...r)=>N(i).logout&&N(i).logout(...r)),class:"p-1.5 text-slate-300 hover:text-rose-500 transition-colors"},[...a[48]||(a[48]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M14 8v-2a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"}),t("path",{d:"M9 12h12l-3-3"}),t("path",{d:"M18 15l3-3"})],-1)])])])]),ve.value!=="viewer"&&!N(e).globalMode?(d(),u("button",{key:1,onClick:_t,class:"px-5 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors shadow-lg shadow-indigo-500/20 font-bold flex items-center gap-2"},[...a[49]||(a[49]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M5 12h14"}),t("path",{d:"M12 5v14"})],-1),t("span",{class:"hidden sm:inline"},"New Task",-1)])])):N(e).globalMode?(d(),u("div",yr,[...a[50]||(a[50]=[t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},"View Only Mode",-1)])])):h("",!0)])]),ie.value?h("",!0):(d(),u("div",_r,[t("button",{onClick:a[5]||(a[5]=r=>N(e).toggleGlobalMode()),class:P(["flex items-center gap-2 px-4 py-2 rounded-xl transition-colors border",N(e).globalMode?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-slate-900 text-slate-400 border-slate-200 dark:border-slate-800 hover:text-indigo-600"])},[...a[51]||(a[51]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})],-1),t("span",{class:"text-[10px] font-black uppercase tracking-widest"},"Global View",-1)])],2),t("button",{onClick:a[6]||(a[6]=r=>y.value=!0),class:P(["flex items-center gap-2 px-4 py-2 rounded-xl border transition-colors",gt.value?"bg-indigo-50 border-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:border-indigo-500/20":"bg-white dark:bg-slate-900 text-slate-400 border-slate-200 dark:border-slate-800 hover:text-indigo-600"])},[a[52]||(a[52]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M4 4h16v2.17a2 2 0 0 1-.58 1.42L13 14v5l-2 2v-7L4.58 7.59A2 2 0 0 1 4 6.17V4z"})],-1)),a[53]||(a[53]=t("span",{class:"text-[10px] font-black uppercase tracking-widest"},"Filter",-1)),gt.value?(d(),u("div",Dr)):h("",!0)],2),N(b)&&ve.value==="owner"&&!N(e).globalMode?(d(),u("button",{key:0,onClick:a[7]||(a[7]=r=>j.value=!0),class:"flex items-center gap-2 px-4 py-2 rounded-xl border bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 border-indigo-100 dark:border-indigo-500/20 hover:bg-indigo-600 hover:text-white transition-colors"},[...a[54]||(a[54]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-144c2c82><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" data-v-144c2c82></path><circle cx="9" cy="7" r="4" data-v-144c2c82></circle><line x1="19" y1="8" x2="19" y2="14" data-v-144c2c82></line><line x1="16" y1="11" x2="22" y2="11" data-v-144c2c82></line></svg><span class="text-[10px] font-black uppercase tracking-widest" data-v-144c2c82>Share</span>',2)])])):h("",!0)]))]),ie.value?h("",!0):(d(),u("div",Cr,[y.value?(d(),u("div",{key:0,class:"fixed inset-0 z-[10000]",onClick:a[15]||(a[15]=r=>y.value=!1)},[a[64]||(a[64]=t("div",{class:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"},null,-1)),t("div",{onClick:a[14]||(a[14]=fe(()=>{},["stop"])),class:"absolute right-0 top-0 bottom-0 w-96 bg-white dark:bg-slate-900 shadow-2xl border-l border-slate-100 dark:border-slate-800 p-10 overflow-y-auto animate-in slide-in-from-right duration-300"},[t("div",Mr,[a[56]||(a[56]=t("div",null,[t("h2",{class:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-widest"},"Filters"),t("p",{class:"text-[10px] font-black uppercase text-slate-400 mt-1"},"Refine your view")],-1)),t("button",{onClick:a[8]||(a[8]=r=>y.value=!1),class:"p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all"},[...a[55]||(a[55]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",$r,[N(e).globalMode?(d(),u("div",Tr,[a[58]||(a[58]=t("div",{class:"flex items-center justify-between px-1"},[t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},"Context")],-1)),se(t("select",{"onUpdate:modelValue":a[9]||(a[9]=r=>F.value.workspaceId=r),class:"w-full h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-6 text-sm font-bold shadow-sm outline-none transition-all"},[a[57]||(a[57]=t("option",{value:null},"All Contexts",-1)),(d(!0),u(q,null,ee(N(e).workspaces,r=>(d(),u("option",{key:r.id,value:r.id},x(r.name),9,Sr))),128))],512),[[Ze,F.value.workspaceId]])])):h("",!0),t("div",Er,[a[59]||(a[59]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Priority",-1)),t("div",Ir,[(d(),u(q,null,ee([null,"urgent","high","medium","low"],r=>t("button",{key:r,onClick:K=>F.value.priority=r,class:P(["h-12 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all",[F.value.priority===r?"bg-indigo-600 text-white border-indigo-600 shadow-md translate-y-[-2px]":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:border-slate-200 dark:hover:border-slate-700"]])},x(r||"All Priorities"),11,Ar)),64))])]),t("div",Fr,[a[60]||(a[60]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Timeline",-1)),t("div",jr,[(d(),u(q,null,ee(pt,r=>t("button",{key:r.id,onClick:K=>{F.value.timeRange=r.id,F.value.monthYear=""},class:P(["h-12 rounded-xl border flex items-center justify-between px-6 transition-all",[F.value.timeRange===r.id?"bg-indigo-50 border-indigo-100 text-indigo-600 dark:bg-indigo-500/10 dark:border-indigo-500/30 font-black":"bg-white dark:bg-slate-900 text-slate-500 border-slate-100 dark:border-slate-800"]])},[t("span",Nr,x(r.label),1),F.value.timeRange===r.id?(d(),u("div",Pr)):h("",!0)],10,Or)),64))])]),t("div",Yr,[t("div",{onClick:a[12]||(a[12]=r=>F.value.timeRange="custom"),class:P(["p-6 rounded-2xl border cursor-pointer transition-all",F.value.timeRange==="custom"?"bg-indigo-50 border-indigo-200 dark:bg-indigo-500/5 dark:border-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent"])},[a[63]||(a[63]=Ee('<div class="flex items-center gap-3 mb-4" data-v-144c2c82><div class="w-8 h-8 rounded-lg bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 flex items-center justify-center" data-v-144c2c82><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-144c2c82><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-144c2c82></rect><line x1="16" y1="2" x2="16" y2="6" data-v-144c2c82></line><line x1="8" y1="2" x2="8" y2="6" data-v-144c2c82></line><line x1="3" y1="10" x2="21" y2="10" data-v-144c2c82></line></svg></div><span class="text-[10px] font-black uppercase tracking-widest text-slate-800 dark:text-white" data-v-144c2c82>Custom Range</span></div>',1)),F.value.timeRange==="custom"?(d(),u("div",Hr,[t("div",Lr,[a[61]||(a[61]=t("p",{class:"text-[8px] font-black uppercase text-slate-400 px-1"},"From",-1)),se(t("input",{type:"date","onUpdate:modelValue":a[10]||(a[10]=r=>F.value.customStart=r),class:"w-full bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl px-3 py-2 text-[10px] font-bold shadow-sm"},null,512),[[ce,F.value.customStart]])]),t("div",Vr,[a[62]||(a[62]=t("p",{class:"text-[8px] font-black uppercase text-slate-400 px-1"},"To",-1)),se(t("input",{type:"date","onUpdate:modelValue":a[11]||(a[11]=r=>F.value.customEnd=r),class:"w-full bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl px-3 py-2 text-[10px] font-bold shadow-sm"},null,512),[[ce,F.value.customEnd]])])])):h("",!0)],2)])]),t("div",Br,[t("button",{onClick:at,class:"flex-1 py-4 rounded-2xl border border-slate-100 dark:border-slate-800 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all"},"Reset All"),t("button",{onClick:a[13]||(a[13]=r=>y.value=!1),class:"flex-[2] py-4 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl shadow-indigo-500/20 active:scale-95 transition-all"},"Apply Refinement")])])])):h("",!0)])),ie.value&&T.value==="board"?(d(),u("div",Rr,[t("div",Wr,[(d(!0),u(q,null,ee(g.value,(r,K)=>(d(),u("div",{key:"indicator-"+r.id,class:P(["h-1.5 rounded-full transition-all duration-300",w.value===K?"w-6 bg-indigo-600":"w-1.5 bg-slate-200 dark:bg-slate-800"])},null,2))),128))]),t("span",Ur,x(g.value[w.value].name),1)])):h("",!0),T.value==="board"?(d(),u("div",{key:2,id:"kanban-container",class:P(["flex gap-4 sm:gap-8 transition-all duration-300 overflow-x-auto pb-4 lg:grid",[g.value.length===3?"lg:grid-cols-3":"lg:grid-cols-4",ie.value?"snap-x snap-mandatory scrollbar-hide":"custom-scrollbar"]]),onScroll:de},[(d(!0),u(q,null,ee(g.value,(r,K)=>(d(),u("div",{key:r.id,onDragover:fe(v=>G.value=r.id,["prevent"]),onDragleave:a[17]||(a[17]=v=>G.value=null),onDrop:v=>mt(v,r.id),class:P(["flex-shrink-0 w-[85vw] sm:w-[70vw] lg:w-auto snap-center pl-4 first:pl-0 lg:pl-0",["rounded-[2.5rem] p-4 sm:p-6 min-h-[500px] lg:min-h-[700px] transition-all duration-500 border-2 border-dashed",G.value===r.id?"bg-slate-200/80 dark:bg-slate-800/80 border-indigo-400 shadow-2xl z-10":"bg-slate-100/40 dark:bg-slate-900/40 border-slate-200/50 dark:border-slate-800/50"]])},[t("header",Kr,[t("div",Gr,[t("div",{class:P(["w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg",r.bgClass])},[t("span",{class:P(["w-3 h-3 rounded-full",r.dotClass])},null,2)],2),t("div",null,[t("h3",qr,x(r.name),1),t("p",Jr,x($e.value.filter(v=>v.status===r.id).length)+" Tasks",1)])])]),t("div",Xr,[(d(!0),u(q,null,ee($e.value.filter(v=>v.status===r.id),v=>(d(),u("div",{key:v.id,draggable:!ie.value||O.value&&pe.value===v.id,onDragstart:te=>Ct(te,v),onDragend:a[16]||(a[16]=te=>pe.value=null),onTouchstart:te=>he(te,v),onTouchend:te=>S(te,v),onTouchmove:p,onClick:te=>f.value=v.id,class:P(["bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-xl shadow-slate-200/40 dark:shadow-none border border-slate-100 dark:border-slate-700/50 hover:border-indigo-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all duration-300 cursor-pointer group relative overflow-hidden transition-pop active-tap",{"ring-4 ring-indigo-500/20 scale-105 z-20":O.value&&pe.value===v.id}])},[t("div",{class:P(["absolute left-0 top-0 bottom-0 w-1",r.dotClass])},null,2),t("div",Qr,[t("span",{class:P([Le(v.priority),"text-[12px] uppercase font-black px-3 py-1 rounded-full tracking-widest"])},x(v.priority),3),t("div",ei,[t("div",ti,[v.working_by?(d(),u("img",{key:0,src:v.working_by.avatar||"https://ui-avatars.com/api/?name="+v.working_by.display_name,title:"Working: "+v.working_by.display_name,class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 border-2 border-indigo-500 hover:z-20 hover:scale-110 transition-all object-cover relative z-30"},null,8,ni)):h("",!0),v.assignee&&(!v.working_by||v.assignee.id!==v.working_by.id)?(d(),u("img",{key:1,src:v.assignee?.avatar||"https://ui-avatars.com/api/?name="+v.assignee?.display_name,title:"Assigned to: "+v.assignee?.display_name,class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 hover:z-20 hover:scale-110 transition-all object-cover relative z-20"},null,8,ai)):h("",!0),v.assigned_by&&v.assigned_by.id!==v.creator?.id&&v.assigned_by.id!==v.assignee?.id&&(!v.working_by||v.assigned_by.id!==v.working_by.id)?(d(),u("img",{key:2,src:v.assigned_by.avatar||"https://ui-avatars.com/api/?name="+v.assigned_by.display_name,title:"Assigned by: "+v.assigned_by.display_name,class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 hover:z-20 hover:scale-110 transition-all object-cover relative z-15"},null,8,si)):h("",!0),v.creator&&(!v.assignee||v.assignee.id!==v.creator.id)&&(!v.working_by||v.creator.id!==v.working_by.id)?(d(),u("img",{key:3,src:v.creator?.avatar||"https://ui-avatars.com/api/?name="+(v.creator?.display_name||"System"),title:"Created by: "+(v.creator?.display_name||"System"),class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-800 hover:z-20 hover:scale-110 transition-all object-cover"},null,8,oi)):h("",!0)]),We(v)?(d(),u("button",{key:0,onClick:fe(te=>ct(v),["stop"]),class:"opacity-0 group-hover:opacity-100 p-1.5 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-lg transition-all"},[...a[65]||(a[65]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-144c2c82><path d="M3 6h18" data-v-144c2c82></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-144c2c82></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-144c2c82></path><line x1="10" y1="11" x2="10" y2="17" data-v-144c2c82></line><line x1="14" y1="11" x2="14" y2="17" data-v-144c2c82></line></svg>',1)])],8,ri)):h("",!0)])]),t("div",{class:"flex items-start justify-between gap-2",onClick:te=>f.value=v.id},[t("div",li,[t("h4",di,x(v.title),1),r.id==="in_progress"&&v.working_by?(d(),u("div",ui,[t("span",ci," Work by  "+x(v.working_by.display_name),1)])):h("",!0),v.assigned_by?(d(),u("div",pi,[t("span",gi," Assigned by  "+x(v.assigned_by.display_name),1)])):h("",!0),N(e).globalMode?(d(),u("div",fi,[t("span",vi,[t("span",mi,x(Oe(v.board?.plan?.workspace?.type)),1),we(" "+x(v.board?.plan?.workspace?.name),1)])])):h("",!0),v.status==="done"&&v.deliveries?.length>0?(d(),u("div",hi,[...a[66]||(a[66]=[t("span",{class:"text-[10px] font-black uppercase tracking-[0.2em] bg-emerald-500 text-white px-2.5 py-1 rounded-lg shadow-lg shadow-emerald-500/20 flex items-center gap-1"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"4"},[t("polyline",{points:"20 6 9 17 4 12"})]),we(" Delivered ")],-1)])])):h("",!0),v.status==="done"&&(!v.deliveries||v.deliveries.length===0)?(d(),u("div",bi,[...a[67]||(a[67]=[t("span",{class:"text-[10px] font-black uppercase tracking-[0.2em] bg-amber-100 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400 px-2.5 py-1 rounded-lg border border-amber-200 dark:border-amber-500/20"}," Done  Needs Delivery ",-1)])])):h("",!0)]),re(v)?(d(),u("button",{key:0,onClick:fe(te=>C(v.id),["stop"]),class:P(["p-1 text-slate-300 hover:text-indigo-600 transition-all transform",{"rotate-180":oe.value.includes(v.id)}])},[...a[68]||(a[68]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"m6 9 6 6 6-6"})],-1)])],10,xi)):h("",!0)],8,ii),v.description&&!oe.value.includes(v.id)?(d(),u("p",wi,x(v.description),1)):h("",!0),ue(Re,{name:"expand"},{default:He(()=>[oe.value.includes(v.id)?(d(),u("div",ki,[t("p",yi,x(v.description||"No description provided."),1),v.subtasks?.length?(d(),u("div",_i,[a[69]||(a[69]=t("p",{class:"text-[11px] font-black uppercase tracking-widest text-slate-400"},"Sub-tasks",-1)),(d(!0),u(q,null,ee(v.subtasks,te=>(d(),u("div",{key:te.id,class:"flex items-center gap-2 text-[11px] font-bold text-slate-500 group/sub"},[t("button",{onClick:fe(Ye=>m.toggleSubtask(v,te),["stop"]),class:"w-4 h-4 rounded-md border-2 border-slate-300 dark:border-slate-600 flex items-center justify-center transition-all hover:border-indigo-500"},[te.status==="done"?(d(),u("div",Ci)):h("",!0)],8,Di),t("span",{class:P({"line-through opacity-50":te.status==="done"})},x(te.title),3)]))),128))])):h("",!0),v.checklists?.length?(d(),u("div",Mi,[a[70]||(a[70]=t("p",{class:"text-[11px] font-black uppercase tracking-widest text-slate-400"},"Checklist",-1)),t("div",$i,[t("div",{class:"h-full bg-indigo-500 transition-all duration-500",style:fn({width:dt(v)+"%"})},null,4)]),t("span",Ti,x(v.checklists.filter(te=>te.is_completed).length)+"/"+x(v.checklists.length),1)])):h("",!0)])):h("",!0)]),_:2},1024),t("div",Si,[t("div",Ei,[v.subtasks?.length?(d(),u("div",{key:0,class:"flex items-center gap-1.5 px-2 py-1 bg-slate-50 dark:bg-slate-800/80 rounded-lg group/sub transition-all",title:je(v)},[(d(),u("svg",{xmlns:"http://www.w3.org/2000/svg",class:P(["w-3 h-3",Ie(v)?"text-emerald-500":"text-slate-400"]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[...a[71]||(a[71]=[t("path",{d:"M12 2v20"},null,-1),t("path",{d:"m17 7-5-5-5 5"},null,-1),t("path",{d:"m17 17-5 5-5-5"},null,-1)])],2)),t("span",{class:P(["text-[9px] font-black uppercase tracking-widest",Ie(v)?"text-emerald-500":"text-slate-400"])},x(v.subtasks.filter(te=>te.status==="done").length)+"/"+x(v.subtasks.length),3)],8,Ii)):h("",!0),v.deadline?(d(),u("div",Ai,[a[72]||(a[72]=Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-144c2c82><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-144c2c82></rect><line x1="16" y1="2" x2="16" y2="6" data-v-144c2c82></line><line x1="8" y1="2" x2="8" y2="6" data-v-144c2c82></line><line x1="3" y1="10" x2="21" y2="10" data-v-144c2c82></line></svg>',1)),t("span",null,x(Dt(v.deadline)),1)])):h("",!0)]),t("div",Fi,[t("div",ji,x(Ge(v.created_at)),1)])])],42,Zr))),128)),$e.value.filter(v=>v.status===r.id).length===0?(d(),u("div",Oi,[...a[73]||(a[73]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 opacity-20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" data-v-144c2c82><rect width="18" height="18" x="3" y="3" rx="2" data-v-144c2c82></rect><path d="M3 9h18" data-v-144c2c82></path><path d="M9 21V9" data-v-144c2c82></path></svg><p class="text-sm font-black uppercase tracking-widest opacity-50" data-v-144c2c82>Empty Slot</p>',2)])])):h("",!0)])],42,zr))),128))],34)):T.value==="list"?(d(),u("div",Ni,[ie.value?(d(),u("div",rl,[(d(!0),u(q,null,ee($e.value,r=>(d(),u("div",{key:r.id,onTouchstart:K=>he(K,r),onTouchmove:p,onTouchend:K=>S(K,r),class:"relative bg-white dark:bg-slate-900 rounded-[2.5rem] p-6 shadow-xl border border-slate-100 dark:border-slate-800 transition-all active:scale-[0.98] overflow-hidden"},[t("div",ll,[t("div",dl,[t("span",{class:P([Le(r.priority),"text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full shadow-sm"])},x(r.priority),3)]),t("div",ul,[t("span",cl,x(r.status.replace("_"," ")),1),r.status==="done"?(d(),u(q,{key:0},[r.delivery?(d(),u("span",pl,"Delivered")):(d(),u("span",gl,"Pending Delivery"))],64)):h("",!0)]),t("div",fl,[t("h3",vl,x(r.title),1),r.working_by?(d(),u("div",ml,[t("img",{src:r.working_by.avatar||"https://ui-avatars.com/api/?name="+r.working_by.display_name,class:"w-6 h-6 rounded-full border-2 border-indigo-500 shadow-sm"},null,8,hl),t("span",bl,"Work by  "+x(r.working_by.display_name),1)])):h("",!0),r.assigned_by?(d(),u("div",xl,[t("span",wl,"Assigned by  "+x(r.assigned_by.display_name),1)])):h("",!0)]),t("div",kl,[t("div",yl,[a[77]||(a[77]=Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-144c2c82><rect width="18" height="18" x="3" y="4" rx="2" ry="2" data-v-144c2c82></rect><line x1="16" y1="2" x2="16" y2="6" data-v-144c2c82></line><line x1="8" y1="2" x2="8" y2="6" data-v-144c2c82></line><line x1="3" y1="10" x2="21" y2="10" data-v-144c2c82></line></svg>',1)),t("span",_l,x(Ge(r.deadline||r.created_at)),1)]),t("div",Dl,[t("img",{src:r.creator?.avatar||"https://ui-avatars.com/api/?name="+r.creator?.display_name,title:"Created by: "+(r.creator?.display_name||"System"),class:"w-6 h-6 rounded-full ring-2 ring-white dark:ring-slate-900 grayscale"},null,8,Cl)])])]),a[78]||(a[78]=t("div",{class:"absolute inset-y-0 -left-16 w-16 bg-emerald-500 flex items-center justify-center text-white transition-opacity opacity-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("polyline",{points:"20 6 9 17 4 12"})])],-1))],40,il))),128)),$e.value.length===0?(d(),u("div",Ml,[...a[79]||(a[79]=[t("div",{class:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10 text-slate-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2z"})])],-1),t("p",{class:"text-sm font-black uppercase tracking-[0.2em] text-slate-400"},"No tasks found",-1)])])):h("",!0)])):(d(),u("div",Pi,[t("table",Yi,[a[76]||(a[76]=t("thead",null,[t("tr",{class:"text-[12px] font-heading font-black uppercase tracking-widest text-slate-400 border-b border-slate-50 dark:border-slate-800"},[t("th",{class:"pb-6 px-4"},"Task Name"),t("th",{class:"pb-6 px-4"},"Status"),t("th",{class:"pb-6 px-4"},"Priority"),t("th",{class:"pb-6 px-4"},"People"),t("th",{class:"pb-6 px-4"},"Due Date"),t("th",{class:"pb-6 px-4 text-right"},"Actions")])],-1)),t("tbody",Hi,[(d(!0),u(q,null,ee($e.value,r=>(d(),u("tr",{key:r.id,onClick:K=>f.value=r.id,class:"group cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},[t("td",Vi,[t("p",Bi,x(r.title),1),N(e).globalMode?(d(),u("p",Ri,x(r.board?.plan?.workspace?.name)+"  "+x(r.board?.plan?.workspace?.type),1)):h("",!0)]),t("td",Wi,[t("span",Ui,x(r.status.replace("_"," ")),1),r.status==="done"?(d(),u(q,{key:0},[r.deliveries?.length>0?(d(),u("span",zi,"Delivered")):(d(),u("span",Ki,"Pending Delivery"))],64)):h("",!0)]),t("td",Gi,[t("span",{class:P([Le(r.priority),"text-[12px] font-black uppercase tracking-widest px-3 py-1 rounded-full"])},x(r.priority),3)]),t("td",qi,[t("div",Ji,[t("img",{title:"Creator: "+r.creator?.display_name,src:r.creator?.avatar||"https://ui-avatars.com/api/?name="+r.creator?.display_name,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-900 object-cover shadow-sm"},null,8,Xi),r.assigned_by&&r.assigned_by.id!==r.creator?.id?(d(),u("img",{key:0,title:"Assigned by: "+r.assigned_by.display_name,src:r.assigned_by.avatar||"https://ui-avatars.com/api/?name="+r.assigned_by.display_name,class:"w-8 h-8 rounded-full border-2 border-white dark:border-slate-900 object-cover shadow-sm z-10"},null,8,Zi)):h("",!0),r.working_by?(d(),u("img",{key:1,title:"Working: "+r.working_by.display_name,src:r.working_by.avatar||"https://ui-avatars.com/api/?name="+r.working_by.display_name,class:"w-8 h-8 rounded-full border-2 border-indigo-500 object-cover shadow-md z-20"},null,8,Qi)):h("",!0)]),r.assigned_by?(d(),u("p",el,"By: "+x(r.assigned_by.display_name),1)):h("",!0)]),t("td",tl,x(Ge(r.deadline||r.created_at)),1),t("td",nl,[t("div",al,[ut(r)!=="viewer"?(d(),u("button",{key:0,onClick:fe(K=>f.value=r.id,["stop"]),class:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 rounded-xl transition-all",title:"Edit Task"},[...a[74]||(a[74]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,sl)):h("",!0),We(r)?(d(),u("button",{key:1,onClick:fe(K=>ct(r),["stop"]),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-500/10 rounded-xl transition-all",title:"Delete Task"},[...a[75]||(a[75]=[Ee('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" data-v-144c2c82><path d="M3 6h18" data-v-144c2c82></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" data-v-144c2c82></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" data-v-144c2c82></path><line x1="10" y1="11" x2="10" y2="17" data-v-144c2c82></line><line x1="14" y1="11" x2="14" y2="17" data-v-144c2c82></line></svg>',1)])],8,ol)):h("",!0)])])],8,Li))),128))])])]))])):T.value==="calendar"?(d(),Xe(_o,{key:4,tasks:$e.value,"is-mobile":ie.value,"global-mode":N(e).globalMode,monthYear:F.value.monthYear,"onUpdate:monthYear":a[18]||(a[18]=r=>F.value.monthYear=r),onTaskClick:a[19]||(a[19]=r=>f.value=r)},null,8,["tasks","is-mobile","global-mode","monthYear"])):h("",!0),f.value?(d(),Xe(Is,{key:5,taskId:f.value,role:ve.value,onClose:a[20]||(a[20]=r=>f.value=null),onUpdated:Te},null,8,["taskId","role"])):h("",!0),se(t("div",$l,[t("div",Tl,[ue(Re,{name:"fade"},{default:He(()=>[ye.value?(d(),u("div",Sl,[t("div",El,[a[80]||(a[80]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1)),t("span",Il,x(ye.value.message),1)]),t("button",{onClick:Ue,class:"text-[10px] font-black underline uppercase tracking-widest"},"Apply")])):h("",!0)]),_:1}),a[91]||(a[91]=t("div",{class:"mb-8 pt-4"},[t("h2",{class:"text-3xl font-black text-slate-800 dark:text-white mb-2"},"Create Task"),t("p",{class:"text-slate-500 text-sm"},"Define your next milestone")],-1)),t("div",Al,[t("div",null,[a[81]||(a[81]=t("label",{class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Urgency",-1)),t("div",Fl,[(d(),u(q,null,ee(["low","medium","high","urgent"],r=>t("button",{key:r,onClick:K=>Q.value.priority=r,class:P(["flex-1 py-3 rounded-xl text-[12px] font-black uppercase tracking-widest transition-all",Q.value.priority===r?r==="urgent"?"bg-rose-500 text-white shadow-lg shadow-rose-500/30":r==="high"?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":r==="medium"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-300 dark:bg-slate-600 text-white":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"])},x(r),11,jl)),64))])]),t("div",null,[a[82]||(a[82]=t("label",{for:"task-title",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Task Title",-1)),se(t("input",{id:"task-title",name:"title","onUpdate:modelValue":a[21]||(a[21]=r=>Q.value.title=r),type:"text",placeholder:"What needs to be done?",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium"},null,512),[[ce,Q.value.title]])]),t("div",Ol,[t("div",null,[a[83]||(a[83]=t("label",{for:"task-start-date",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Start Date",-1)),ue(kt,{id:"task-start-date",name:"start_date",modelValue:Q.value.start_date,"onUpdate:modelValue":a[22]||(a[22]=r=>Q.value.start_date=r)},null,8,["modelValue"])]),t("div",null,[a[84]||(a[84]=t("label",{for:"task-start-time",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Start Time",-1)),se(t("input",{id:"task-start-time",name:"start_time","onUpdate:modelValue":a[23]||(a[23]=r=>Q.value.start_time=r),type:"time",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-slate-200"},null,512),[[ce,Q.value.start_time]])])]),t("div",Nl,[t("div",null,[a[85]||(a[85]=t("label",{for:"task-due-date",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Due Date",-1)),ue(kt,{id:"task-due-date",name:"due_date",modelValue:Q.value.due_date,"onUpdate:modelValue":a[24]||(a[24]=r=>Q.value.due_date=r)},null,8,["modelValue"])]),t("div",null,[a[86]||(a[86]=t("label",{for:"task-due-time",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Due Time",-1)),se(t("input",{id:"task-due-time",name:"due_time","onUpdate:modelValue":a[25]||(a[25]=r=>Q.value.due_time=r),type:"time",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-slate-200"},null,512),[[ce,Q.value.due_time]])])]),t("div",null,[a[87]||(a[87]=t("label",{for:"task-description",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Description",-1)),se(t("textarea",{id:"task-description",name:"description","onUpdate:modelValue":a[26]||(a[26]=r=>Q.value.description=r),placeholder:"Add some context...",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium text-sm",rows:"3"},null,512),[[ce,Q.value.description]])]),N(b)&&N(b).members?(d(),u("div",Pl,[a[89]||(a[89]=t("label",{for:"task-assignee",class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Assign to",-1)),se(t("select",{id:"task-assignee","onUpdate:modelValue":a[27]||(a[27]=r=>Q.value.assigned_to=r),class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-3 outline-none focus:ring-4 focus:ring-indigo-500/20 text-sm font-bold text-slate-600 dark:text-white"},[a[88]||(a[88]=t("option",{value:null},"Unassigned",-1)),(d(!0),u(q,null,ee(N(b).members,r=>(d(),u("option",{key:r.id,value:r.id},x(r.display_name),9,Yl))),128))],512),[[Ze,Q.value.assigned_to]])])):h("",!0),a[90]||(a[90]=Ee('<div class="p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800" data-v-144c2c82><div class="flex gap-3" data-v-144c2c82><div class="w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-500/20 flex items-center justify-center shrink-0" data-v-144c2c82><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-indigo-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" data-v-144c2c82><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-144c2c82></path><polyline points="22,6 12,13 2,6" data-v-144c2c82></polyline></svg></div><div class="space-y-1" data-v-144c2c82><p class="text-[10px] font-black uppercase tracking-widest text-slate-700 dark:text-slate-200" data-v-144c2c82>Smart Notifications</p><p class="text-[9px] font-medium text-slate-500 dark:text-slate-400 leading-relaxed" data-v-144c2c82>You will receive an immediate notification via Gmail. Reminders will be sent through Google Calendar if a start date is set.</p></div></div></div>',1)),t("div",Hl,[t("button",{onClick:a[28]||(a[28]=r=>Z.value=!1),class:"flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl font-bold hover:bg-slate-200 transition-colors"},"Cancel"),t("button",{onClick:ft,disabled:V.value,class:"flex-1 px-6 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 disabled:opacity-50 transition-all"},x(V.value?"CREATING...":"CREATE NOW"),9,Ll)])])])],512),[[pn,Z.value]]),ze.value?(d(),u("div",Vl,[t("div",Bl,[a[95]||(a[95]=t("div",{class:"mb-8 pt-4"},[t("h2",{class:"text-3xl font-black text-slate-800 dark:text-white mb-2"},"New Context"),t("p",{class:"text-slate-500 text-sm"},"Create a separate space for your work.")],-1)),t("div",Rl,[t("div",null,[a[92]||(a[92]=t("label",{class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Context Name",-1)),se(t("input",{"onUpdate:modelValue":a[29]||(a[29]=r=>be.value.name=r),type:"text",placeholder:"e.g. My Side Hustle",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium"},null,512),[[ce,be.value.name]])]),t("div",null,[a[93]||(a[93]=t("label",{class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Type",-1)),t("div",Wl,[(d(),u(q,null,ee(["Personal","Work","Team"],r=>t("button",{key:r,onClick:K=>be.value.type=r,class:P(["py-3 rounded-xl text-[12px] font-black uppercase tracking-widest transition-all border border-transparent",be.value.type===r?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-50 dark:bg-slate-800 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"])},x(r),11,Ul)),64))])]),t("div",null,[a[94]||(a[94]=t("label",{class:"block text-[12px] font-black uppercase tracking-widest text-slate-400 mb-2 px-1"},"Purpose",-1)),se(t("input",{"onUpdate:modelValue":a[30]||(a[30]=r=>be.value.intent=r),type:"text",placeholder:"Briefly describe what this is for...",class:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium text-sm"},null,512),[[ce,be.value.intent]])]),t("div",zl,[t("button",{onClick:a[31]||(a[31]=r=>ze.value=!1),class:"flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl font-bold hover:bg-slate-200 transition-colors"},"Cancel"),t("button",{onClick:Ke,class:"flex-1 px-6 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-500/30 hover:bg-indigo-700 transition-all"}," CREATE CONTEXT ")])])])])):h("",!0),ue(ur,{show:j.value,type:"Workspace",id:N(b)?.id,entity:N(b),onClose:a[32]||(a[32]=r=>j.value=!1)},null,8,["show","id","entity"]),I.value?(d(),Xe(zt,{key:7,show:I.value,task:L.value,onClose:a[33]||(a[33]=r=>{I.value=!1,Te()}),onDelivered:a[34]||(a[34]=r=>Te())},null,8,["show","task"])):h("",!0),ue(Re,{name:"sheet"},{default:He(()=>[ie.value&&k.value?(d(),u("div",Kl,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:a[35]||(a[35]=r=>k.value=!1)}),t("div",Gl,[t("div",ql,[t("button",{onClick:a[36]||(a[36]=r=>k.value=!1),class:"flex items-center gap-2 text-slate-500 font-black uppercase tracking-widest text-xs"},[...a[96]||(a[96]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("path",{d:"M15 18l-6-6 6-6"})],-1),we(" Back ",-1)])]),a[97]||(a[97]=t("h3",{class:"text-sm font-black uppercase tracking-widest text-slate-800 dark:text-white"},"Filters",-1)),t("button",{onClick:at,class:"text-xs font-black uppercase text-indigo-600 px-2"},"Reset")]),t("div",Jl,[t("div",Xl,[a[98]||(a[98]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"View Mode",-1)),t("div",Zl,[(d(),u(q,null,ee(["board","list","calendar"],r=>t("button",{key:r,onClick:K=>T.value=r,class:P([[T.value===r?"bg-indigo-600 text-white shadow-md":"text-slate-500"],"py-3 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all"])},x(r),11,Ql)),64))])]),t("div",ed,[t("div",td,[a[101]||(a[101]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Toggles",-1)),t("div",nd,[t("button",{onClick:a[37]||(a[37]=r=>N(e).toggleGlobalMode()),class:P(["flex-1 h-14 flex items-center justify-center rounded-2xl transition-colors border",N(e).globalMode?"bg-indigo-600 text-white border-indigo-600":"bg-slate-50 dark:bg-slate-800 text-slate-400 border-slate-100 dark:border-slate-700"])},[...a[99]||(a[99]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})],-1),t("span",{class:"text-xs font-black uppercase tracking-widest"},"Global View",-1)])],2),N(b)&&ve.value==="owner"&&!N(e).globalMode?(d(),u("button",{key:0,onClick:a[38]||(a[38]=r=>j.value=!0),class:"flex-1 h-14 flex items-center justify-center rounded-2xl border bg-indigo-50 dark:bg-indigo-500/10 text-indigo-600 border-indigo-100 dark:border-indigo-500/20"},[...a[100]||(a[100]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[t("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),t("circle",{cx:"9",cy:"7",r:"4"}),t("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),t("line",{x1:"16",y1:"11",x2:"22",y2:"11"})],-1),t("span",{class:"text-xs font-black uppercase tracking-widest"},"Share",-1)])])):h("",!0)])]),t("div",ad,[t("div",sd,[t("div",od,[a[102]||(a[102]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400"},"Context",-1)),N(e).globalMode?h("",!0):(d(),u("span",rd,"Active Workspace Only"))]),se(t("select",{"onUpdate:modelValue":a[39]||(a[39]=r=>F.value.workspaceId=r),disabled:!N(e).globalMode,class:"w-full h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-6 text-sm font-bold shadow-sm outline-none disabled:opacity-50"},[a[103]||(a[103]=t("option",{value:null},"All Contexts",-1)),(d(!0),u(q,null,ee(N(e).workspaces,r=>(d(),u("option",{key:r.id,value:r.id},x(r.name),9,ld))),128))],8,id),[[Ze,F.value.workspaceId]])]),t("div",dd,[a[104]||(a[104]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Priority",-1)),t("div",ud,[(d(),u(q,null,ee([null,"low","medium","high","urgent"],r=>t("button",{key:r,onClick:K=>F.value.priority=r,class:P(["h-14 rounded-2xl border text-xs font-black uppercase tracking-widest transition-all",[F.value.priority===r?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent text-slate-500"]])},x(r||"All"),11,cd)),64))])]),t("div",pd,[a[105]||(a[105]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Timeline",-1)),t("div",gd,[(d(),u(q,null,ee(pt,r=>t("button",{key:r.id,onClick:K=>{F.value.timeRange=r.id,F.value.monthYear=""},class:P(["h-14 rounded-2xl border text-xs font-black uppercase tracking-widest transition-all",[F.value.timeRange===r.id?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent text-slate-500"]])},x(r.label),11,fd)),64))])]),t("div",vd,[a[107]||(a[107]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-slate-400 px-1"},"Custom Dates",-1)),t("div",md,[t("button",{onClick:a[40]||(a[40]=r=>F.value.timeRange="custom"),class:P(["h-14 rounded-2xl border text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2",[F.value.timeRange==="custom"?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-500/20":"bg-slate-50 dark:bg-slate-800 border-transparent text-slate-500"]])},[...a[106]||(a[106]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},[t("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1),we(" Custom Range ",-1)])],2),F.value.timeRange==="custom"?(d(),u("div",hd,[se(t("input",{type:"date","onUpdate:modelValue":a[41]||(a[41]=r=>F.value.customStart=r),class:"h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 text-xs font-bold shadow-inner"},null,512),[[ce,F.value.customStart]]),se(t("input",{type:"date","onUpdate:modelValue":a[42]||(a[42]=r=>F.value.customEnd=r),class:"h-14 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl px-4 text-xs font-bold shadow-inner"},null,512),[[ce,F.value.customEnd]])])):h("",!0)])])])])]),t("div",bd,[t("button",{onClick:a[43]||(a[43]=r=>k.value=!1),class:"w-full h-14 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl shadow-indigo-500/20"}," Apply View ")])])])):h("",!0)]),_:1}),N(e).globalMode?(d(),u("div",xd,[a[108]||(a[108]=t("div",{class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},null,-1)),a[109]||(a[109]=t("p",{class:"text-xs font-black uppercase tracking-[0.2em]"},"Global Management Mode  All Contexts",-1)),t("button",{onClick:a[44]||(a[44]=r=>N(e).toggleGlobalMode()),class:"ml-4 text-[10px] font-black uppercase bg-white/10 hover:bg-white/20 px-3 py-1 rounded-lg transition-all"},"Exit")])):h("",!0)])}}},Dd=tt(wd,[["__scopeId","data-v-144c2c82"]]);export{Dd as default};
